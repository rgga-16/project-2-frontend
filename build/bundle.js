var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function i(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let c,r;function a(e,t){return c||(c=document.createElement("a")),c.href=t,e===c.href}function l(t,n,o){t.$$.on_destroy.push(function(t,...n){if(null==t)return e;const o=t.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(n,o))}function d(e,t){e.appendChild(t)}function u(e,t,n){e.insertBefore(t,n||null)}function p(e){e.parentNode&&e.parentNode.removeChild(e)}function g(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function f(e){return document.createElement(e)}function m(e){return document.createTextNode(e)}function h(){return m(" ")}function v(){return m("")}function b(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function w(e){return function(t){return t.preventDefault(),e.call(this,t)}}function k(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function y(e,t){t=""+t,e.data!==t&&(e.data=t)}function _(e,t){e.value=null==t?"":t}function x(e,t,n,o){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}function $(e,t,n){for(let n=0;n<e.options.length;n+=1){const o=e.options[n];if(o.__value===t)return void(o.selected=!0)}n&&void 0===t||(e.selectedIndex=-1)}function q(e,t,n){e.classList[n?"add":"remove"](t)}function F(e){r=e}function T(e){(function(){if(!r)throw new Error("Function called outside component initialization");return r})().$$.on_mount.push(e)}const L=[],S=[];let C=[];const N=[],O=Promise.resolve();let M=!1;function j(e){C.push(e)}function A(e){N.push(e)}const H=new Set;let D=0;function P(){if(0!==D)return;const e=r;do{try{for(;D<L.length;){const e=L[D];D++,F(e),E(e.$$)}}catch(e){throw L.length=0,D=0,e}for(F(null),L.length=0,D=0;S.length;)S.pop()();for(let e=0;e<C.length;e+=1){const t=C[e];H.has(t)||(H.add(t),t())}C.length=0}while(L.length);for(;N.length;)N.pop()();M=!1,H.clear(),F(e)}function E(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(j)}}const R=new Set;let U;function I(){U={r:0,c:[],p:U}}function J(){U.r||o(U.c),U=U.p}function V(e,t){e&&e.i&&(R.delete(e),e.i(t))}function z(e,t,n,o){if(e&&e.o){if(R.has(e))return;R.add(e),U.c.push((()=>{R.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}else o&&o()}function B(e,t,n){const o=e.$$.props[t];void 0!==o&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}function W(e){e&&e.c()}function G(e,n,s,c){const{fragment:r,after_update:a}=e.$$;r&&r.m(n,s),c||j((()=>{const n=e.$$.on_mount.map(t).filter(i);e.$$.on_destroy?e.$$.on_destroy.push(...n):o(n),e.$$.on_mount=[]})),a.forEach(j)}function Y(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];C.forEach((o=>-1===e.indexOf(o)?t.push(o):n.push(o))),n.forEach((e=>e())),C=t}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Q(e,t){-1===e.$$.dirty[0]&&(L.push(e),M||(M=!0,O.then(P)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function K(t,i,s,c,a,l,d,u=[-1]){const g=r;F(t);const f=t.$$={fragment:null,ctx:[],props:l,update:e,not_equal:a,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(g?g.$$.context:[])),callbacks:n(),dirty:u,skip_bound:!1,root:i.target||g.$$.root};d&&d(f.root);let m=!1;if(f.ctx=s?s(t,i.props||{},((e,n,...o)=>{const i=o.length?o[0]:n;return f.ctx&&a(f.ctx[e],f.ctx[e]=i)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](i),m&&Q(t,e)),n})):[],f.update(),m=!0,o(f.before_update),f.fragment=!!c&&c(f.ctx),i.target){if(i.hydrate){const e=function(e){return Array.from(e.childNodes)}(i.target);f.fragment&&f.fragment.l(e),e.forEach(p)}else f.fragment&&f.fragment.c();i.intro&&V(t.$$.fragment),G(t,i.target,i.anchor,i.customElement),P()}F(g)}class X{$destroy(){Y(this,1),this.$destroy=e}$on(t,n){if(!i(n))return e;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const e=o.indexOf(n);-1!==e&&o.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Z=[];function ee(t,n=e){let o;const i=new Set;function c(e){if(s(t,e)&&(t=e,o)){const e=!Z.length;for(const e of i)e[1](),Z.push(e,t);if(e){for(let e=0;e<Z.length;e+=2)Z[e][0](Z[e+1]);Z.length=0}}}return{set:c,update:function(e){c(e(t))},subscribe:function(s,r=e){const a=[s,r];return i.add(a),1===i.size&&(o=n(c)||e),s(t),()=>{i.delete(a),0===i.size&&o&&(o(),o=null)}}}}const te=ee(""),ne=ee("");async function oe(e){return new Promise((t=>setTimeout(t,e)))}function ie(e,t,n){var o="";if(n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3),o="; expires="+i.toUTCString()}document.cookie=e+"="+(t||"")+o+"; path=/"}async function se(e,t){const n=await fetch("/log_action",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:e,data:t})});if(!n.ok)throw new Error("Failed to log action");const o=await n.json();console.log(o.message)}function ce(e,t){t.currentTime=function(e){let t=e.split(":");return 3600*parseInt(t[0])+60*parseInt(t[1])+parseInt(t[2].split(",")[0])+parseInt(t[2].split(",")[1])/1e3}(e),t.play()}function re(e){let t=parseInt(e.dialogue_id),n=document.getElementById(t);n?n.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}):console.log("Error: Can't focus on feedback. Corresponding transcript excerpt not found.")}function ae(t){let n,o,i,s,c,r,a,l,g;return{c(){n=f("div"),o=f("span"),i=m("["),s=m(t[0]),c=m("%] "),r=m(t[1]),a=h(),l=f("div"),g=f("div"),k(o,"class","status-text svelte-e99ivy"),k(g,"class","loading-bar-progress svelte-e99ivy"),x(g,"width",t[0]+"%"),k(l,"class","loading-bar-container svelte-e99ivy"),k(n,"class","container column centered spaced svelte-e99ivy")},m(e,t){u(e,n,t),d(n,o),d(o,i),d(o,s),d(o,c),d(o,r),d(n,a),d(n,l),d(l,g)},p(e,[t]){1&t&&y(s,e[0]),2&t&&y(r,e[1]),1&t&&x(g,"width",e[0]+"%")},i:e,o:e,d(e){e&&p(n)}}}function le(e,t,n){let{progress:o=0}=t,{status:i=""}=t;return e.$$set=e=>{"progress"in e&&n(0,o=e.progress),"status"in e&&n(1,i=e.status)},[o,i]}class de extends X{constructor(e){super(),K(this,e,le,ae,s,{progress:0,status:1})}}function ue(e,t,n){const o=e.slice();return o[55]=t[n][0],o[56]=t[n][1],o}function pe(e,t,n){const o=e.slice();return o[59]=t[n],o[61]=n,o}function ge(t){let n;return{c(){n=f("span"),n.textContent="No feedback moments highlighted."},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function fe(e){let t,n,o,i,s,c=e[2]+1+"",r=e[1].length+"";return{c(){t=f("span"),n=m(c),o=m(" of "),i=m(r),s=m(" feedback moments highlighted")},m(e,c){u(e,t,c),d(t,n),d(t,o),d(t,i),d(t,s)},p(e,t){4&t[0]&&c!==(c=e[2]+1+"")&&y(n,c),2&t[0]&&r!==(r=e[1].length+"")&&y(i,r)},d(e){e&&p(t)}}}function me(t){let n;return{c(){n=f("div"),n.innerHTML="<span>No discussion transcript loaded. Please first record or upload your discussion.</span>",k(n,"class","centered"),x(n,"height","100%"),x(n,"width","100%")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function he(e){let t,n=e[0].transcript_list,o=[];for(let t=0;t<n.length;t+=1)o[t]=ve(pe(e,n,t));return{c(){t=f("p");for(let e=0;e<o.length;e+=1)o[e].c();k(t,"class","padded")},m(e,n){u(e,t,n);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,null)},p(e,i){if(9&i[0]){let s;for(n=e[0].transcript_list,s=0;s<n.length;s+=1){const c=pe(e,n,s);o[s]?o[s].p(c,i):(o[s]=ve(c),o[s].c(),o[s].m(t,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){e&&p(t),g(o,e)}}}function ve(e){let t,n,i,s,c,r,a,l,g,v,w,_,x,$,q,F,T,L,S,C,N,O,M,j=e[59].start_timestamp+"",A=e[59].end_timestamp+"",H=e[59].speaker?e[59].speaker+":":"",D=e[59].dialogue+"";function P(){return e[18](e[59])}function E(){return e[19](e[59])}return{c(){t=f("div"),n=f("span"),i=m("["),s=m(j),c=m("]"),r=m(" \n                            - \n                            "),a=f("span"),l=m("["),g=m(A),v=m("]"),w=h(),_=f("br"),x=h(),$=m(H),q=h(),F=f("span"),L=h(),S=f("br"),C=f("br"),N=h(),k(n,"class","timestamp svelte-ir33lb"),k(a,"class","timestamp svelte-ir33lb"),k(F,"id",T=e[59].id),k(F,"class","svelte-ir33lb"),k(t,"class","spaced")},m(e,o){u(e,t,o),d(t,n),d(n,i),d(n,s),d(n,c),d(t,r),d(t,a),d(a,l),d(a,g),d(a,v),d(t,w),d(t,_),d(t,x),d(t,$),d(t,q),d(t,F),F.innerHTML=D,d(t,L),d(t,S),d(t,C),d(t,N),O||(M=[b(n,"click",P),b(a,"click",E)],O=!0)},p(t,n){e=t,1&n[0]&&j!==(j=e[59].start_timestamp+"")&&y(s,j),1&n[0]&&A!==(A=e[59].end_timestamp+"")&&y(g,A),1&n[0]&&H!==(H=e[59].speaker?e[59].speaker+":":"")&&y($,H),1&n[0]&&D!==(D=e[59].dialogue+"")&&(F.innerHTML=D),1&n[0]&&T!==(T=e[59].id)&&k(F,"id",T)},d(e){e&&p(t),O=!1,o(M)}}}function be(t){let n,o;return{c(){n=f("video"),n.innerHTML='<track kind="captions" src="blank.vtt" srclang="en"/>',a(n.src,o="video.mp4")||k(n,"src","video.mp4"),n.controls=!0,x(n,"width","100%"),x(n,"height","100%")},m(e,o){u(e,n,o),t[34](n)},p:e,d(e){e&&p(n),t[34](null)}}}function we(e){let t,n;return{c(){t=f("audio"),a(t.src,n=e[0].audio)||k(t,"src",n),t.controls=!0,x(t,"width","100%"),x(t,"height","100%")},m(n,o){u(n,t,o),e[33](t)},p(e,o){1&o[0]&&!a(t.src,n=e[0].audio)&&k(t,"src",n)},d(n){n&&p(t),e[33](null)}}}function ke(e){let t,n,o,i;return{c(){t=f("video"),n=f("track"),k(n,"kind","captions"),a(n.src,o="blank.vtt")||k(n,"src","blank.vtt"),k(n,"srclang","en"),a(t.src,i=e[0].video)||k(t,"src",i),t.controls=!0,x(t,"width","100%"),x(t,"height","100%")},m(o,i){u(o,t,i),d(t,n),e[32](t)},p(e,n){1&n[0]&&!a(t.src,i=e[0].video)&&k(t,"src",i)},d(n){n&&p(t),e[32](null)}}}function ye(e){let t,n,o="speaker"in e[0].transcript_list[0]&&_e(e),i=e[1]&&$e(e);return{c(){o&&o.c(),t=h(),i&&i.c(),n=v()},m(e,s){o&&o.m(e,s),u(e,t,s),i&&i.m(e,s),u(e,n,s)},p(e,s){"speaker"in e[0].transcript_list[0]?o?o.p(e,s):(o=_e(e),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),e[1]?i?i.p(e,s):(i=$e(e),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(e){o&&o.d(e),e&&p(t),i&&i.d(e),e&&p(n)}}}function _e(e){let t,n,o,i,s,c,r,a,l,v=Object.keys(e[0].transcript_list.reduce(Me,{})).length+"",b=Object.entries(e[0].transcript_list.reduce(je,{})),w=[];for(let t=0;t<b.length;t+=1)w[t]=xe(ue(e,b,t));return{c(){t=f("strong"),n=m("Number of participants: "),o=m(v),i=h(),s=f("br"),c=h(),r=f("ul");for(let e=0;e<w.length;e+=1)w[e].c();a=h(),l=f("br")},m(e,p){u(e,t,p),d(t,n),d(t,o),u(e,i,p),u(e,s,p),u(e,c,p),u(e,r,p);for(let e=0;e<w.length;e+=1)w[e]&&w[e].m(r,null);u(e,a,p),u(e,l,p)},p(e,t){if(1&t[0]&&v!==(v=Object.keys(e[0].transcript_list.reduce(Me,{})).length+"")&&y(o,v),1&t[0]){let n;for(b=Object.entries(e[0].transcript_list.reduce(je,{})),n=0;n<b.length;n+=1){const o=ue(e,b,n);w[n]?w[n].p(o,t):(w[n]=xe(o),w[n].c(),w[n].m(r,null))}for(;n<w.length;n+=1)w[n].d(1);w.length=b.length}},d(e){e&&p(t),e&&p(i),e&&p(s),e&&p(c),e&&p(r),g(w,e),e&&p(a),e&&p(l)}}}function xe(e){let t,n,o,i,s,c,r,a=e[55]+"",l=e[56]+"";return{c(){t=f("li"),n=m("- "),o=m(a),i=m(": "),s=m(l),c=m(" utterances"),r=h()},m(e,a){u(e,t,a),d(t,n),d(t,o),d(t,i),d(t,s),d(t,c),u(e,r,a)},p(e,t){1&t[0]&&a!==(a=e[55]+"")&&y(o,a),1&t[0]&&l!==(l=e[56]+"")&&y(s,l)},d(e){e&&p(t),e&&p(r)}}}function $e(e){let t,n,o,i,s,c,r,a,l,g,v,b,w=e[1].length+"",k=e[1].filter(Ae).length+"",_=e[1].filter(He).length+"";return{c(){t=f("strong"),n=m("Number of feedback utterances: "),o=m(w),i=h(),s=f("ul"),c=f("li"),r=m("- Number of positive feedback: "),a=m(k),l=h(),g=f("li"),v=m("- Number of critical feedback: "),b=m(_)},m(e,p){u(e,t,p),d(t,n),d(t,o),u(e,i,p),u(e,s,p),d(s,c),d(c,r),d(c,a),d(s,l),d(s,g),d(g,v),d(g,b)},p(e,t){2&t[0]&&w!==(w=e[1].length+"")&&y(o,w),2&t[0]&&k!==(k=e[1].filter(Ae).length+"")&&y(a,k),2&t[0]&&_!==(_=e[1].filter(He).length+"")&&y(b,_)},d(e){e&&p(t),e&&p(i),e&&p(s)}}}function qe(e){let t,n,i,s,c,r,l,g,v,w,y,_,$,F,T,L,C,N,O,M,j,H,D,P,E,R,U,I,J,Q,K,X,Z,ee,te,ne,oe,ie,se,ce,re,ae,le,ue,pe,ve,_e,xe,$e,qe,Fe,Te,Le,Se,Ce,Ne,Oe,Me,je,Ae,He,De,Pe,Ee,Re,Ue,Ie,Je,Ve,ze,Be,We,Ge,Ye,Qe,Ke,Xe,Ze,et,tt,nt,ot,it,st,ct,rt,at,lt,dt,ut,pt,gt,ft,mt,ht,vt,bt;function wt(t){e[14](t)}function kt(t){e[15](t)}let yt={};function _t(e,t){return e[1]&&e[1].length>0?fe:ge}void 0!==e[8]&&(yt.progress=e[8]),void 0!==e[7]&&(yt.status=e[7]),c=new de({props:yt}),S.push((()=>B(c,"progress",wt))),S.push((()=>B(c,"status",kt)));let xt=_t(e),$t=xt(e);function qt(e,t){return e[0]&&e[0].transcript_list?he:me}let Ft=qt(e),Tt=Ft(e);function Lt(e,t){return e[0]&&e[0].video?ke:e[0]&&e[0].audio?we:be}let St=Lt(e),Ct=St(e),Nt=e[0]&&e[0].transcript_list&&ye(e);return{c(){t=f("div"),n=f("div"),i=f("div"),s=f("div"),W(c.$$.fragment),g=h(),v=f("div"),$t.c(),w=h(),y=f("button"),_=f("img"),T=h(),L=f("button"),C=f("img"),M=h(),Tt.c(),j=h(),H=f("div"),D=f("div"),P=f("span"),P.textContent="Step 1: Upload your discussion.",E=h(),R=f("div"),U=f("div"),I=f("div"),J=f("label"),J.textContent="Upload your own video or audio:",Q=h(),K=f("div"),X=f("input"),Z=h(),ee=f("button"),te=f("img"),oe=m("\n                                    Upload file"),se=h(),ce=f("div"),re=f("label"),re.textContent="Upload your own transcript (in .srt only):",ae=h(),le=f("div"),ue=f("input"),pe=h(),ve=f("button"),_e=f("img"),$e=m("\n                                    Upload file"),Fe=h(),Te=f("div"),Le=f("span"),Le.textContent="Step 2: Highlight feedback in the discussion's transcript.",Se=h(),Ce=f("div"),Ne=f("div"),Oe=f("button"),Me=f("img"),Ae=m("\n                            Auto-detect "),He=f("br"),De=m(" Feedback"),Ee=h(),Re=f("button"),Ue=f("img"),Je=m("\n                            Highlight "),Ve=f("br"),ze=m(" Positive"),We=h(),Ge=f("button"),Ye=f("img"),Ke=m("\n                            Highlight "),Xe=f("br"),Ze=m(" Critical"),tt=h(),nt=f("button"),ot=f("img"),st=m("\n                            Remove "),ct=f("br"),rt=m(" Feedback"),lt=h(),dt=f("div"),ut=f("div"),Ct.c(),pt=h(),gt=f("div"),ft=f("h3"),ft.textContent="Discussion Transcript Details",mt=h(),Nt&&Nt.c(),k(s,"class","overlay centered padded"),q(s,"invisible",!1===e[6]),a(_.src,$="./logos/up-arrow-5-svgrepo-com.svg")||k(_,"src","./logos/up-arrow-5-svgrepo-com.svg"),k(_,"alt","Prev feedback"),k(_,"class","logo"),x(_,"width","1.5rem"),x(_,"height","1.5rem"),y.disabled=F=!e[1]||e[1].length<=0,a(C.src,N="./logos/down-arrow-5-svgrepo-com.svg")||k(C,"src","./logos/down-arrow-5-svgrepo-com.svg"),k(C,"alt","Next feedback"),k(C,"class","logo"),x(C,"width","1.5rem"),x(C,"height","1.5rem"),L.disabled=O=!e[1]||e[1].length<=0,k(v,"id","traverse-feedback-area"),k(v,"class","bordered spaced svelte-ir33lb"),k(i,"id","transcript-area"),k(i,"class","column bordered spaced svelte-ir33lb"),x(P,"font-weight","bold"),x(P,"text-decoration","underline"),x(P,"margin-left","1rem"),k(J,"for","file_upload"),x(X,"width","50%"),k(X,"name","file_upload"),k(X,"type","file"),k(X,"id","file_upload"),k(X,"accept","video/*, audio/*"),a(te.src,ne="./logos/upload-svgrepo-com.svg")||k(te,"src","./logos/upload-svgrepo-com.svg"),k(te,"alt","Upload file"),k(te,"class","mini-icon"),k(ee,"class","action-button centered column  svelte-ir33lb"),ee.disabled=ie=e[6]||!e[4]||0===e[4].length,k(K,"class","row centered spaced"),k(I,"class","column spaced centered"),k(re,"for","file_upload"),k(ue,"name","file_upload"),k(ue,"type","file"),k(ue,"id","file_upload"),k(ue,"accept"," .srt"),a(_e.src,xe="./logos/upload-svgrepo-com.svg")||k(_e,"src","./logos/upload-svgrepo-com.svg"),k(_e,"alt","Upload file"),k(_e,"class","mini-icon"),k(ve,"class","action-button centered column  svelte-ir33lb"),ve.disabled=qe=e[6]||!e[4]||0===e[4].length,k(le,"class","row centered"),k(ce,"class","column spaced centered"),k(U,"class","row centered spaced"),k(R,"class","row centered spaced"),k(D,"id","capture-feedback-panel"),k(D,"class","column bordered padded centered spaced svelte-ir33lb"),x(Le,"font-weight","bold"),x(Le,"text-decoration","underline"),x(Le,"margin-left","1rem"),a(Me.src,je="./logos/magnifying-glass-for-search-3-svgrepo-com.svg")||k(Me,"src","./logos/magnifying-glass-for-search-3-svgrepo-com.svg"),k(Me,"alt","Auto-detect Feedback"),k(Me,"class","logo"),k(Oe,"class","action-button svelte-ir33lb"),Oe.disabled=Pe=!e[0]||!e[0].transcript_list||e[6],a(Ue.src,Ie="./logos/highlight-green-svgrepo-com.svg")||k(Ue,"src","./logos/highlight-green-svgrepo-com.svg"),k(Ue,"alt","Highlight Positive Feedback"),k(Ue,"class","logo"),k(Re,"class","action-button svelte-ir33lb"),Re.disabled=Be=!e[0]||!e[0].transcript_list||e[6],a(Ye.src,Qe="./logos/highlight-red-svgrepo-com.svg")||k(Ye,"src","./logos/highlight-red-svgrepo-com.svg"),k(Ye,"alt","Highlight Critical Feedback"),k(Ye,"class","logo"),k(Ge,"class","action-button svelte-ir33lb"),Ge.disabled=et=!e[0]||!e[0].transcript_list||e[6],a(ot.src,it="./logos/erase-svgrepo-com.svg")||k(ot,"src","./logos/erase-svgrepo-com.svg"),k(ot,"alt","De-highlight Feedback"),k(ot,"class","logo"),k(nt,"class","action-button svelte-ir33lb"),nt.disabled=at=!e[0]||!e[0].transcript_list||e[6],k(Ne,"class","row centered spaced"),k(Ce,"class","centered"),x(Ce,"height","100%"),x(Ce,"width","100%"),k(Te,"id","feedback-highlight-panel"),k(Te,"class","column bordered spaced padded  svelte-ir33lb"),k(H,"id","transcript-buttons-area"),k(H,"class","row centered spaced svelte-ir33lb"),k(n,"id","left-panel"),k(n,"class","column spaced svelte-ir33lb"),k(ut,"id","media-player-area"),k(ut,"class","bordered centered svelte-ir33lb"),x(ft,"font-weight","bold"),x(ft,"text-decoration","underline"),k(gt,"id","feedback-details-area"),k(gt,"class","bordered padded spaced svelte-ir33lb"),x(gt,"overflow-y","auto"),k(dt,"id","right-panel"),k(dt,"class","column spaced svelte-ir33lb"),k(t,"div",""),k(t,"class","row spaced svelte-ir33lb"),k(t,"id","feedback-selector-page")},m(o,r){u(o,t,r),d(t,n),d(n,i),d(i,s),G(c,s,null),d(i,g),d(i,v),$t.m(v,null),d(v,w),d(v,y),d(y,_),d(v,T),d(v,L),d(L,C),d(i,M),Tt.m(i,null),d(n,j),d(n,H),d(H,D),d(D,P),d(D,E),d(D,R),d(R,U),d(U,I),d(I,J),d(I,Q),d(I,K),d(K,X),e[21](X),d(K,Z),d(K,ee),d(ee,te),d(ee,oe),d(U,se),d(U,ce),d(ce,re),d(ce,ae),d(ce,le),d(le,ue),e[25](ue),d(le,pe),d(le,ve),d(ve,_e),d(ve,$e),d(H,Fe),d(H,Te),d(Te,Le),d(Te,Se),d(Te,Ce),d(Ce,Ne),d(Ne,Oe),d(Oe,Me),d(Oe,Ae),d(Oe,He),d(Oe,De),d(Ne,Ee),d(Ne,Re),d(Re,Ue),d(Re,Je),d(Re,Ve),d(Re,ze),d(Ne,We),d(Ne,Ge),d(Ge,Ye),d(Ge,Ke),d(Ge,Xe),d(Ge,Ze),d(Ne,tt),d(Ne,nt),d(nt,ot),d(nt,st),d(nt,ct),d(nt,rt),d(t,lt),d(t,dt),d(dt,ut),Ct.m(ut,null),d(dt,pt),d(dt,gt),d(gt,ft),d(gt,mt),Nt&&Nt.m(gt,null),ht=!0,vt||(bt=[b(y,"click",e[16]),b(L,"click",e[17]),b(X,"change",e[20]),b(X,"change",e[22]),b(ee,"click",e[23]),b(ue,"change",e[24]),b(ue,"change",e[26]),b(ve,"click",e[27]),b(Oe,"click",e[28]),b(Re,"click",e[29]),b(Ge,"click",e[30]),b(nt,"click",e[31])],vt=!0)},p(e,t){const n={};!r&&256&t[0]&&(r=!0,n.progress=e[8],A((()=>r=!1))),!l&&128&t[0]&&(l=!0,n.status=e[7],A((()=>l=!1))),c.$set(n),(!ht||64&t[0])&&q(s,"invisible",!1===e[6]),xt===(xt=_t(e))&&$t?$t.p(e,t):($t.d(1),$t=xt(e),$t&&($t.c(),$t.m(v,w))),(!ht||2&t[0]&&F!==(F=!e[1]||e[1].length<=0))&&(y.disabled=F),(!ht||2&t[0]&&O!==(O=!e[1]||e[1].length<=0))&&(L.disabled=O),Ft===(Ft=qt(e))&&Tt?Tt.p(e,t):(Tt.d(1),Tt=Ft(e),Tt&&(Tt.c(),Tt.m(i,null))),(!ht||80&t[0]&&ie!==(ie=e[6]||!e[4]||0===e[4].length))&&(ee.disabled=ie),(!ht||80&t[0]&&qe!==(qe=e[6]||!e[4]||0===e[4].length))&&(ve.disabled=qe),(!ht||65&t[0]&&Pe!==(Pe=!e[0]||!e[0].transcript_list||e[6]))&&(Oe.disabled=Pe),(!ht||65&t[0]&&Be!==(Be=!e[0]||!e[0].transcript_list||e[6]))&&(Re.disabled=Be),(!ht||65&t[0]&&et!==(et=!e[0]||!e[0].transcript_list||e[6]))&&(Ge.disabled=et),(!ht||65&t[0]&&at!==(at=!e[0]||!e[0].transcript_list||e[6]))&&(nt.disabled=at),St===(St=Lt(e))&&Ct?Ct.p(e,t):(Ct.d(1),Ct=St(e),Ct&&(Ct.c(),Ct.m(ut,null))),e[0]&&e[0].transcript_list?Nt?Nt.p(e,t):(Nt=ye(e),Nt.c(),Nt.m(gt,null)):Nt&&(Nt.d(1),Nt=null)},i(e){ht||(V(c.$$.fragment,e),ht=!0)},o(e){z(c.$$.fragment,e),ht=!1},d(n){n&&p(t),Y(c),$t.d(),Tt.d(),e[21](null),e[25](null),Ct.d(),Nt&&Nt.d(),vt=!1,o(bt)}}}async function Fe(e){try{const t=await fetch("/fetch_audio",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({audio_path:e})}),n=await t.blob();return URL.createObjectURL(n)}catch(e){console.error(e)}}async function Te(e){if(!(await fetch("/embed_transcript",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transcript:e})})).ok)throw new Error("Failed to embed transcript list")}async function Le(e){const t=new FormData;t.append("file",e);const n=await fetch("/extract_audio_from_video",{method:"POST",body:t});if(!n.ok)return null;const o=await n.json();return[o.audiopath,o.videopath]}async function Se(e){const t=await fetch("/simplify_transcript",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transcript:e})});if(!t.ok)throw new Error("Failed to simplify transcript string");return(await t.json()).simplified_transcript}async function Ce(e){const t=await fetch("/transcript_to_list",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transcript:e})});if(!t.ok)throw new Error("Failed to convert transcript string to list of excerpts");return(await t.json()).transcript_list}async function Ne(e){let t=[],n=function(e){let t="";for(let n=0;n<e.length;n++){let o=e[n],i=o.id,s=o.start_timestamp,c=o.end_timestamp,r=o.dialogue;"speaker"in o&&""!=o.speaker?t+=`${i}\n${s} --\x3e ${c}\n${o.speaker}: ${r}\n\n`:t+=`${i}\n${s} --\x3e ${c}\n${r}\n\n`}return t}(e);const o=await fetch("/autodetect_feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transcript:n})});if(!o.ok)throw new Error("Failed to detect feedback");return t=(await o.json()).feedback_list,console.log(t),t}function Oe(e,t){t=parseInt(t);for(let n=0;n<e.length;n++){let o=e[n];if(o.id===t)return o}return console.log("Error: Can't find excerpt with id",t),null}const Me=(e,t)=>(e[t.speaker]=!0,e),je=(e,t)=>(e[t.speaker]=(e[t.speaker]||0)+1,e),Ae=e=>"positive"===e.type,He=e=>"critical"===e.type;function De(e,t,n){let o,i,s,c,r,{recording:a}=t,{feedback_list:l}=t,d=0,u=!1,p="",g=0;async function f(){if(c){for(const e of c)if(console.log(e.type),e.type.includes("video")){if((a||"video"in a||"audio"in a||"transcript_list"in a||l.length>0)&&(a.video||a.audio||a.transcript_list)){if(!window.confirm("Uploading a new video will overwrite this recording and clear highlighted feedback. Do you want to proceed?"))return}n(1,l=[]);let t=URL.createObjectURL(e);if(n(7,p="Uploading video..."),n(8,g=50),[s,i]=await Le(e),!s)throw s=null,i=null,new Error("Failed to extract audio from video");let o=await Fe(s),c=null,r=null;n(7,p="Done!"),n(8,g=100),oe(1500),n(8,g=0),n(0,a={video:t,audio:o,transcript:c,transcript_list:r}),s=null,i=null}else if(e.type.includes("audio")){if((a||"audio"in a||"video"in a||"transcript_list"in a||l.length>0)&&(a.audio||a.video||a.transcript_list)){if(!window.confirm("Uploading a new audio will overwrite this recording and clear highlighted feedback. Do you want to proceed?"))return}n(1,l=[]);let t=URL.createObjectURL(e);n(7,p="Uploading audio..."),n(8,g=50);const o=new FormData;o.append("audio",e);const c=await fetch("/download_mic",{method:"POST",body:o});if(!c.ok)throw s=null,i=null,new Error("Failed to save uploaded audio");let r=await c.json();s=r.filepath;let d=null,u=null;n(7,p="Done!"),n(8,g=100),await oe(1500),n(8,g=0),n(0,a={video:null,audio:t,transcript:d,transcript_list:u}),s=null,i=null}n(4,c=null),n(5,r.value="",r)}console.log("Recording",a),n(8,g=0),n(7,p="")}async function m(){if(c){for(const e of c)if(console.log(e.type),e.name.endsWith(".srt")){if((a||"transcript"in a||"transcript_list"in a||l.length>0)&&(a.transcript||a.transcript_list)){if(!window.confirm("Uploading a new transcript will overwrite the current transcript and clear highlighted feedback. Do you want to proceed?"))return}n(1,l=[]);let t=new FileReader;t.onload=async function(e){console.log(undefined),n(6,u=!0);let t=e.target.result;console.log(t),n(7,p="Cleaning transcript..."),n(8,g=30);let o=await Se(t);await oe(1500);let i=await Ce(o);console.log(i),n(7,p="Saving transcript as a database (this may take a while) ... "),n(8,g=60),await Te(i),console.log("Transcript list embedded"),n(7,p="Done!"),n(8,g=100),await oe(500),n(8,g=0);let s={video:null,audio:null,transcript:o,transcript_list:i};a&&("video"in a&&a.video||"audio"in a&&a.audio)?(n(0,a.transcript_list=i,a),n(0,a.transcript=o,a),n(0,a)):n(0,a=s),n(6,u=!1)},t.readAsText(e)}n(4,c=null),n(5,r.value="",r)}console.log("Recording",a),n(8,g=0),n(7,p="")}function h(e){const t=window.getSelection().toString();if(""===t.trim())return alert("Please highlight text in the transcript with your mouse to add as feedback."),"Error: No text highlighted";if(t){let o={quote:t,type:e,done:!1,speaker:null,dialogue_id:null},i=function(e,t){console.log(t);for(let n=0;n<e.length;n++){let o=e[n],i=o.dialogue;if(o.speaker&&(i=o.speaker+": "+i),i.includes(t))return o}return null}(a.transcript_list,t);return i?(o.id=l.length+1,o.dialogue_id=i.id,o.speaker=i.speaker,o.excerpt_reference=i,o.chatbot_messages=[{role:"system",content:"You are an expert senior interior designer who is tasked to assist less experienced interior designers like students and junior interior designers with their work by answering their questions on a wide range of interior design topics. "}],l.push(o),n(1,l),n(0,a),w([o]),o):(console.log("Error: Corresponding transcript excerpt not found"),alert("Error: Corresponding transcript excerpt not found. Feedback not added."),"Error: Corresponding transcript excerpt not found for selection: "+t)}return alert("Please highlight text in the transcript with your mouse to add as feedback."),"Error: No text highlighted"}function v(){const e=window.getSelection().toString();if(""===e.trim())return alert("Please highlight the feedback you want to remove using your mouse."),"Error: No text highlighted";if(e)for(let t=0;t<l.length;t++){let o=l[t];if(o.quote.includes(e)){let e=parseInt(o.dialogue_id),i=o.quote;return l.splice(t,1),n(1,l),b(e,i),o}}return"Error: Feedback not found for selection: "+e}function b(e,t){for(let o=0;o<a.transcript_list.length;o++){let i=a.transcript_list[o];if(i.id===e){let e=i.dialogue,o=e.indexOf("<mark"),s=e.indexOf("</mark>")+7,c=e.slice(0,o)+t+e.slice(s);i.dialogue=c,i.dialogue=i.dialogue,n(0,a);break}}}function w(e){for(let t=0;t<e.length;t++){let n=e[t],o=n.type;if("positive"!=n.type&&"critical"!=n.type)continue;let i,s=parseInt(n.dialogue_id);for(let e=0;e<a.transcript_list.length;e++){let t=a.transcript_list[e];if(t.id===s){i=t;break}}if(!i){console.log("Error: Corresponding transcript excerpt not found");continue}let c=i.dialogue,r=c.indexOf(n.quote),l=r+n.quote.length,d=c.slice(0,r)+`<mark class="${o}" style="background-color:${"positive"===o?"lightgreen":"lightcoral"};">${n.quote}</mark>`+c.slice(l);i.dialogue=d}n(0,a)}T((async()=>{}));return e.$$set=e=>{"recording"in e&&n(0,a=e.recording),"feedback_list"in e&&n(1,l=e.feedback_list)},[a,l,d,o,c,r,u,p,g,f,m,h,v,w,function(e){g=e,n(8,g)},function(e){p=e,n(7,p)},async()=>{d>0?n(2,d--,d):n(2,d=l.length-1),re(l[d]),await se("FeedbackSelector: Traverse to previous feedback",l[d])},async()=>{d<l.length-1?n(2,d++,d):n(2,d=0),re(l[d]),await se("FeedbackSelector: Traverse to next feedback",l[d])},async e=>{ce(e.start_timestamp,o),await se("FeedbackSelector: Seeked to start timestamp",e.start_timestamp)},async e=>{ce(e.end_timestamp,o),await se("FeedbackSelector: Seeked to end timestamp",e.end_timestamp)},function(){c=this.files,n(4,c)},function(e){S[e?"unshift":"push"]((()=>{r=e,n(5,r)}))},async e=>{n(4,c=e.target.files),await se("FeedbackSelector: Select media file",c)},async()=>{n(6,u=!0),await f(),n(6,u=!1),await se("FeedbackSelector: Upload media",a)},function(){c=this.files,n(4,c)},function(e){S[e?"unshift":"push"]((()=>{r=e,n(5,r)}))},async e=>{n(4,c=e.target.files),await se("FeedbackSelector: Select transcript file",c)},async()=>{n(6,u=!0),await m(),n(6,u=!1),await se("FeedbackSelector: Upload transcript",a)},async()=>{if(l.length>0){if(!window.confirm("Auto-detecting again will clear all feedback highlighted. Do you want to proceed?"))return}n(6,u=!0),n(8,g=0);let e=a.transcript_list,t=Math.ceil(e.length/4),o=[e.slice(0,t),e.slice(t,2*t),e.slice(2*t,3*t),e.slice(3*t,e.length)];n(7,p="Detecting feedback in transcript ...");for(let e=0;e<o.length;e++){let t=await Ne(o[e]);n(1,l=l.concat(t)),n(8,g=20*(e+1)),await oe(250)}n(1,l),console.log(l);for(let e=0;e<l.length;e++){n(1,l[e].id=e+1,l);let t=l[e].dialogue_id,o=Oe(a.transcript_list,t);n(1,l[e].excerpt_reference=o,l)}n(1,l),n(7,p="Highlighting feedback ..."),w(l),await oe(500),n(8,g=100),console.log("Feedback: "+l[0]),n(6,u=!1),n(8,g=0),n(7,p=""),await se("FeedbackSelector: Auto-detect feedback",l)},async()=>{let e=h("positive");await se("FeedbackSelector: Add positive feedback",e)},async()=>{let e=h("critical");await se("FeedbackSelector: Add critical feedback",e)},async()=>{let e=v();await se("FeedbackSelector: Remove feedback",e)},function(e){S[e?"unshift":"push"]((()=>{o=e,n(3,o)}))},function(e){S[e?"unshift":"push"]((()=>{o=e,n(3,o)}))},function(e){S[e?"unshift":"push"]((()=>{o=e,n(3,o)}))}]}class Pe extends X{constructor(e){super(),K(this,e,De,qe,s,{recording:0,feedback_list:1},null,[-1,-1])}}function Ee(t){let n,i,s,c,r,a,l;return{c(){n=f("div"),i=f("input"),s=h(),c=f("span"),r=m(t[0]),k(i,"type","range"),k(i,"min",t[1]),k(i,"max",t[2]),k(i,"step",t[3]),k(i,"id","rangeSlider"),k(i,"class","svelte-ohnqtn"),k(c,"id","sliderValue"),k(n,"class","centered spaced"),x(n,"width","100%"),x(n,"height","100%")},m(e,o){u(e,n,o),d(n,i),_(i,t[0]),d(n,s),d(n,c),d(c,r),a||(l=[b(i,"change",t[4]),b(i,"input",t[4])],a=!0)},p(e,[t]){2&t&&k(i,"min",e[1]),4&t&&k(i,"max",e[2]),8&t&&k(i,"step",e[3]),1&t&&_(i,e[0]),1&t&&y(r,e[0])},i:e,o:e,d(e){e&&p(n),a=!1,o(l)}}}function Re(e,t,n){let{min:o=0}=t,{max:i=2}=t,{step:s=.1}=t,{value:c=1}=t;return e.$$set=e=>{"min"in e&&n(1,o=e.min),"max"in e&&n(2,i=e.max),"step"in e&&n(3,s=e.step),"value"in e&&n(0,c=e.value)},[c,o,i,s,function(){c=function(e){return""===e?null:+e}(this.value),n(0,c)}]}class Ue extends X{constructor(e){super(),K(this,e,Re,Ee,s,{min:1,max:2,step:3,value:0})}}function Ie(e,t,n){const o=e.slice();return o[120]=t[n],o}function Je(e,t,n){const o=e.slice();return o[123]=t[n],o[111]=n,o}function Ve(e,t,n){const o=e.slice();return o[123]=t[n],o[111]=n,o}function ze(e,t,n){const o=e.slice();return o[115]=t[n],o[111]=n,o}function Be(e,t,n){const o=e.slice();return o[117]=t[n],o}function We(e,t,n){const o=e.slice();return o[112]=t[n],o}function Ge(e,t,n){const o=e.slice();return o[109]=t[n],o[111]=n,o}function Ye(e,t,n){const o=e.slice();return o[126]=t[n],o[111]=n,o}function Qe(e,t,n){const o=e.slice();return o[128]=t[n],o[111]=n,o}function Ke(e,t,n){const o=e.slice();return o[128]=t[n],o[129]=t,o[111]=n,o}function Xe(e,t,n){const o=e.slice();return o[126]=t[n],o[111]=n,o}function Ze(e){let t,n,o,i,s=e[126]+"";function c(){return e[46](e[111])}return{c(){t=f("button"),n=m(s),k(t,"class","tab svelte-o0vqi5"),q(t,"active",e[111]===e[13]),q(t,"right-bordered",e[111]<e[32].length-1)},m(e,s){u(e,t,s),d(t,n),o||(i=b(t,"click",c),o=!0)},p(n,o){e=n,8192&o[0]&&q(t,"active",e[111]===e[13])},d(e){e&&p(t),o=!1,i()}}}function et(e){let t,n=e[0],o=[];for(let t=0;t<n.length;t+=1)o[t]=rt(Qe(e,n,t));return{c(){t=f("div");for(let e=0;e<o.length;e+=1)o[e].c();k(t,"class","grid svelte-o0vqi5"),x(t,"overflow-y","auto")},m(e,n){u(e,t,n);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,null)},p(e,i){if(6657&i[0]|16&i[1]){let s;for(n=e[0],s=0;s<n.length;s+=1){const c=Qe(e,n,s);o[s]?o[s].p(c,i):(o[s]=rt(c),o[s].c(),o[s].m(t,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){e&&p(t),g(o,e)}}}function tt(e){let t,n,i,s,c,r,l,m,v,w,y,_,$,q,F,T,L,S,C,N,O,M,j,A,H,D;function P(e,t){return e[28]&&"quote"===e[27]?lt:at}let E=P(e),R=E(e);function U(e,t){return e[28]&&"speaker"===e[27]?ut:dt}let I=U(e),J=I(e),V=e[0],z=[];for(let t=0;t<V.length;t+=1)z[t]=kt(Ke(e,V,t));return{c(){t=f("div"),n=f("div"),i=f("span"),i.innerHTML="<strong>ID</strong>",s=h(),c=f("span"),r=f("strong"),r.textContent="Feedback",l=h(),m=f("button"),R.c(),v=h(),w=f("span"),y=f("strong"),y.textContent="Speaker",_=h(),$=f("button"),J.c(),q=h(),F=f("span"),F.innerHTML="<strong>Actions</strong>",T=h(),L=f("span"),S=f("strong"),S.textContent="Done?",C=h(),N=f("button"),O=f("img"),A=h();for(let e=0;e<z.length;e+=1)z[e].c();k(i,"class","centered id-col svelte-o0vqi5"),k(m,"class","action-button"),k(c,"class","centered row spaced feedback-col svelte-o0vqi5"),k($,"class","action-button"),k(w,"class","centered row spaced speaker-col svelte-o0vqi5"),k(F,"id","feedback-buttons"),k(F,"class","centered row actions-col svelte-o0vqi5"),x(O,"height","1rem"),x(O,"width","1rem"),a(O.src,M=e[28]&&"done"===e[27]?"./logos/ascending-sort-svgrepo-com.svg":"./logos/descending-sort-svgrepo-com.svg")||k(O,"src",M),k(O,"alt",j=e[28]&&"done"===e[27]?"Sort ascending":"Sort descending"),k(O,"class","mini-icon"),k(N,"class","action-button"),k(L,"class","centered row spaced done-col svelte-o0vqi5"),k(n,"class","feedback-header row svelte-o0vqi5"),k(t,"class","column"),x(t,"overflow-y","auto")},m(o,a){u(o,t,a),d(t,n),d(n,i),d(n,s),d(n,c),d(c,r),d(c,l),d(c,m),R.m(m,null),d(n,v),d(n,w),d(w,y),d(w,_),d(w,$),J.m($,null),d(n,q),d(n,F),d(n,T),d(n,L),d(L,S),d(L,C),d(L,N),d(N,O),d(t,A);for(let e=0;e<z.length;e+=1)z[e]&&z[e].m(t,null);H||(D=[b(m,"click",e[47]),b($,"click",e[48]),b(N,"click",e[49])],H=!0)},p(e,n){if(E!==(E=P(e))&&(R.d(1),R=E(e),R&&(R.c(),R.m(m,null))),I!==(I=U(e))&&(J.d(1),J=I(e),J&&(J.c(),J.m($,null))),402653184&n[0]&&!a(O.src,M=e[28]&&"done"===e[27]?"./logos/ascending-sort-svgrepo-com.svg":"./logos/descending-sort-svgrepo-com.svg")&&k(O,"src",M),402653184&n[0]&&j!==(j=e[28]&&"done"===e[27]?"Sort ascending":"Sort descending")&&k(O,"alt",j),39441&n[0]|280&n[1]){let o;for(V=e[0],o=0;o<V.length;o+=1){const i=Ke(e,V,o);z[o]?z[o].p(i,n):(z[o]=kt(i),z[o].c(),z[o].m(t,null))}for(;o<z.length;o+=1)z[o].d(1);z.length=V.length}},d(e){e&&p(t),R.d(),J.d(),g(z,e),H=!1,o(D)}}}function nt(e){let t,n,i,s,c,r,a,l,g,v,w,_,x,$,F,T,L,S,C=e[128].quote+"",N=e[128].speaker+"";function O(e,t){return"excerpt_reference"in e[128]?it:ot}let M=O(e),j=M(e);function A(){return e[59](e[128])}function H(...t){return e[60](e[128],...t)}return{c(){t=f("div"),n=f("span"),j.c(),i=h(),s=f("br"),c=h(),r=f("p"),a=m('"'),l=m(C),g=m('"'),v=h(),w=f("br"),_=h(),x=f("span"),$=m("- "),F=m(N),T=h(),k(n,"class","timestamp svelte-o0vqi5"),k(t,"class","positive-feedback-note svelte-o0vqi5"),q(t,"selected",e[128]===e[11])},m(e,o){u(e,t,o),d(t,n),j.m(n,null),d(t,i),d(t,s),d(t,c),d(t,r),d(r,a),d(r,l),d(r,g),d(t,v),d(t,w),d(t,_),d(t,x),d(x,$),d(x,F),d(t,T),L||(S=[b(n,"click",A),b(t,"click",H)],L=!0)},p(o,i){M===(M=O(e=o))&&j?j.p(e,i):(j.d(1),j=M(e),j&&(j.c(),j.m(n,null))),1&i[0]&&C!==(C=e[128].quote+"")&&y(l,C),1&i[0]&&N!==(N=e[128].speaker+"")&&y(F,N),2049&i[0]&&q(t,"selected",e[128]===e[11])},d(e){e&&p(t),j.d(),L=!1,o(S)}}}function ot(t){let n;return{c(){n=m("[00:00:00]")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function it(e){let t;function n(e,t){return"start_timestamp"in e[128].excerpt_reference?ct:st}let o=n(e),i=o(e);return{c(){i.c(),t=v()},m(e,n){i.m(e,n),u(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&p(t)}}}function st(t){let n;return{c(){n=m("[00:00:00]")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function ct(e){let t,n,o,i=e[128].excerpt_reference.start_timestamp+"";return{c(){t=m("["),n=m(i),o=m("]")},m(e,i){u(e,t,i),u(e,n,i),u(e,o,i)},p(e,t){1&t[0]&&i!==(i=e[128].excerpt_reference.start_timestamp+"")&&y(n,i)},d(e){e&&p(t),e&&p(n),e&&p(o)}}}function rt(e){let t,n="positive"===e[128].type&&nt(e);return{c(){n&&n.c(),t=v()},m(e,o){n&&n.m(e,o),u(e,t,o)},p(e,o){"positive"===e[128].type?n?n.p(e,o):(n=nt(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&p(t)}}}function at(e){let t,n;return{c(){t=f("img"),x(t,"height","1rem"),x(t,"width","1rem"),a(t.src,n="./logos/descending-sort-svgrepo-com.svg")||k(t,"src","./logos/descending-sort-svgrepo-com.svg"),k(t,"alt","Sort descending"),k(t,"class","mini-icon")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function lt(e){let t,n;return{c(){t=f("img"),x(t,"height","1rem"),x(t,"width","1rem"),a(t.src,n="./logos/ascending-sort-svgrepo-com.svg")||k(t,"src","./logos/ascending-sort-svgrepo-com.svg"),k(t,"alt","Sort ascending"),k(t,"class","mini-icon")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function dt(e){let t,n;return{c(){t=f("img"),x(t,"height","1rem"),x(t,"width","1rem"),a(t.src,n="./logos/descending-sort-svgrepo-com.svg")||k(t,"src","./logos/descending-sort-svgrepo-com.svg"),k(t,"alt","Sort descending"),k(t,"class","mini-icon")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function ut(e){let t,n;return{c(){t=f("img"),x(t,"height","1rem"),x(t,"width","1rem"),a(t.src,n="./logos/ascending-sort-svgrepo-com.svg")||k(t,"src","./logos/ascending-sort-svgrepo-com.svg"),k(t,"alt","Sort ascending"),k(t,"class","mini-icon")},m(e,n){u(e,t,n)},d(e){e&&p(t)}}}function pt(e){let t,n,i,s,c,r,a,l,g,v,w,_,x,$,F,T,L,S,C,N,O,M,j,A,H,D,P,E=e[128].id+"",R=(e[128].speaker?e[128].speaker:"Unknown")+"";function U(e,t){return"excerpt_reference"in e[128]?ft:gt}let I=U(e),J=I(e);function V(){return e[50](e[128])}function z(e,t){return e[128].positivised_quote&&e[128].show_paraphrased?bt:vt}let B=z(e),W=B(e);function G(){return e[53](e[128],e[129],e[111])}function Y(){return e[54](e[128])}function Q(){return e[55](e[128])}function K(){return e[56](e[128])}function X(){e[57].call(A,e[129],e[111])}function Z(...t){return e[58](e[128],...t)}return{c(){t=f("div"),n=f("span"),i=f("strong"),s=m(E),c=h(),r=f("div"),a=f("span"),l=f("span"),J.c(),g=h(),W.c(),v=h(),w=f("span"),_=m(R),x=h(),$=f("div"),F=f("button"),F.innerHTML='<img src="./logos/ai-positive-paraphrase.png" alt="Paraphrase positively" class="action-icon"/>\n                                            Positivize',T=h(),L=f("button"),L.innerHTML='<img src="./logos/add-ellipse-svgrepo-com.svg" alt="Add feedback as context" class="action-icon"/>\n                                            Select Context',S=h(),C=f("button"),C.innerHTML='<img src="./logos/note-svgrepo-com.svg" alt="Remove feedback" class="action-icon"/>\n                                            Add Note',N=h(),O=f("button"),O.innerHTML='<img src="./logos/delete-svgrepo-com.svg" alt="Remove feedback" class="action-icon"/>\n                                            Delete',M=h(),j=f("span"),A=f("input"),H=h(),k(n,"class","id-col svelte-o0vqi5"),k(l,"class","timestamp svelte-o0vqi5"),k(a,"class",""),k(r,"class","column feedback-col svelte-o0vqi5"),k(w,"class","centered speaker-col svelte-o0vqi5"),k(F,"class","action-button"),k(L,"class","action-button centered column"),k(C,"class","action-button"),k(O,"class","action-button"),k($,"id","feedback-buttons"),k($,"class","row centered spaced actions-col svelte-o0vqi5"),k(A,"type","checkbox"),k(j,"class","centered done-col svelte-o0vqi5"),k(t,"class","feedback-row row bordered padded svelte-o0vqi5"),q(t,"done",e[128].done),q(t,"selected",e[128]===e[11])},m(o,p){u(o,t,p),d(t,n),d(n,i),d(i,s),d(t,c),d(t,r),d(r,a),d(a,l),J.m(l,null),d(a,g),W.m(a,null),d(t,v),d(t,w),d(w,_),d(t,x),d(t,$),d($,F),d($,T),d($,L),d($,S),d($,C),d($,N),d($,O),d(t,M),d(t,j),d(j,A),A.checked=e[128].done,d(t,H),D||(P=[b(l,"click",V),b(F,"click",G),b(L,"click",Y),b(C,"click",Q),b(O,"click",K),b(A,"change",X),b(t,"click",Z)],D=!0)},p(n,o){e=n,1&o[0]&&E!==(E=e[128].id+"")&&y(s,E),I===(I=U(e))&&J?J.p(e,o):(J.d(1),J=I(e),J&&(J.c(),J.m(l,null))),B===(B=z(e))&&W?W.p(e,o):(W.d(1),W=B(e),W&&(W.c(),W.m(a,null))),1&o[0]&&R!==(R=(e[128].speaker?e[128].speaker:"Unknown")+"")&&y(_,R),1&o[0]&&(A.checked=e[128].done),1&o[0]&&q(t,"done",e[128].done),2049&o[0]&&q(t,"selected",e[128]===e[11])},d(e){e&&p(t),J.d(),W.d(),D=!1,o(P)}}}function gt(t){let n;return{c(){n=m("[00:00:00]")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function ft(e){let t;function n(e,t){return"start_timestamp"in e[128].excerpt_reference?ht:mt}let o=n(e),i=o(e);return{c(){i.c(),t=v()},m(e,n){i.m(e,n),u(e,t,n)},p(e,s){o===(o=n(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i.d(e),e&&p(t)}}}function mt(t){let n;return{c(){n=m("[00:00:00]")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function ht(e){let t,n,o,i=e[128].excerpt_reference.start_timestamp+"";return{c(){t=m("["),n=m(i),o=m("]")},m(e,i){u(e,t,i),u(e,n,i),u(e,o,i)},p(e,t){1&t[0]&&i!==(i=e[128].excerpt_reference.start_timestamp+"")&&y(n,i)},d(e){e&&p(t),e&&p(n),e&&p(o)}}}function vt(e){let t,n,o,i,s=e[128].quote+"",c=e[128].positivised_quote&&!e[128].show_paraphrased&&wt(e);return{c(){t=m('"'),n=m(s),o=m('" '),c&&c.c(),i=v()},m(e,s){u(e,t,s),u(e,n,s),u(e,o,s),c&&c.m(e,s),u(e,i,s)},p(e,t){1&t[0]&&s!==(s=e[128].quote+"")&&y(n,s),e[128].positivised_quote&&!e[128].show_paraphrased?c?c.p(e,t):(c=wt(e),c.c(),c.m(i.parentNode,i)):c&&(c.d(1),c=null)},d(e){e&&p(t),e&&p(n),e&&p(o),c&&c.d(e),e&&p(i)}}}function bt(e){let t,n,o,i,s,c,r,a=e[128].positivised_quote+"";function l(){return e[51](e[128])}return{c(){t=f("strong"),t.textContent="(Paraphrased Feedback)",n=m(' "'),o=m(a),i=m('" \n                                                '),s=f("span"),s.textContent="(View original quote)",k(s,"class","clickable svelte-o0vqi5")},m(e,a){u(e,t,a),u(e,n,a),u(e,o,a),u(e,i,a),u(e,s,a),c||(r=b(s,"click",l),c=!0)},p(t,n){e=t,1&n[0]&&a!==(a=e[128].positivised_quote+"")&&y(o,a)},d(e){e&&p(t),e&&p(n),e&&p(o),e&&p(i),e&&p(s),c=!1,r()}}}function wt(e){let t,n,o;function i(){return e[52](e[128])}return{c(){t=f("span"),t.textContent="(View paraphrased quote)",k(t,"class","clickable svelte-o0vqi5")},m(e,s){u(e,t,s),n||(o=b(t,"click",i),n=!0)},p(t,n){e=t},d(e){e&&p(t),n=!1,o()}}}function kt(e){let t,n="critical"===e[128].type&&pt(e);return{c(){n&&n.c(),t=v()},m(e,o){n&&n.m(e,o),u(e,t,o)},p(e,o){"critical"===e[128].type?n?n.p(e,o):(n=pt(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&p(t)}}}function yt(e){let t,n,o,i,s=e[126]+"";function c(){return e[61](e[111])}return{c(){t=f("button"),n=m(s),k(t,"class","tab svelte-o0vqi5"),q(t,"active",e[111]===e[12]),q(t,"right-bordered",e[111]<e[33].length-1)},m(e,s){u(e,t,s),d(t,n),o||(i=b(t,"click",c),o=!0)},p(n,o){e=n,4096&o[0]&&q(t,"active",e[111]===e[12])},d(e){e&&p(t),o=!1,i()}}}function _t(t){let n,i,s,c,r,a,l,g,m,v,w,y,_,$,F,T,L;function S(e,t){return e[3].length>0?Ft:qt}let C=S(t),N=C(t),O=t[29]&&Lt(t);function M(e,t){return 16&t[0]&&(F=null),null==F&&(F=!!(Object.keys(e[4]).length>0)),F?Ct:St}let j=M(t,[-1,-1,-1,-1,-1]),A=j(t);return{c(){n=f("div"),i=f("div"),s=f("div"),s.innerHTML='<span style="text-decoration: underline;"><strong>My Notes</strong></span>',c=h(),r=f("div"),N.c(),a=h(),O&&O.c(),l=h(),g=f("div"),m=f("button"),m.innerHTML='<img src="./logos/note-svgrepo-com.svg" alt="Add Note" class="action-icon"/>\n                                    Add Note',v=h(),w=f("button"),w.innerHTML='<img src="./logos/delete-svgrepo-com.svg" alt="Delete all notes" class="action-icon"/>\n                                    Delete all',y=h(),_=f("div"),_.innerHTML='<span style="text-decoration: underline;"><strong>My Feedback Notes</strong></span>',$=h(),A.c(),k(s,"class","row centered"),x(s,"width","100%"),x(s,"height","auto"),k(r,"class","column bordered"),x(r,"width","100%"),x(r,"height","auto"),q(r,"centered",t[3].length<=0),k(m,"class","action-button centered column"),k(w,"class","action-button centered column"),k(g,"class","row centered spaced"),k(i,"class","column centered spaced padded"),x(i,"width","100%"),x(i,"height","auto"),k(_,"class","row centered"),x(_,"width","100%"),x(_,"height","auto"),k(n,"class","column spaced padded"),x(n,"width","100%"),x(n,"height","100%"),x(n,"overflow-y","auto")},m(e,o){u(e,n,o),d(n,i),d(i,s),d(i,c),d(i,r),N.m(r,null),d(r,a),O&&O.m(r,null),d(i,l),d(i,g),d(g,m),d(g,v),d(g,w),d(n,y),d(n,_),d(n,$),A.m(n,null),T||(L=[b(m,"click",t[98]),b(w,"click",t[99])],T=!0)},p(e,t){C===(C=S(e))&&N?N.p(e,t):(N.d(1),N=C(e),N&&(N.c(),N.m(r,a))),e[29]?O?O.p(e,t):(O=Lt(e),O.c(),O.m(r,null)):O&&(O.d(1),O=null),8&t[0]&&q(r,"centered",e[3].length<=0),j===(j=M(e,t))&&A?A.p(e,t):(A.d(1),A=j(e),A&&(A.c(),A.m(n,null)))},i:e,o:e,d(e){e&&p(n),N.d(),O&&O.d(),A.d(),T=!1,o(L)}}}function xt(e){let t,n,o,i,s,c,r,l,g,m,v,w;const y=[Dt,Ht],_=[];function $(e,t){return e[5]?1:0}return l=$(e),g=_[l]=y[l](e),{c(){t=f("div"),n=f("div"),o=f("button"),i=f("img"),r=h(),g.c(),k(i,"class","action-icon"),a(i.src,s=e[5]?"./logos/exit-svgrepo-com.svg":"./logos/settings-svgrepo-com.svg")||k(i,"src",s),k(i,"alt",c=e[5]?"Exit hatbot settings":"Open chatbot settings"),x(i,"width","2.5rem"),x(i,"height","2.5rem"),k(o,"class","action-button"),k(n,"id","chatbot-header"),k(n,"class","padded row svelte-o0vqi5"),k(t,"id","chatbot-tab-content"),k(t,"class","column svelte-o0vqi5")},m(s,c){u(s,t,c),d(t,n),d(n,o),d(o,i),d(t,r),_[l].m(t,null),m=!0,v||(w=b(o,"click",e[67]),v=!0)},p(e,n){(!m||32&n[0]&&!a(i.src,s=e[5]?"./logos/exit-svgrepo-com.svg":"./logos/settings-svgrepo-com.svg"))&&k(i,"src",s),(!m||32&n[0]&&c!==(c=e[5]?"Exit hatbot settings":"Open chatbot settings"))&&k(i,"alt",c);let o=l;l=$(e),l===o?_[l].p(e,n):(I(),z(_[o],1,1,(()=>{_[o]=null})),J(),g=_[l],g?g.p(e,n):(g=_[l]=y[l](e),g.c()),V(g,1),g.m(t,null))},i(e){m||(V(g),m=!0)},o(e){z(g),m=!1},d(e){e&&p(t),_[l].d(),v=!1,w()}}}function $t(t){let n,o,i,s;function c(e,t){return e[2]&&e[2].video?en:e[2]&&e[2].audio?Zt:Xt}let r=c(t),a=r(t),l=t[2]&&t[2].transcript&&tn(t);return{c(){n=f("div"),o=f("div"),a.c(),i=h(),s=f("div"),l&&l.c(),k(o,"id","media-player-area"),k(o,"class","bordered svelte-o0vqi5"),k(s,"id","transcript-area"),k(s,"class","column bordered spaced svelte-o0vqi5"),k(n,"class","column padded spaced"),x(n,"width","100%"),x(n,"height","100%")},m(e,t){u(e,n,t),d(n,o),a.m(o,null),d(n,i),d(n,s),l&&l.m(s,null)},p(e,t){r===(r=c(e))&&a?a.p(e,t):(a.d(1),a=r(e),a&&(a.c(),a.m(o,null))),e[2]&&e[2].transcript?l?l.p(e,t):(l=tn(e),l.c(),l.m(s,null)):l&&(l.d(1),l=null)},i:e,o:e,d(e){e&&p(n),a.d(),l&&l.d()}}}function qt(t){let n;return{c(){n=f("div"),n.innerHTML="<span>No notes added. Feel free to add a note.</span>",k(n,"class","row padded space-between centered")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function Ft(e){let t,n=e[3],o=[];for(let t=0;t<n.length;t+=1)o[t]=Tt(Ve(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=v()},m(e,n){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,n);u(e,t,n)},p(e,i){if(8&i[0]|8192&i[1]){let s;for(n=e[3],s=0;s<n.length;s+=1){const c=Ve(e,n,s);o[s]?o[s].p(c,i):(o[s]=Tt(c),o[s].c(),o[s].m(t.parentNode,t))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){g(o,e),e&&p(t)}}}function Tt(e){let t,n,o,i,s,c,r,a,l,g=e[123]+"";function v(){return e[94](e[111],e[123])}return{c(){t=f("div"),n=f("p"),o=m(g),i=h(),s=f("div"),c=f("button"),c.innerHTML='<img src="./logos/delete-x-svgrepo-com.svg" alt="Delete note" class="mini-icon"/>',r=h(),k(c,"class","action-button"),k(s,"class","row spaced"),k(t,"class","row padded bordered space-between")},m(e,p){u(e,t,p),d(t,n),d(n,o),d(t,i),d(t,s),d(s,c),d(t,r),a||(l=b(c,"click",v),a=!0)},p(t,n){e=t,8&n[0]&&g!==(g=e[123]+"")&&y(o,g)},d(e){e&&p(t),a=!1,l()}}}function Lt(e){let t,n,i,s,c,r,a,l,g;return{c(){t=f("div"),n=f("input"),i=h(),s=f("div"),c=f("button"),c.textContent="Confirm",r=h(),a=f("button"),a.textContent="Cancel",k(n,"type","text"),k(n,"placeholder","Enter your note here"),k(c,"class","action-button"),k(a,"class","action-button"),k(s,"class","row spaced"),k(t,"class","row padded bordered space-between"),x(t,"width","100%"),x(t,"height","auto")},m(o,p){u(o,t,p),d(t,n),_(n,e[30]),d(t,i),d(t,s),d(s,c),d(s,r),d(s,a),l||(g=[b(n,"input",e[95]),b(c,"click",e[96]),b(a,"click",e[97])],l=!0)},p(e,t){1073741824&t[0]&&n.value!==e[30]&&_(n,e[30])},d(e){e&&p(t),l=!1,o(g)}}}function St(t){let n;return{c(){n=f("div"),n.innerHTML='<div class="row space-between centered" style="width:100%; height:auto;"><span>No feedback notes added. Feel free to add notes on your feedback by clicking &quot;Add Note&quot; on any of the critical feedback.</span></div>',k(n,"class","column centered spaced padded"),x(n,"width","100%"),x(n,"height","auto")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function Ct(e){let t,n=Object.keys(e[4]).map(Number).sort(cn),o=[];for(let t=0;t<n.length;t+=1)o[t]=At(Ie(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=v()},m(e,n){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,n);u(e,t,n)},p(e,i){if(1073741841&i[0]|24576&i[1]){let s;for(n=Object.keys(e[4]).map(Number).sort(cn),s=0;s<n.length;s+=1){const c=Ie(e,n,s);o[s]?o[s].p(c,i):(o[s]=At(c),o[s].c(),o[s].m(t.parentNode,t))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){g(o,e),e&&p(t)}}}function Nt(t){let n;return{c(){n=f("div"),n.innerHTML="<span>No notes added. Feel free to add a note.</span>",k(n,"class","row padded centered space-between")},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function Ot(e){let t,n=e[4][e[120]].notes,o=[];for(let t=0;t<n.length;t+=1)o[t]=Mt(Je(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=v()},m(e,n){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,n);u(e,t,n)},p(e,i){if(16&i[0]|8192&i[1]){let s;for(n=e[4][e[120]].notes,s=0;s<n.length;s+=1){const c=Je(e,n,s);o[s]?o[s].p(c,i):(o[s]=Mt(c),o[s].c(),o[s].m(t.parentNode,t))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){g(o,e),e&&p(t)}}}function Mt(e){let t,n,o,i,s,c,r,l,g,v,w,_,x=e[123]+"";function $(){return e[101](e[111],e[120],e[123])}return{c(){t=f("div"),n=f("p"),o=m(x),i=h(),s=f("div"),c=f("button"),r=f("img"),v=h(),a(r.src,l="./logos/delete-x-svgrepo-com.svg")||k(r,"src","./logos/delete-x-svgrepo-com.svg"),k(r,"alt",g="Delete note from Feedback ID"+e[120]),k(r,"class","mini-icon"),k(c,"class","action-button"),k(s,"class","row spaced"),k(t,"class","row padded bordered space-between")},m(e,a){u(e,t,a),d(t,n),d(n,o),d(t,i),d(t,s),d(s,c),d(c,r),d(t,v),w||(_=b(c,"click",$),w=!0)},p(t,n){e=t,16&n[0]&&x!==(x=e[123]+"")&&y(o,x),16&n[0]&&g!==(g="Delete note from Feedback ID"+e[120])&&k(r,"alt",g)},d(e){e&&p(t),w=!1,_()}}}function jt(e){let t,n,i,s,c,r,a,l,g;function m(){return e[103](e[120])}function v(){return e[104](e[120])}return{c(){t=f("div"),n=f("input"),i=h(),s=f("div"),c=f("button"),c.textContent="Confirm",r=h(),a=f("button"),a.textContent="Cancel",k(n,"type","text"),k(n,"placeholder","Enter your note here"),k(c,"class","action=button"),k(a,"class","action=button"),k(s,"class","row spaced"),k(t,"class","row padded bordered space-between"),x(t,"width","100%"),x(t,"height","auto")},m(o,p){u(o,t,p),d(t,n),_(n,e[30]),d(t,i),d(t,s),d(s,c),d(s,r),d(s,a),l||(g=[b(n,"input",e[102]),b(c,"click",m),b(a,"click",v)],l=!0)},p(t,o){e=t,1073741824&o[0]&&n.value!==e[30]&&_(n,e[30])},d(e){e&&p(t),l=!1,o(g)}}}function At(e){let t,n,i,s,c,r,a,l,g,v,w,_,$,F,T,L,S,C,N,O,M,j,A,H,D=e[120]+"",P=e[0][e[120]-1].quote.slice(0,70)+"";function E(){return e[100](e[120])}function R(e,t){return e[4][e[120]].notes.length>0?Ot:Nt}let U=R(e),I=U(e),J=e[4][e[120]].is_adding&&jt(e);function V(){return e[105](e[120])}function z(){return e[106](e[120])}return{c(){t=f("div"),n=f("div"),i=f("span"),s=f("strong"),c=m("Feedback #"),r=m(D),a=m(" Notes:"),l=h(),g=m(P),v=m("..."),w=h(),_=f("button"),_.innerHTML='<img src="./logos/delete-x-svgrepo-com.svg" alt="Remove feedback notes section" class="mini-icon"/>',$=h(),F=f("div"),I.c(),T=h(),J&&J.c(),L=h(),S=f("div"),C=f("button"),C.innerHTML='<img src="./logos/note-svgrepo-com.svg" alt="Add Note" class="action-icon"/>\n                                            Add Note',N=h(),O=f("button"),O.innerHTML='<img src="./logos/delete-svgrepo-com.svg" alt="Delete all notes" class="action-icon"/>\n                                            Delete all',M=h(),k(_,"class","action-button"),k(n,"class","row space-between"),x(n,"width","100%"),x(n,"height","auto"),k(F,"class","column bordered"),x(F,"width","100%"),x(F,"height","auto"),q(F,"centered",e[4][e[120]].notes.length<=0),k(C,"class","action-button centered column"),k(O,"class","action-button centered column"),k(S,"class","row centered spaced"),k(t,"id",j="feedback-note-section-"+e[120]),k(t,"class","column centered spaced padded svelte-o0vqi5"),x(t,"width","100%"),x(t,"height","auto")},m(e,o){u(e,t,o),d(t,n),d(n,i),d(i,s),d(s,c),d(s,r),d(s,a),d(i,l),d(i,g),d(i,v),d(n,w),d(n,_),d(t,$),d(t,F),I.m(F,null),d(F,T),J&&J.m(F,null),d(t,L),d(t,S),d(S,C),d(S,N),d(S,O),d(t,M),A||(H=[b(_,"click",E),b(C,"click",V),b(O,"click",z)],A=!0)},p(n,o){e=n,16&o[0]&&D!==(D=e[120]+"")&&y(r,D),17&o[0]&&P!==(P=e[0][e[120]-1].quote.slice(0,70)+"")&&y(g,P),U===(U=R(e))&&I?I.p(e,o):(I.d(1),I=U(e),I&&(I.c(),I.m(F,T))),e[4][e[120]].is_adding?J?J.p(e,o):(J=jt(e),J.c(),J.m(F,null)):J&&(J.d(1),J=null),16&o[0]&&q(F,"centered",e[4][e[120]].notes.length<=0),16&o[0]&&j!==(j="feedback-note-section-"+e[120])&&k(t,"id",j)},d(e){e&&p(t),I.d(),J&&J.d(),A=!1,o(H)}}}function Ht(e){let t,n,i,s,c,r,l,v,w,y,_,F,T,L,C,N,O,M,H,D,P,E,R,U,I,J,Q,K,X,Z,ee,te,ne,oe,ie,se,ce,re,ae,le,ue,pe,ge,fe,me,he,ve=Object.keys(e[31]),be=[];for(let t=0;t<ve.length;t+=1)be[t]=Pt(Be(e,ve,t));function we(t){e[85](t)}let ke={min:"0.0",max:"2.0",step:"0.1"};function ye(t){e[86](t)}void 0!==e[7]&&(ke.value=e[7]),T=new Ue({props:ke}),S.push((()=>B(T,"value",we)));let _e={min:"10.0",max:"4095.0",step:"1.0"};function xe(t){e[87](t)}function $e(t){e[88](t)}void 0!==e[8]&&(_e.value=e[8]),H=new Ue({props:_e}),S.push((()=>B(H,"value",ye)));let qe={};function Fe(e,t){return e[1].length>0?Rt:Et}void 0!==e[25]&&(qe.progress=e[25]),void 0!==e[24]&&(qe.status=e[24]),Q=new de({props:qe}),S.push((()=>B(Q,"progress",xe))),S.push((()=>B(Q,"status",$e)));let Te=Fe(e),Le=Te(e);return{c(){t=f("div"),n=f("div"),i=f("span"),i.innerHTML="<strong>Configurations</strong>",s=h(),c=f("div"),r=f("span"),r.textContent="Model:",l=h(),v=f("select");for(let e=0;e<be.length;e+=1)be[e].c();w=h(),y=f("div"),_=f("span"),_.textContent="Temperature:",F=h(),W(T.$$.fragment),C=h(),N=f("div"),O=f("span"),O.textContent="Max Output Tokens:",M=h(),W(H.$$.fragment),P=h(),E=f("div"),R=f("span"),R.innerHTML="<strong>Chatbot&#39;s Resources</strong>",U=h(),I=f("div"),J=f("div"),W(Q.$$.fragment),Z=h(),Le.c(),ee=h(),te=f("div"),ne=f("input"),oe=h(),ie=f("button"),se=f("img"),re=m("\n                                            Add Document"),ae=h(),le=f("button"),ue=f("img"),ge=m("\n                                            Remove All"),void 0===e[6]&&j((()=>e[84].call(v))),k(c,"class","row spaced centered"),x(c,"height","auto"),x(c,"width","100%"),k(y,"class","row spaced"),x(y,"height","auto"),x(y,"width","100%"),k(N,"class","row spaced"),x(N,"height","auto"),x(N,"width","100%"),k(n,"id","chatbot-configurations"),k(n,"class","column centered spaced padded bordered"),k(J,"class","overlay centered padded"),q(J,"invisible",!1===e[26]),k(I,"id","chatbot-rag-sources"),k(I,"class","column centered spaced padded bordered"),x(I,"width","100%"),x(I,"height","auto"),x(I,"overflow-y","auto"),k(ne,"type","file"),k(ne,"id","document_file_input"),k(ne,"class","gone"),a(se.src,ce="./logos/add-ellipse-svgrepo-com.svg")||k(se,"src","./logos/add-ellipse-svgrepo-com.svg"),k(se,"alt","Add document"),k(se,"class","action-icon"),ie.disabled=e[26],k(ie,"class","centered spaced column action-button"),a(ue.src,pe="./logos/delete-svgrepo-com.svg")||k(ue,"src","./logos/delete-svgrepo-com.svg"),k(ue,"alt","Remove all documents"),k(ue,"class","action-icon"),le.disabled=e[26],k(le,"class","centered spaced column action-button"),k(te,"id","chatbot-rag-buttons"),k(te,"class","row centered padded spaced"),x(te,"width","100%"),x(te,"height","auto"),k(E,"id","chatbot-rag-panel"),k(E,"class","column centered spaced padded bordered"),k(t,"id","chatbot-settings"),k(t,"class","column padded spaced"),x(t,"width","100%"),x(t,"height","95%")},m(o,a){u(o,t,a),d(t,n),d(n,i),d(n,s),d(n,c),d(c,r),d(c,l),d(c,v);for(let e=0;e<be.length;e+=1)be[e]&&be[e].m(v,null);$(v,e[6],!0),d(n,w),d(n,y),d(y,_),d(y,F),G(T,y,null),d(n,C),d(n,N),d(N,O),d(N,M),G(H,N,null),d(t,P),d(t,E),d(E,R),d(E,U),d(E,I),d(I,J),G(Q,J,null),d(I,Z),Le.m(I,null),d(E,ee),d(E,te),d(te,ne),e[90](ne),d(te,oe),d(te,ie),d(ie,se),d(ie,re),d(te,ae),d(te,le),d(le,ue),d(le,ge),fe=!0,me||(he=[b(v,"change",e[84]),b(ne,"change",e[91]),b(ie,"click",e[92]),b(le,"click",e[93])],me=!0)},p(e,t){if(1&t[1]){let n;for(ve=Object.keys(e[31]),n=0;n<ve.length;n+=1){const o=Be(e,ve,n);be[n]?be[n].p(o,t):(be[n]=Pt(o),be[n].c(),be[n].m(v,null))}for(;n<be.length;n+=1)be[n].d(1);be.length=ve.length}64&t[0]|1&t[1]&&$(v,e[6]);const n={};!L&&128&t[0]&&(L=!0,n.value=e[7],A((()=>L=!1))),T.$set(n);const o={};!D&&256&t[0]&&(D=!0,o.value=e[8],A((()=>D=!1))),H.$set(o);const i={};!K&&33554432&t[0]&&(K=!0,i.progress=e[25],A((()=>K=!1))),!X&&16777216&t[0]&&(X=!0,i.status=e[24],A((()=>X=!1))),Q.$set(i),(!fe||67108864&t[0])&&q(J,"invisible",!1===e[26]),Te===(Te=Fe(e))&&Le?Le.p(e,t):(Le.d(1),Le=Te(e),Le&&(Le.c(),Le.m(I,null))),(!fe||67108864&t[0])&&(ie.disabled=e[26]),(!fe||67108864&t[0])&&(le.disabled=e[26])},i(e){fe||(V(T.$$.fragment,e),V(H.$$.fragment,e),V(Q.$$.fragment,e),fe=!0)},o(e){z(T.$$.fragment,e),z(H.$$.fragment,e),z(Q.$$.fragment,e),fe=!1},d(n){n&&p(t),g(be,n),Y(T),Y(H),Y(Q),Le.d(),e[90](null),me=!1,o(he)}}}function Dt(e){let t,n,i,s,c,r,l,m,v,y,$,F,T,L,C,N,O,M,j,H,D,P,E,R,U,I,J,Q,K,X,Z,ee,te,ne,oe,ie,se,ce,re,ae,le,ue,pe,ge,fe,me,he,ve=e[14],be=[];for(let t=0;t<ve.length;t+=1)be[t]=Wt(We(e,ve,t));function we(t){e[71](t)}function ke(t){e[72](t)}let ye={};function _e(e,t){return e[15]?Yt:Gt}void 0!==e[23]&&(ye.progress=e[23]),void 0!==e[22]&&(ye.status=e[22]),m=new de({props:ye}),S.push((()=>B(m,"progress",we))),S.push((()=>B(m,"status",ke)));let xe=_e(e),$e=xe(e);function qe(e,t){return e[17]?Kt:Qt}let Fe=qe(e),Te=Fe(e);return{c(){t=f("div"),n=f("div"),n.innerHTML="<p><strong>assistant:</strong> Hello! How can I help you today?</p>",i=h();for(let e=0;e<be.length;e+=1)be[e].c();s=h(),c=f("div"),r=f("p"),r.innerHTML="<strong>assistant:</strong>",l=h(),W(m.$$.fragment),$=h(),F=f("div"),T=h(),L=f("div"),C=f("div"),N=f("div"),O=f("span"),O.innerHTML="<strong>Feedback Context:</strong>",M=h(),$e.c(),H=h(),D=f("div"),P=f("span"),P.innerHTML="<strong>Suggested messages:</strong>",E=h(),R=f("div"),R.textContent="Explain feedback.",U=h(),I=f("div"),I.textContent="Brainstorm actions.",Q=h(),K=f("div"),Te.c(),Z=h(),ee=f("div"),te=f("div"),ne=f("label"),oe=h(),ie=f("input"),se=h(),ce=f("button"),ce.innerHTML='<img src="./logos/image-svgrepo-com.svg" alt="Attach image" class="action-icon"/>',re=h(),ae=f("textarea"),le=h(),ue=f("button"),pe=f("img"),k(n,"class","assistant padded svelte-o0vqi5"),k(c,"class","assistant padded column svelte-o0vqi5"),q(c,"invisible",!1===e[21]),x(F,"height","20%"),x(F,"width","100%"),x(F,"background-color","white"),x(F,"color","white"),x(F,"cursor","default"),k(t,"id","chatbot-messages"),k(t,"class","column spaced bordered padded svelte-o0vqi5"),k(N,"id","contexts"),k(N,"class","column centered bordered svelte-o0vqi5"),k(N,"style",j=e[17]?"width:30%;":"width:45%;"),k(R,"class","suggested-message svelte-o0vqi5"),k(I,"class","suggested-message svelte-o0vqi5"),k(D,"id","suggested-messages"),k(D,"class","column centered bordered svelte-o0vqi5"),k(D,"style",J=e[17]?"width:30%;":"width:45%;"),k(K,"id","visual-context"),k(K,"class","column centered bordered svelte-o0vqi5"),k(K,"style",X=e[17]?"width:30%;":"display:none;"),k(C,"id","chatbot-utilities"),k(C,"class","row centered spaced svelte-o0vqi5"),k(ne,"for","image_upload"),x(ne,"display","none"),k(ie,"accept","image/png, image/jpeg"),k(ie,"type","file"),x(ie,"display","none"),k(ie,"id","image_upload"),k(ie,"name","image_upload"),k(ce,"class","action-button centered column"),k(te,"class","column spaced"),x(ae,"width","100%"),x(ae,"height","100%"),k(ae,"placeholder","Type your message here..."),k(ae,"id","textarea"),a(pe.src,ge="./logos/send-svgrepo-com.svg")||k(pe,"src","./logos/send-svgrepo-com.svg"),k(pe,"alt","Send"),k(pe,"class","action-icon"),k(ue,"class","action-button centered column"),ue.disabled=e[21],k(ee,"id","chatbot-input"),k(ee,"class","row spaced centered svelte-o0vqi5"),k(L,"id","chatbot-actions"),k(L,"class","column padded spaced centered svelte-o0vqi5")},m(o,a){u(o,t,a),d(t,n),d(t,i);for(let e=0;e<be.length;e+=1)be[e]&&be[e].m(t,null);d(t,s),d(t,c),d(c,r),d(c,l),G(m,c,null),d(t,$),d(t,F),u(o,T,a),u(o,L,a),d(L,C),d(C,N),d(N,O),d(N,M),$e.m(N,null),d(C,H),d(C,D),d(D,P),d(D,E),d(D,R),d(D,U),d(D,I),d(C,Q),d(C,K),Te.m(K,null),d(L,Z),d(L,ee),d(ee,te),d(te,ne),d(te,oe),d(te,ie),e[78](ie),d(te,se),d(te,ce),d(ee,re),d(ee,ae),_(ae,e[10]),d(ee,le),d(ee,ue),d(ue,pe),fe=!0,me||(he=[b(R,"click",w(e[74])),b(I,"click",w(e[75])),b(ie,"change",e[77]),b(ie,"change",e[79]),b(ce,"click",w(e[80])),b(ae,"input",e[81]),b(ae,"keydown",e[82]),b(ue,"click",w(e[83]))],me=!0)},p(e,n){if(20480&n[0]|4096&n[1]){let o;for(ve=e[14],o=0;o<ve.length;o+=1){const i=We(e,ve,o);be[o]?be[o].p(i,n):(be[o]=Wt(i),be[o].c(),be[o].m(t,s))}for(;o<be.length;o+=1)be[o].d(1);be.length=ve.length}const o={};!v&&8388608&n[0]&&(v=!0,o.progress=e[23],A((()=>v=!1))),!y&&4194304&n[0]&&(y=!0,o.status=e[22],A((()=>y=!1))),m.$set(o),(!fe||2097152&n[0])&&q(c,"invisible",!1===e[21]),xe===(xe=_e(e))&&$e?$e.p(e,n):($e.d(1),$e=xe(e),$e&&($e.c(),$e.m(N,null))),(!fe||131072&n[0]&&j!==(j=e[17]?"width:30%;":"width:45%;"))&&k(N,"style",j),(!fe||131072&n[0]&&J!==(J=e[17]?"width:30%;":"width:45%;"))&&k(D,"style",J),Fe===(Fe=qe(e))&&Te?Te.p(e,n):(Te.d(1),Te=Fe(e),Te&&(Te.c(),Te.m(K,null))),(!fe||131072&n[0]&&X!==(X=e[17]?"width:30%;":"display:none;"))&&k(K,"style",X),1024&n[0]&&_(ae,e[10]),(!fe||2097152&n[0])&&(ue.disabled=e[21])},i(e){fe||(V(m.$$.fragment,e),fe=!0)},o(e){z(m.$$.fragment,e),fe=!1},d(n){n&&p(t),g(be,n),Y(m),n&&p(T),n&&p(L),$e.d(),Te.d(),e[78](null),me=!1,o(he)}}}function Pt(t){let n,o,i=t[117]+"";return{c(){n=f("option"),o=m(i),n.__value=t[117],n.value=n.__value},m(e,t){u(e,n,t),d(n,o)},p:e,d(e){e&&p(n)}}}function Et(t){let n;return{c(){n=f("span"),n.textContent="No resources available."},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function Rt(e){let t,n=e[1],o=[];for(let t=0;t<n.length;t+=1)o[t]=Ut(ze(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=v()},m(e,n){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,n);u(e,t,n)},p(e,i){if(117440514&i[0]|1024&i[1]){let s;for(n=e[1],s=0;s<n.length;s+=1){const c=ze(e,n,s);o[s]?o[s].p(c,i):(o[s]=Ut(c),o[s].c(),o[s].m(t.parentNode,t))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){g(o,e),e&&p(t)}}}function Ut(e){let t,n,o,i,s,c,r,l,g,v=e[115]+"";function _(){return e[89](e[115],e[111])}return{c(){t=f("div"),n=m(v),o=h(),i=f("button"),s=f("img"),r=h(),a(s.src,c="./logos/delete-x-svgrepo-com.svg")||k(s,"src","./logos/delete-x-svgrepo-com.svg"),k(s,"alt","Remove document"),k(s,"class","mini-icon"),i.disabled=e[26],k(i,"class","action-button"),k(t,"class","row centered spaced bordered centered")},m(e,c){u(e,t,c),d(t,n),d(t,o),d(t,i),d(i,s),d(t,r),l||(g=b(i,"click",w(_)),l=!0)},p(t,o){e=t,2&o[0]&&v!==(v=e[115]+"")&&y(n,v),67108864&o[0]&&(i.disabled=e[26])},d(e){e&&p(t),l=!1,g()}}}function It(e){let t,n,i,s,c,r,a,l,g,v,w,_,x,$,q,F,T,L,S,C,N,O,M,j=e[112].role+"",A=e[112].content+"",H="context"in e[112]&&Jt(e),D="image"in e[112]&&Vt(e);function P(){return e[68](e[112])}let E="context"in e[112]&&zt(e);function R(){return e[70](e[112])}let U="image"in e[112]&&"user"===e[112].role&&Bt(e);return{c(){t=f("div"),n=f("div"),i=f("div"),H&&H.c(),s=h(),D&&D.c(),c=h(),r=f("div"),a=f("button"),a.innerHTML='<img src="./logos/note-svgrepo-com.svg" alt="Add to my notes" class="mini-icon"/>',l=h(),E&&E.c(),g=h(),v=f("button"),v.innerHTML='<img src="./logos/copy-svgrepo-com.svg" alt="Copy note" class="mini-icon"/>',_=h(),x=f("div"),$=f("p"),q=f("strong"),F=m(j),T=m(":"),L=h(),S=m(A),C=h(),U&&U.c(),k(i,"class","row spaced"),k(a,"class","action-button column centered"),k(v,"class","action-button column centered"),k(r,"class","row spaced"),k(n,"class",w="message-header row "+("context"in e[112]||"image"in e[112]?"with-context":"no-context")+" svelte-o0vqi5"),k(x,"class","row"),k(t,"class",N=e[112].role+" padded column spaced svelte-o0vqi5")},m(e,o){u(e,t,o),d(t,n),d(n,i),H&&H.m(i,null),d(i,s),D&&D.m(i,null),d(n,c),d(n,r),d(r,a),d(r,l),E&&E.m(r,null),d(r,g),d(r,v),d(t,_),d(t,x),d(x,$),d($,q),d(q,F),d(q,T),d($,L),d($,S),d(t,C),U&&U.m(t,null),O||(M=[b(a,"click",P),b(v,"click",R)],O=!0)},p(o,c){"context"in(e=o)[112]?H?H.p(e,c):(H=Jt(e),H.c(),H.m(i,s)):H&&(H.d(1),H=null),"image"in e[112]?D?D.p(e,c):(D=Vt(e),D.c(),D.m(i,null)):D&&(D.d(1),D=null),"context"in e[112]?E?E.p(e,c):(E=zt(e),E.c(),E.m(r,g)):E&&(E.d(1),E=null),16384&c[0]&&w!==(w="message-header row "+("context"in e[112]||"image"in e[112]?"with-context":"no-context")+" svelte-o0vqi5")&&k(n,"class",w),16384&c[0]&&j!==(j=e[112].role+"")&&y(F,j),16384&c[0]&&A!==(A=e[112].content+"")&&y(S,A),"image"in e[112]&&"user"===e[112].role?U?U.p(e,c):(U=Bt(e),U.c(),U.m(t,null)):U&&(U.d(1),U=null),16384&c[0]&&N!==(N=e[112].role+" padded column spaced svelte-o0vqi5")&&k(t,"class",N)},d(e){e&&p(t),H&&H.d(),D&&D.d(),E&&E.d(),U&&U.d(),O=!1,o(M)}}}function Jt(e){let t,n,o,i,s,c,r=e[112].context.id+"",a=(e[112].context.quote.length>40?e[112].context.quote.slice(0,40)+"...":e[112].context.quote)+"";return{c(){t=f("div"),n=f("small"),o=m("Context: F#"),i=m(r),s=h(),c=m(a),k(t,"class","context-tag feedback svelte-o0vqi5")},m(e,r){u(e,t,r),d(t,n),d(n,o),d(n,i),d(n,s),d(n,c)},p(e,t){16384&t[0]&&r!==(r=e[112].context.id+"")&&y(i,r),16384&t[0]&&a!==(a=(e[112].context.quote.length>40?e[112].context.quote.slice(0,40)+"...":e[112].context.quote)+"")&&y(c,a)},d(e){e&&p(t)}}}function Vt(e){let t,n,o,i="user"===e[112].role?"Attached image":"Response to image";return{c(){t=f("div"),n=f("small"),o=m(i),k(t,"class","context-tag image svelte-o0vqi5")},m(e,i){u(e,t,i),d(t,n),d(n,o)},p(e,t){16384&t[0]&&i!==(i="user"===e[112].role?"Attached image":"Response to image")&&y(o,i)},d(e){e&&p(t)}}}function zt(e){let t,n,o;function i(){return e[69](e[112])}return{c(){t=f("button"),t.innerHTML='<img src="./logos/note-svgrepo-com.svg" alt="Add feedback note" class="mini-icon"/>',k(t,"class","action-button column centered")},m(e,s){u(e,t,s),n||(o=b(t,"click",i),n=!0)},p(t,n){e=t},d(e){e&&p(t),n=!1,o()}}}function Bt(e){let t,n,o;return{c(){t=f("div"),n=f("img"),a(n.src,o=e[112].image)||k(n,"src",o),k(n,"alt","Visual context"),x(n,"width","50%"),x(n,"height","auto"),k(t,"class","column centered"),x(t,"width","100%")},m(e,o){u(e,t,o),d(t,n)},p(e,t){16384&t[0]&&!a(n.src,o=e[112].image)&&k(n,"src",o)},d(e){e&&p(t)}}}function Wt(e){let t,n="system"!=e[112].role&&It(e);return{c(){n&&n.c(),t=v()},m(e,o){n&&n.m(e,o),u(e,t,o)},p(e,o){"system"!=e[112].role?n?n.p(e,o):(n=It(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&p(t)}}}function Gt(t){let n;return{c(){n=f("span"),n.textContent="None. Add by selecting from the feedback."},m(e,t){u(e,n,t)},p:e,d(e){e&&p(n)}}}function Yt(e){let t,n,o,i,s,c,r,a,l,g,v,_=e[15].id+"",x=e[15].quote.slice(0,30)+"";return{c(){t=f("div"),n=f("span"),o=m("F#"),i=m(_),s=m(":"),c=m(x),r=m("..."),a=h(),l=f("button"),l.innerHTML='<img src="./logos/delete-x-svgrepo-com.svg" alt="Remove context" class="mini-icon"/>',k(t,"class","suggested-message row  svelte-o0vqi5")},m(p,f){u(p,t,f),d(t,n),d(n,o),d(n,i),d(n,s),d(n,c),d(n,r),d(t,a),d(t,l),g||(v=b(l,"click",w(e[73])),g=!0)},p(e,t){32768&t[0]&&_!==(_=e[15].id+"")&&y(i,_),32768&t[0]&&x!==(x=e[15].quote.slice(0,30)+"")&&y(c,x)},d(e){e&&p(t),g=!1,v()}}}function Qt(t){return{c:e,m:e,p:e,d:e}}function Kt(e){let t,n,o,i,s,c,r,l,g;return{c(){t=f("span"),t.innerHTML="<strong>Attached image:</strong>",n=h(),o=f("div"),i=f("img"),c=h(),r=f("button"),r.innerHTML='<img src="./logos/delete-x-svgrepo-com.svg" alt="Remove image" class="mini-icon"/>',a(i.src,s=e[17])||k(i,"src",s),k(i,"alt","Visual context"),x(i,"width","100%"),x(i,"height","100%"),k(o,"class","row"),x(o,"width","100%"),x(o,"height","100%")},m(s,a){u(s,t,a),u(s,n,a),u(s,o,a),d(o,i),d(o,c),d(o,r),l||(g=b(r,"click",w(e[76])),l=!0)},p(e,t){131072&t[0]&&!a(i.src,s=e[17])&&k(i,"src",s)},d(e){e&&p(t),e&&p(n),e&&p(o),l=!1,g()}}}function Xt(t){let n,o;return{c(){n=f("video"),n.innerHTML='<track kind="captions" src="blank.vtt" srclang="en"/>',a(n.src,o="video.mp4")||k(n,"src","video.mp4"),n.controls=!0,x(n,"width","100%"),x(n,"height","100%")},m(e,o){u(e,n,o),t[64](n)},p:e,d(e){e&&p(n),t[64](null)}}}function Zt(e){let t,n;return{c(){t=f("audio"),a(t.src,n=e[2].audio)||k(t,"src",n),t.controls=!0,x(t,"width","100%"),x(t,"height","100%")},m(n,o){u(n,t,o),e[63](t)},p(e,o){4&o[0]&&!a(t.src,n=e[2].audio)&&k(t,"src",n)},d(n){n&&p(t),e[63](null)}}}function en(e){let t,n,o,i;return{c(){t=f("video"),n=f("track"),k(n,"kind","captions"),a(n.src,o="blank.vtt")||k(n,"src","blank.vtt"),k(n,"srclang","en"),a(t.src,i=e[2].video)||k(t,"src",i),t.controls=!0,x(t,"width","100%"),x(t,"height","100%")},m(o,i){u(o,t,i),d(t,n),e[62](t)},p(e,n){4&n[0]&&!a(t.src,i=e[2].video)&&k(t,"src",i)},d(n){n&&p(t),e[62](null)}}}function tn(e){let t,n=e[2].transcript_list,o=[];for(let t=0;t<n.length;t+=1)o[t]=nn(Ge(e,n,t));return{c(){t=f("p");for(let e=0;e<o.length;e+=1)o[e].c();k(t,"class","spaced padded")},m(e,n){u(e,t,n);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,null)},p(e,i){if(516&i[0]){let s;for(n=e[2].transcript_list,s=0;s<n.length;s+=1){const c=Ge(e,n,s);o[s]?o[s].p(c,i):(o[s]=nn(c),o[s].c(),o[s].m(t,null))}for(;s<o.length;s+=1)o[s].d(1);o.length=n.length}},d(e){e&&p(t),g(o,e)}}}function nn(e){let t,n,i,s,c,r,a,l,g,v,w,_,x,$,q,F,T,L,S,C,N,O=e[109].start_timestamp+"",M=e[109].end_timestamp+"",j=e[109].speaker?e[109].speaker+":":"",A=e[109].dialogue+"";function H(){return e[65](e[109])}function D(){return e[66](e[109])}return{c(){t=f("span"),n=m("["),i=m(O),s=m("]"),c=m(" - "),r=f("span"),a=m("["),l=m(M),g=m("]"),v=h(),w=f("br"),_=h(),x=m(j),$=h(),q=f("span"),T=h(),L=f("br"),S=f("br"),k(t,"class","timestamp svelte-o0vqi5"),k(r,"class","timestamp svelte-o0vqi5"),k(q,"id",F=e[109].id),k(q,"class","svelte-o0vqi5")},m(e,o){u(e,t,o),d(t,n),d(t,i),d(t,s),u(e,c,o),u(e,r,o),d(r,a),d(r,l),d(r,g),u(e,v,o),u(e,w,o),u(e,_,o),u(e,x,o),u(e,$,o),u(e,q,o),q.innerHTML=A,u(e,T,o),u(e,L,o),u(e,S,o),C||(N=[b(t,"click",H),b(r,"click",D)],C=!0)},p(t,n){e=t,4&n[0]&&O!==(O=e[109].start_timestamp+"")&&y(i,O),4&n[0]&&M!==(M=e[109].end_timestamp+"")&&y(l,M),4&n[0]&&j!==(j=e[109].speaker?e[109].speaker+":":"")&&y(x,j),4&n[0]&&A!==(A=e[109].dialogue+"")&&(q.innerHTML=A),4&n[0]&&F!==(F=e[109].id)&&k(q,"id",F)},d(e){e&&p(t),e&&p(c),e&&p(r),e&&p(v),e&&p(w),e&&p(_),e&&p(x),e&&p($),e&&p(q),e&&p(T),e&&p(L),e&&p(S),C=!1,o(N)}}}function on(e){let t,n,o,i,s,c,r,a,l,m,v,w,y,_,$,q,F,T=e[32],L=[];for(let t=0;t<T.length;t+=1)L[t]=Ze(Xe(e,T,t));function S(e,t){return 0===e[13]?tt:1===e[13]?et:void 0}let C=S(e),N=C&&C(e),O=e[33],M=[];for(let t=0;t<O.length;t+=1)M[t]=yt(Ye(e,O,t));const j=[$t,xt,_t],A=[];function H(e,t){return 0===e[12]?0:1===e[12]?1:2===e[12]?2:-1}return~(y=H(e))&&(_=A[y]=j[y](e)),{c(){t=f("div"),n=f("div"),o=f("div"),i=f("div");for(let e=0;e<L.length;e+=1)L[e].c();s=h(),c=f("div"),N&&N.c(),r=h(),a=f("div"),l=f("div"),m=f("div");for(let e=0;e<M.length;e+=1)M[e].c();v=h(),w=f("div"),_&&_.c(),k(i,"class","tab-header svelte-o0vqi5"),k(c,"class","tab-content padded svelte-o0vqi5"),x(c,"overflow-y","auto"),k(o,"class","tabbed-area bordered svelte-o0vqi5"),k(n,"id","left-panel"),k(n,"class","column svelte-o0vqi5"),k(m,"class","tab-header svelte-o0vqi5"),k(w,"class","tab-content column svelte-o0vqi5"),k(l,"class","tabbed-area bordered svelte-o0vqi5"),k(a,"id","right-panel"),k(a,"class","column  svelte-o0vqi5"),k(t,"id","feedback-list-page"),k(t,"class","spaced svelte-o0vqi5")},m(p,g){u(p,t,g),d(t,n),d(n,o),d(o,i);for(let e=0;e<L.length;e+=1)L[e]&&L[e].m(i,null);d(o,s),d(o,c),N&&N.m(c,null),d(t,r),d(t,a),d(a,l),d(l,m);for(let e=0;e<M.length;e+=1)M[e]&&M[e].m(m,null);d(l,v),d(l,w),~y&&A[y].m(w,null),$=!0,q||(F=b(t,"window:click",e[36]),q=!0)},p(e,t){if(8192&t[0]|2&t[1]){let n;for(T=e[32],n=0;n<T.length;n+=1){const o=Xe(e,T,n);L[n]?L[n].p(o,t):(L[n]=Ze(o),L[n].c(),L[n].m(i,null))}for(;n<L.length;n+=1)L[n].d(1);L.length=T.length}if(C===(C=S(e))&&N?N.p(e,t):(N&&N.d(1),N=C&&C(e),N&&(N.c(),N.m(c,null))),4096&t[0]|4&t[1]){let n;for(O=e[33],n=0;n<O.length;n+=1){const o=Ye(e,O,n);M[n]?M[n].p(o,t):(M[n]=yt(o),M[n].c(),M[n].m(m,null))}for(;n<M.length;n+=1)M[n].d(1);M.length=O.length}let n=y;y=H(e),y===n?~y&&A[y].p(e,t):(_&&(I(),z(A[n],1,1,(()=>{A[n]=null})),J()),~y?(_=A[y],_?_.p(e,t):(_=A[y]=j[y](e),_.c()),V(_,1),_.m(w,null)):_=null)},i(e){$||(V(_),$=!0)},o(e){z(_),$=!1},d(e){e&&p(t),g(L,e),N&&N.d(),g(M,e),~y&&A[y].d(),q=!1,F()}}}function sn(e,t=!0){e.show_paraphrased=t}const cn=(e,t)=>e-t;function rn(e,t,n){let o,i,s,c,r,a,l,d,{feedback_list:u}=t,{recording:p}=t,{documents:g=[]}=t,f=[],m={1:{notes:["This is a note","This is another note"],is_adding:!1},2:{notes:["This is a note","This is another note"],is_adding:!1},3:{notes:["This is a note","This is another note"],is_adding:!1}},h=!1,v={"GPT-4o":"gpt-4o","Interior Designer GPT":"ft:gpt-3.5-turbo-0125:im-lab:int-des-full:9b2qf12W"},b="GPT-4o",w=0,k=256,y="",_=0,x=0,$=[{content:"You are an expert senior interior designer who is tasked to assist less experienced interior designers like students and junior interior designers with their work by answering their questions on a wide range of interior design topics. ",role:"system"}],q=["Critical Feedback","Positive Feedback"],F=["Transcript","Chatbot","Notes"],T=!1,L="",C=0,N="",O=0,M=!1;function j(e){i===e&&n(11,i=null),n(0,u=u.filter((t=>t!==e))),n(0,u)}function A(e,t){n(11,i=e),t.stopPropagation()}let H=null,D=!0;function P(e){H===e?n(28,D=!D):(n(27,H=e),n(28,D=!0)),u.sort(((t,n)=>t[e]<n[e]?D?-1:1:t[e]>n[e]?D?1:-1:0)),n(0,u)}async function E(e,t=null){let o=e.slice();if(T)return void alert("Please wait for the current message to be processed.");if(n(21,T=!0),""===e.trim())return void alert("Please enter a message.");let i={role:"user",content:e};if(t){i.context=t;let e="\n\nHere is the piece of feedback as context.";e+="\nF#"+t.id+': "'+t.speaker+": "+t.quote+'".',o+=e}let s={message:o,image_data:null,max_output_tokens:k,temperature:w,model:v[b]};if(r&&(i.image=r),c){n(22,L="Uploading image..."),n(23,C=30);let e=await async function(e){return new Promise(((t,n)=>{const o=new FileReader;o.onload=()=>t(o.result),o.onerror=e=>n(e),o.readAsDataURL(e)}))}(c);s.image_data=e}$.push(i),n(14,$),console.log($),n(0,u),n(22,L="Thinking..."),n(23,C=50);const a=await fetch("/message_chatbot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(!a.ok)throw new Error("Failed to send message");let l=(await a.json()).chatbot_response;n(22,L="Done!"),n(23,C=100),await oe(1200),await se("FeedbackList: Sent message",[e,t,r]);let d={role:"assistant",content:l};t&&(d.context=t),r&&(d.image=r),$.push(d),n(14,$),n(0,u),n(21,T=!1),n(23,C=0)}function R(e){s===e?alert("This feedback is already added as context."):n(15,s=e)}async function U(e){const t=e.target.files;if(t)for(const e of t){const t=new FormData;t.append("file",e),n(25,O=50),n(24,N="Adding document... (this may take a while)");const o=await fetch("/add_document",{method:"POST",body:t});if(!o.ok)return null;let i=(await o.json()).document_name;g.push(i),n(1,g),n(24,N="Done!"),n(25,O=100),await oe(1200)}}async function I(e,t){return(await fetch("/delete_document",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e})})).ok?(n(1,g=g.splice(t,1)),n(1,g),e):"failed"}async function J(){n(24,N="Removing all documents...");for(let e=0;e<g.length;e++){let t=g[e];n(25,O=e/g.length*100),await I(t,e)}n(24,N="Done!"),n(25,O=100),await oe(1e3),n(25,O=0)}let V=!1,z="";async function B(e,t=null,o=null){""!=e.trim()?t?t in m?(m[t].notes.push(e),n(4,m)):n(4,m[t]={notes:[e],is_adding:!1},m):(f.push(e),n(3,f)):alert("Please enter a note.")}async function W(e,t=null){t?(m[t].notes.splice(e,1),n(4,m)):(f.splice(e,1),n(3,f))}async function G(e=null){n(29,V=!1),B(z,e),n(30,z="")}return e.$$set=e=>{"feedback_list"in e&&n(0,u=e.feedback_list),"recording"in e&&n(2,p=e.recording),"documents"in e&&n(1,g=e.documents)},[u,g,p,f,m,h,b,w,k,o,y,i,_,x,$,s,c,r,a,l,d,T,L,C,N,O,M,H,D,V,z,v,q,F,j,A,function(){n(11,i=null)},P,E,R,U,I,J,B,W,G,async e=>{n(13,x=e),await se("FeedbackList: Switched left panel tab",q[x])},async()=>{P("quote"),await se("FeedbackList: Sorted feedback","quote")},async()=>{P("speaker"),await se("FeedbackList: Sorted feedback","speaker")},async()=>{P("done"),await se("FeedbackList: Sorted feedback","done")},async e=>{n(12,_=0),"excerpt_reference"in e&&"start_timestamp"in e.excerpt_reference&&(ce(e.excerpt_reference.start_timestamp,o),await se("FeedbackList: Seeked to timestamp",e.excerpt_reference.start_timestamp))},async e=>{sn(e,!1),await se("FeedbackList: Show original quote",e.original_quote)},async e=>{sn(e,!0),await se("FeedbackList: Show paraphrased quote",e.positivised_quote)},async(e,t,o)=>{n(0,t[o].positivised_quote=await async function(e,t){const n=await fetch("/positively_paraphrase_feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({feedback:e,excerpt:t})});if(!n.ok)throw new Error("Failed to detect feedback");return(await n.json()).paraphrased_feedback}(e.quote,e.excerpt_reference.dialogue),u),sn(e,!0),n(0,u),await se("FeedbackList: Positivize Quote",e)},async e=>{R(e),await se("FeedbackList: Add as context",s)},async e=>{n(12,_=2),e.id in m?n(4,m[e.id].is_adding=!0,m):n(4,m[e.id]={notes:[],is_adding:!0},m)},async e=>{j(e),await se("FeedbackList: Remove feedback",e)},function(e,t){e[t].done=this.checked,n(0,u)},async(e,t)=>{A(e,t),re(e),await se("FeedbackList: Selected feedback",e)},async e=>{n(12,_=0),"excerpt_reference"in e&&"start_timestamp"in e.excerpt_reference&&(ce(e.excerpt_reference.start_timestamp,o),await se("FeedbackList: Seeked to timestamp",e.excerpt_reference.start_timestamp))},async(e,t)=>{A(e,t),re(e),await se("FeedbackList: Selected feedback",e)},async e=>{n(12,_=e),await se("FeedbackList: Switched right panel tab",F[_])},function(e){S[e?"unshift":"push"]((()=>{o=e,n(9,o)}))},function(e){S[e?"unshift":"push"]((()=>{o=e,n(9,o)}))},function(e){S[e?"unshift":"push"]((()=>{o=e,n(9,o)}))},async e=>{ce(e.start_timestamp,o),await se("FeedbackList: Seek to start timestamp",e.start_timestamp)},async e=>{ce(e.end_timestamp,o),await se("FeedbackList: Seek to end timestamp",e.end_timestamp)},async()=>{n(5,h=!h),await se("FeedbackList: Toggled chatbot settings",h)},async e=>{n(12,_=2),B(e.role+": "+e.content),await se("FeedbackList: Added note to My Notes",e)},async e=>{n(12,_=2),B(e.role+": "+e.content,"id"in e.context?e.context.id:null),await se("FeedbackList: Added note to Feedback ID"+e.context.id,e)},async e=>{navigator.clipboard.writeText(e.role+": "+e.content),await se("FeedbackList: Copied message",e)},function(e){C=e,n(23,C)},function(e){L=e,n(22,L)},async()=>{await se("FeedbackList: Removed context",s),n(15,s=null)},async()=>{T||await E("Can you paraphrase the following feedback positively?",s)},async()=>{T||await E("Can you suggest a task to address the following feedback?",s)},async()=>{await se("FeedbackList: Removed image",r),n(17,r=null),n(16,c=null)},function(){a=this.value,n(18,a)},function(e){S[e?"unshift":"push"]((()=>{l=e,n(19,l)}))},async()=>{n(18,a=l.files),n(17,[r,c]=await async function(e){let t=e[0];if(t){if(t.type.includes("image"))return[URL.createObjectURL(t),t];alert("Please select an image file.")}else console.log("No image selected.");return null}(a),r,n(16,c)),await se(r?"FeedbackList: Uploaded image":"FeedbackList: Canceled uploading image",r)},async()=>{l.click()},function(){y=this.value,n(10,y)},e=>"Enter"===e.key&&E(y,s),async()=>{await E(y,s),n(10,y="")},function(){b=function(e){const t=e.querySelector(":checked");return t&&t.__value}(this),n(6,b),n(31,v)},function(e){w=e,n(7,w)},function(e){k=e,n(8,k)},function(e){O=e,n(25,O)},function(e){N=e,n(24,N)},async(e,t)=>{if(!window.confirm("Are you sure you want to delete this document? This cannot be undone."))return;n(26,M=!0),n(25,O=50),n(24,N="Removing document...");let o=await I(e,t);n(24,N="Done!"),n(25,O=100),n(26,M=!1),se("FeedbackList: Removed document",o)},function(e){S[e?"unshift":"push"]((()=>{d=e,n(20,d)}))},async e=>{n(26,M=!0),await U(e),n(26,M=!1),se("FeedbackList: Added document",e.target.files)},async()=>{window.confirm("Adding a new document will take a long time, since its information will be extracted. Do you want to proceed?")&&(document.getElementById("document_file_input").click(),await se("FeedbackList: Added document","Document"))},async()=>{window.confirm("Are you sure you want to remove all documents? This cannot be undone.")&&(n(26,M=!0),await J(),n(26,M=!1),await se("FeedbackList: Removed all documents",g))},async(e,t)=>{W(e),await se("FeedbackList: Removed note",t)},function(){z=this.value,n(30,z)},async()=>{G(),n(29,V=!1),await se("FeedbackList: Added note to My Notes",z)},async()=>{n(29,V=!1),n(30,z=""),await se("FeedbackList: Cancelled adding note to My Notes",z)},async()=>{n(29,V=!0),await se("FeedbackList: Clicked on My Notes' Add Note button",V)},async()=>{window.confirm("Are you sure you want to delete all notes? This cannot be undone.")&&(n(3,f=[]),n(3,f),await se("FeedbackList: Removed all notes from My Notes",f))},async e=>{let t="Are you sure you want to delete this feedback notes section? This cannot be undone";m[e].notes.length>0&&(t="Are you sure you want to delete this feedback notes section? This will delete all notes and cannot be undone."),window.confirm(t)&&(delete m[e],n(4,m),await se("FeedbackList: Removed feedback notes section","Feedback ID"+e))},async(e,t,n)=>{W(e,t),await se("FeedbackList: Removed note from Feedback ID"+t,n)},function(){z=this.value,n(30,z)},async e=>{G(e),n(4,m[e].is_adding=!1,m),await se("FeedbackList: Added note to Feedback ID"+e,z)},async e=>{n(4,m[e].is_adding=!1,m),await se("FeedbackList: Cancelled adding note to Feedback ID"+e,z),n(30,z="")},async e=>{n(4,m[e].is_adding=!0,m),await se("FeedbackList: Clicked on Feedback ID"+e+"'s Add Note button",m[e].is_adding)},async e=>{window.confirm("Are you sure you want to delete all notes? This cannot be undone.")&&(n(4,m[e].notes=[],m),n(4,m),await se("FeedbackList: Removed all notes from Feedback ID"+e,m[e].notes))}]}class an extends X{constructor(e){super(),K(this,e,rn,on,s,{feedback_list:0,recording:2,documents:1},null,[-1,-1,-1,-1,-1])}}function ln(e){let t,n,i,s,c,r,l,g,v,w,y,_,$,F,T,L,C,N,O,M,j,H,D,P,E,R,U,I;function J(t){e[10](t)}function Q(t){e[11](t)}let K={};function X(t){e[12](t)}function Z(t){e[13](t)}function ee(t){e[14](t)}void 0!==e[1]&&(K.recording=e[1]),void 0!==e[2]&&(K.feedback_list=e[2]),s=new Pe({props:K}),S.push((()=>B(s,"recording",J))),S.push((()=>B(s,"feedback_list",Q)));let te={};return void 0!==e[3]&&(te.documents=e[3]),void 0!==e[2]&&(te.feedback_list=e[2]),void 0!==e[1]&&(te.recording=e[1]),v=new an({props:te}),S.push((()=>B(v,"documents",X))),S.push((()=>B(v,"feedback_list",Z))),S.push((()=>B(v,"recording",ee))),{c(){t=f("main"),n=f("div"),i=f("div"),W(s.$$.fragment),l=h(),g=f("div"),W(v.$$.fragment),$=h(),F=f("div"),T=f("button"),L=f("img"),N=m("\n                Select Feedback"),M=h(),j=f("button"),H=m("View Feedback List\n                "),D=f("img"),x(i,"width","100%"),x(i,"height","100%"),q(i,"gone",0!=e[0]),x(g,"width","100%"),x(g,"height","100%"),q(g,"gone",1!=e[0]),k(n,"class","carousel-container svelte-qf1jde"),a(L.src,C="./logos/move-to-the-prev-page-symbol-svgrepo-com.svg")||k(L,"src","./logos/move-to-the-prev-page-symbol-svgrepo-com.svg"),k(L,"alt","Previous page"),k(L,"class","mini-icon"),k(T,"class","action-button row centered svelte-qf1jde"),T.disabled=O=0===e[0],q(T,"invisible",1!=e[0]),a(D.src,P="./logos/move-to-the-next-page-symbol-svgrepo-com.svg")||k(D,"src","./logos/move-to-the-next-page-symbol-svgrepo-com.svg"),k(D,"alt","Next page"),k(D,"class","mini-icon"),k(j,"class","action-button row centered svelte-qf1jde"),j.disabled=E=e[0]===dn.length-1||e[2].length<=0,q(j,"invisible",0!=e[0]),k(F,"class","navigation centered spaced bordered row svelte-qf1jde")},m(o,c){u(o,t,c),d(t,n),d(n,i),G(s,i,null),d(n,l),d(n,g),G(v,g,null),d(t,$),d(t,F),d(F,T),d(T,L),d(T,N),d(F,M),d(F,j),d(j,H),d(j,D),R=!0,U||(I=[b(T,"click",e[5]),b(j,"click",e[4])],U=!0)},p(e,[t]){const n={};!c&&2&t&&(c=!0,n.recording=e[1],A((()=>c=!1))),!r&&4&t&&(r=!0,n.feedback_list=e[2],A((()=>r=!1))),s.$set(n),(!R||1&t)&&q(i,"gone",0!=e[0]);const o={};!w&&8&t&&(w=!0,o.documents=e[3],A((()=>w=!1))),!y&&4&t&&(y=!0,o.feedback_list=e[2],A((()=>y=!1))),!_&&2&t&&(_=!0,o.recording=e[1],A((()=>_=!1))),v.$set(o),(!R||1&t)&&q(g,"gone",1!=e[0]),(!R||1&t&&O!==(O=0===e[0]))&&(T.disabled=O),(!R||1&t)&&q(T,"invisible",1!=e[0]),(!R||5&t&&E!==(E=e[0]===dn.length-1||e[2].length<=0))&&(j.disabled=E),(!R||1&t)&&q(j,"invisible",0!=e[0])},i(e){R||(V(s.$$.fragment,e),V(v.$$.fragment,e),R=!0)},o(e){z(s.$$.fragment,e),z(v.$$.fragment,e),R=!1},d(e){e&&p(t),Y(s),Y(v),U=!1,o(I)}}}let dn=2;function un(e,t,n){let o,i;l(e,ne,(e=>n(8,o=e))),l(e,te,(e=>n(9,i=e)));let s=0,c="",r="",a={},d=[],u=[];return T((async()=>{let e=window.prompt("Please enter your username: ");if(null==e||""==e)throw alert("Please enter a valid username"),new Error("Please enter a valid username");let t=await fetch("/check_username",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e})});if(!t.ok)throw alert("Failed to check username"),new Error("Failed to check username");let o=await t.json();o.username_exists?(alert("Welcome back, "+o.username),n(6,c=o.username),n(7,r=o.user_id),ie("username",c,30),ie("user_id",r,30)):(alert("Welcome, "+o.username),n(6,c=o.username),n(7,r=o.user_id),ie("username",c,30),ie("user_id",r,30));let i=await fetch("/get_user_id",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:c})});if(!i.ok)throw alert("Failed to get user id"),new Error("Failed to get user id");const s=(await i.json()).user_id;alert("User ID: "+s),n(3,u=await fetch("/get_documents",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:s})}).then((e=>e.json())).then((e=>e.documents)))})),e.$$.update=()=>{512&e.$$.dirty&&n(6,c=i),64&e.$$.dirty&&te.set(c),256&e.$$.dirty&&n(7,r=o),128&e.$$.dirty&&ne.set(r)},[s,a,d,u,function(){s<dn-1&&n(0,s+=1)},function(){s>0&&n(0,s-=1)},c,r,o,i,function(e){a=e,n(1,a)},function(e){d=e,n(2,d)},function(e){u=e,n(3,u)},function(e){d=e,n(2,d)},function(e){a=e,n(1,a)}]}return new class extends X{constructor(e){super(),K(this,e,un,ln,s,{})}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
