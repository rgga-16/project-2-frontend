var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function o(e){e.forEach(t)}function s(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let c,a;function r(e,t){return c||(c=document.createElement("a")),c.href=t,e===c.href}function l(e,t){e.appendChild(t)}function d(e,t,n){e.insertBefore(t,n||null)}function u(e){e.parentNode&&e.parentNode.removeChild(e)}function p(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function g(e){return document.createElement(e)}function m(e){return document.createTextNode(e)}function f(){return m(" ")}function h(){return m("")}function v(e,t,n,o){return e.addEventListener(t,n,o),()=>e.removeEventListener(t,n,o)}function b(e){return function(t){return t.preventDefault(),e.call(this,t)}}function w(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function k(e,t){t=""+t,e.data!==t&&(e.data=t)}function y(e,t){e.value=null==t?"":t}function _(e,t,n,o){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,o?"important":"")}function x(e,t,n){for(let n=0;n<e.options.length;n+=1){const o=e.options[n];if(o.__value===t)return void(o.selected=!0)}n&&void 0===t||(e.selectedIndex=-1)}function q(e){const t=e.querySelector(":checked");return t&&t.__value}function F(e,t,n){e.classList[n?"add":"remove"](t)}function T(e){a=e}function L(e){(function(){if(!a)throw new Error("Function called outside component initialization");return a})().$$.on_mount.push(e)}const S=[],$=[];let z=[];const C=[],N=Promise.resolve();let j=!1;function O(e){z.push(e)}function P(e){C.push(e)}const M=new Set;let R=0;function E(){if(0!==R)return;const e=a;do{try{for(;R<S.length;){const e=S[R];R++,T(e),H(e.$$)}}catch(e){throw S.length=0,R=0,e}for(T(null),S.length=0,R=0;$.length;)$.pop()();for(let e=0;e<z.length;e+=1){const t=z[e];M.has(t)||(M.add(t),t())}z.length=0}while(S.length);for(;C.length;)C.pop()();j=!1,M.clear(),T(e)}function H(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(O)}}const A=new Set;let D;function U(){D={r:0,c:[],p:D}}function I(){D.r||o(D.c),D=D.p}function J(e,t){e&&e.i&&(A.delete(e),e.i(t))}function G(e,t,n,o){if(e&&e.o){if(A.has(e))return;A.add(e),D.c.push((()=>{A.delete(e),o&&(n&&e.d(1),o())})),e.o(t)}else o&&o()}function V(e,t,n){const o=e.$$.props[t];void 0!==o&&(e.$$.bound[o]=n,n(e.$$.ctx[o]))}function Q(e){e&&e.c()}function B(e,n,i,c){const{fragment:a,after_update:r}=e.$$;a&&a.m(n,i),c||O((()=>{const n=e.$$.on_mount.map(t).filter(s);e.$$.on_destroy?e.$$.on_destroy.push(...n):o(n),e.$$.on_mount=[]})),r.forEach(O)}function Y(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];z.forEach((o=>-1===e.indexOf(o)?t.push(o):n.push(o))),n.forEach((e=>e())),z=t}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function W(e,t){-1===e.$$.dirty[0]&&(S.push(e),j||(j=!0,N.then(E)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function X(t,s,i,c,r,l,d,p=[-1]){const g=a;T(t);const m=t.$$={fragment:null,ctx:[],props:l,update:e,not_equal:r,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(g?g.$$.context:[])),callbacks:n(),dirty:p,skip_bound:!1,root:s.target||g.$$.root};d&&d(m.root);let f=!1;if(m.ctx=i?i(t,s.props||{},((e,n,...o)=>{const s=o.length?o[0]:n;return m.ctx&&r(m.ctx[e],m.ctx[e]=s)&&(!m.skip_bound&&m.bound[e]&&m.bound[e](s),f&&W(t,e)),n})):[],m.update(),f=!0,o(m.before_update),m.fragment=!!c&&c(m.ctx),s.target){if(s.hydrate){const e=function(e){return Array.from(e.childNodes)}(s.target);m.fragment&&m.fragment.l(e),e.forEach(u)}else m.fragment&&m.fragment.c();s.intro&&J(t.$$.fragment),B(t,s.target,s.anchor,s.customElement),E()}T(g)}class K{$destroy(){Y(this,1),this.$destroy=e}$on(t,n){if(!s(n))return e;const o=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return o.push(n),()=>{const e=o.indexOf(n);-1!==e&&o.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}async function Z(e){return new Promise((t=>setTimeout(t,e)))}function ee(e,t,n){var o="";if(n){var s=new Date;s.setTime(s.getTime()+24*n*60*60*1e3),o="; expires="+s.toUTCString()}document.cookie=e+"="+(t||"")+o+"; path=/"}async function te(e,t){const n=await fetch("/log_action",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:e,data:t})});if(!n.ok)throw new Error("Failed to log action");const o=await n.json();console.log(o.message)}function ne(e,t){t.currentTime=function(e){let t=e.split(":");return 3600*parseInt(t[0])+60*parseInt(t[1])+parseInt(t[2].split(",")[0])+parseInt(t[2].split(",")[1])/1e3}(e),t.play()}function oe(e){let t=parseInt(e.dialogue_id),n=document.getElementById(t);n?n.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}):console.log("Error: Can't focus on feedback. Corresponding transcript excerpt not found.")}function se(e){!function(e){try{return navigator.clipboard.writeText(e)}catch{const t=document.createElement("textarea"),n=document.activeElement;t.value=e,t.setAttribute("readonly",""),t.style.contain="strict",t.style.position="absolute",t.style.left="-9999px",t.style.fontSize="12pt";const o=document.getSelection(),s=o?o.rangeCount>0&&o.getRangeAt(0):null;document.body.appendChild(t),t.select(),t.selectionStart=0,t.selectionEnd=e.length,document.execCommand("copy"),document.body.removeChild(t),s&&o&&(o.removeAllRanges(),o.addRange(s)),n&&n.focus()}}(e)}function ie(t){let n,o,s,i,c,a,r,p,h;return{c(){n=g("div"),o=g("span"),s=m("["),i=m(t[0]),c=m("%] "),a=m(t[1]),r=f(),p=g("div"),h=g("div"),w(o,"class","status-text svelte-e99ivy"),w(h,"class","loading-bar-progress svelte-e99ivy"),_(h,"width",t[0]+"%"),w(p,"class","loading-bar-container svelte-e99ivy"),w(n,"class","container column centered spaced svelte-e99ivy")},m(e,t){d(e,n,t),l(n,o),l(o,s),l(o,i),l(o,c),l(o,a),l(n,r),l(n,p),l(p,h)},p(e,[t]){1&t&&k(i,e[0]),2&t&&k(a,e[1]),1&t&&_(h,"width",e[0]+"%")},i:e,o:e,d(e){e&&u(n)}}}function ce(e,t,n){let{progress:o=0}=t,{status:s=""}=t;return e.$$set=e=>{"progress"in e&&n(0,o=e.progress),"status"in e&&n(1,s=e.status)},[o,s]}class ae extends K{constructor(e){super(),X(this,e,ce,ie,i,{progress:0,status:1})}}async function re(e){const t=await fetch("/save_recording",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recording:e})});if(!t.ok)throw new Error("Failed to save recording");let n=await t.json();return"message"in n&&console.log(n.message),n.message}async function le(e){const t=await fetch("/save_feedback_list",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({feedback_list:e})});if(!t.ok)throw new Error("Failed to save feedback list");let n=await t.json();return"message"in n&&console.log(n.message),n.message}async function de(e){const t=await fetch("/save_display_chatbot_messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({display_chatbot_messages:e})});if(!t.ok)throw new Error("Failed to save display chatbot messages");let n=await t.json();return"message"in n&&console.log(n.message),n.message}async function ue(e){const t=await fetch("/save_my_notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({my_notes:e})});if(!t.ok)throw new Error("Failed to save my notes");let n=await t.json();return"message"in n&&console.log(n.message),n.message}async function pe(e){const t=await fetch("/save_feedback_notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({feedback_notes:e})});if(!t.ok)throw new Error("Failed to save my feedback notes");let n=await t.json();return"message"in n&&console.log(n.message),n.message}function ge(e,t,n){const o=e.slice();return o[63]=t[n][0],o[64]=t[n][1],o}function me(e,t,n){const o=e.slice();return o[67]=t[n],o[69]=n,o}function fe(t){let n;return{c(){n=g("span"),n.textContent="No feedback moments highlighted."},m(e,t){d(e,n,t)},p:e,d(e){e&&u(n)}}}function he(e){let t,n,o,s,i,c=e[2]+1+"",a=e[1].length+"";return{c(){t=g("span"),n=m(c),o=m(" of "),s=m(a),i=m(" feedback moments highlighted")},m(e,c){d(e,t,c),l(t,n),l(t,o),l(t,s),l(t,i)},p(e,t){4&t[0]&&c!==(c=e[2]+1+"")&&k(n,c),2&t[0]&&a!==(a=e[1].length+"")&&k(s,a)},d(e){e&&u(t)}}}function ve(t){let n;return{c(){n=g("div"),n.innerHTML="<span>No discussion transcript loaded. Please first upload your transcript.</span>",w(n,"class","centered"),_(n,"height","100%"),_(n,"width","100%")},m(e,t){d(e,n,t)},p:e,d(e){e&&u(n)}}}function be(e){let t,n=e[0].transcript_list,o=[];for(let t=0;t<n.length;t+=1)o[t]=we(me(e,n,t));return{c(){t=g("p");for(let e=0;e<o.length;e+=1)o[e].c();w(t,"class","padded")},m(e,n){d(e,t,n);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,null)},p(e,s){if(9&s[0]){let i;for(n=e[0].transcript_list,i=0;i<n.length;i+=1){const c=me(e,n,i);o[i]?o[i].p(c,s):(o[i]=we(c),o[i].c(),o[i].m(t,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},d(e){e&&u(t),p(o,e)}}}function we(e){let t,n,s,i,c,a,r,p,h,b,y,_,x,q,F,T,L,S,$,z,C,N,j,O=e[67].start_timestamp+"",P=e[67].end_timestamp+"",M=e[67].speaker?e[67].speaker+":":"",R=e[67].dialogue+"";function E(){return e[22](e[67])}function H(){return e[23](e[67])}return{c(){t=g("div"),n=g("span"),s=m("["),i=m(O),c=m("]"),a=m(" \n                            - \n                            "),r=g("span"),p=m("["),h=m(P),b=m("]"),y=f(),_=g("br"),x=f(),q=m(M),F=f(),T=g("span"),S=f(),$=g("br"),z=g("br"),C=f(),w(n,"class","timestamp svelte-axxzkr"),w(r,"class","timestamp svelte-axxzkr"),w(T,"id",L=e[67].id),w(T,"class","svelte-axxzkr"),w(t,"class","spaced")},m(e,o){d(e,t,o),l(t,n),l(n,s),l(n,i),l(n,c),l(t,a),l(t,r),l(r,p),l(r,h),l(r,b),l(t,y),l(t,_),l(t,x),l(t,q),l(t,F),l(t,T),T.innerHTML=R,l(t,S),l(t,$),l(t,z),l(t,C),N||(j=[v(n,"click",E),v(r,"click",H)],N=!0)},p(t,n){e=t,1&n[0]&&O!==(O=e[67].start_timestamp+"")&&k(i,O),1&n[0]&&P!==(P=e[67].end_timestamp+"")&&k(h,P),1&n[0]&&M!==(M=e[67].speaker?e[67].speaker+":":"")&&k(q,M),1&n[0]&&R!==(R=e[67].dialogue+"")&&(T.innerHTML=R),1&n[0]&&L!==(L=e[67].id)&&w(T,"id",L)},d(e){e&&u(t),N=!1,o(j)}}}function ke(e){let t,n,o,s,i,c;return{c(){t=g("button"),n=g("img"),s=m("\n                                        Remove media"),r(n.src,o="./logos/delete-x-svgrepo-com.svg")||w(n,"src","./logos/delete-x-svgrepo-com.svg"),w(n,"alt","Delete media"),w(n,"class","mini-icon"),w(t,"class","action-button centered row  svelte-axxzkr"),t.disabled=e[8]},m(o,a){d(o,t,a),l(t,n),l(t,s),i||(c=v(t,"click",e[28]),i=!0)},p(e,n){256&n[0]&&(t.disabled=e[8])},d(e){e&&u(t),i=!1,c()}}}function ye(e){let t,n,o,s,i,c;return{c(){t=g("button"),n=g("img"),s=m("\n                                        Remove transcript"),r(n.src,o="./logos/delete-x-svgrepo-com.svg")||w(n,"src","./logos/delete-x-svgrepo-com.svg"),w(n,"alt","Delete transcript"),w(n,"class","mini-icon"),w(t,"class","action-button centered row  svelte-axxzkr"),t.disabled=e[8]},m(o,a){d(o,t,a),l(t,n),l(t,s),i||(c=v(t,"click",e[33]),i=!0)},p(e,n){256&n[0]&&(t.disabled=e[8])},d(e){e&&u(t),i=!1,c()}}}function _e(t){let n,o;return{c(){n=g("video"),n.innerHTML='<track kind="captions" src="blank.vtt" srclang="en"/>',r(n.src,o="video.mp4")||w(n,"src","video.mp4"),n.controls=!0,_(n,"width","100%"),_(n,"height","100%")},m(e,o){d(e,n,o),t[41](n)},p:e,d(e){e&&u(n),t[41](null)}}}function xe(e){let t,n;return{c(){t=g("audio"),r(t.src,n=e[0].audio)||w(t,"src",n),t.controls=!0,_(t,"width","100%"),_(t,"height","100%")},m(n,o){d(n,t,o),e[40](t)},p(e,o){1&o[0]&&!r(t.src,n=e[0].audio)&&w(t,"src",n)},d(n){n&&u(t),e[40](null)}}}function qe(e){let t,n,o,s;return{c(){t=g("video"),n=g("track"),w(n,"kind","captions"),r(n.src,o="blank.vtt")||w(n,"src","blank.vtt"),w(n,"srclang","en"),r(t.src,s=e[0].video)||w(t,"src",s),t.controls=!0,_(t,"width","100%"),_(t,"height","100%")},m(o,s){d(o,t,s),l(t,n),e[39](t)},p(e,n){1&n[0]&&!r(t.src,s=e[0].video)&&w(t,"src",s)},d(n){n&&u(t),e[39](null)}}}function Fe(e){let t,n,o=e[0].transcript_list&&e[0].transcript_list.length>0&&"speaker"in e[0].transcript_list[0]&&Te(e),s=e[1]&&Se(e);return{c(){o&&o.c(),t=f(),s&&s.c(),n=h()},m(e,i){o&&o.m(e,i),d(e,t,i),s&&s.m(e,i),d(e,n,i)},p(e,i){e[0].transcript_list&&e[0].transcript_list.length>0&&"speaker"in e[0].transcript_list[0]?o?o.p(e,i):(o=Te(e),o.c(),o.m(t.parentNode,t)):o&&(o.d(1),o=null),e[1]?s?s.p(e,i):(s=Se(e),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},d(e){o&&o.d(e),e&&u(t),s&&s.d(e),e&&u(n)}}}function Te(e){let t,n,o,s,i,c,a,r,h,v=Object.keys(e[0].transcript_list.reduce(Re,{})).length+"",b=Object.entries(e[0].transcript_list.reduce(Ee,{})),w=[];for(let t=0;t<b.length;t+=1)w[t]=Le(ge(e,b,t));return{c(){t=g("strong"),n=m("Number of participants: "),o=m(v),s=f(),i=g("br"),c=f(),a=g("ul");for(let e=0;e<w.length;e+=1)w[e].c();r=f(),h=g("br")},m(e,u){d(e,t,u),l(t,n),l(t,o),d(e,s,u),d(e,i,u),d(e,c,u),d(e,a,u);for(let e=0;e<w.length;e+=1)w[e]&&w[e].m(a,null);d(e,r,u),d(e,h,u)},p(e,t){if(1&t[0]&&v!==(v=Object.keys(e[0].transcript_list.reduce(Re,{})).length+"")&&k(o,v),1&t[0]){let n;for(b=Object.entries(e[0].transcript_list.reduce(Ee,{})),n=0;n<b.length;n+=1){const o=ge(e,b,n);w[n]?w[n].p(o,t):(w[n]=Le(o),w[n].c(),w[n].m(a,null))}for(;n<w.length;n+=1)w[n].d(1);w.length=b.length}},d(e){e&&u(t),e&&u(s),e&&u(i),e&&u(c),e&&u(a),p(w,e),e&&u(r),e&&u(h)}}}function Le(e){let t,n,o,s,i,c,a,r=e[63]+"",p=e[64]+"";return{c(){t=g("li"),n=m("- "),o=m(r),s=m(": "),i=m(p),c=m(" utterances"),a=f()},m(e,r){d(e,t,r),l(t,n),l(t,o),l(t,s),l(t,i),l(t,c),d(e,a,r)},p(e,t){1&t[0]&&r!==(r=e[63]+"")&&k(o,r),1&t[0]&&p!==(p=e[64]+"")&&k(i,p)},d(e){e&&u(t),e&&u(a)}}}function Se(e){let t,n,o,s,i,c,a,r,p,h,v,b,w=e[1].length+"",y=e[1].filter(He).length+"",_=e[1].filter(Ae).length+"";return{c(){t=g("strong"),n=m("Number of feedback utterances: "),o=m(w),s=f(),i=g("ul"),c=g("li"),a=m("- Number of positive feedback: "),r=m(y),p=f(),h=g("li"),v=m("- Number of critical feedback: "),b=m(_)},m(e,u){d(e,t,u),l(t,n),l(t,o),d(e,s,u),d(e,i,u),l(i,c),l(c,a),l(c,r),l(i,p),l(i,h),l(h,v),l(h,b)},p(e,t){2&t[0]&&w!==(w=e[1].length+"")&&k(o,w),2&t[0]&&y!==(y=e[1].filter(He).length+"")&&k(r,y),2&t[0]&&_!==(_=e[1].filter(Ae).length+"")&&k(b,_)},d(e){e&&u(t),e&&u(s),e&&u(i)}}}function $e(e){let t,n,s,i,c,a,p,h,b,k,y,x,q,T,L,S,z,C,N,j,O,M,R,E,H,A,D,U,I,W,X,K,Z,ee,te,ne,oe,se,ie,ce,re,le,de,ue,pe,ge,me,we,Te,Le,Se,$e,ze,Ce,Ne,je,Oe,Pe,Me,Re,Ee,He,Ae,De,Ue,Ie,Je,Ge,Ve,Qe,Be,Ye,We,Xe,Ke,Ze,et,tt,nt,ot,st,it,ct,at,rt,lt,dt,ut,pt,gt,mt,ft,ht,vt,bt,wt,kt,yt,_t,xt,qt,Ft,Tt,Lt,St,$t,zt;function Ct(t){e[18](t)}function Nt(t){e[19](t)}let jt={};function Ot(e,t){return e[1]&&e[1].length>0?he:fe}void 0!==e[10]&&(jt.progress=e[10]),void 0!==e[9]&&(jt.status=e[9]),c=new ae({props:jt}),$.push((()=>V(c,"progress",Ct))),$.push((()=>V(c,"status",Nt)));let Pt=Ot(e),Mt=Pt(e);function Rt(e,t){return e[0]&&e[0].transcript_list&&e[0].transcript_list.length>0?be:ve}let Et=Rt(e),Ht=Et(e),At=(e[0].video||e[0].audio)&&ke(e),Dt=e[0].transcript_list&&e[0].transcript_list.length>0&&ye(e);function Ut(e,t){return e[0]&&e[0].video?qe:e[0]&&e[0].audio?xe:_e}let It=Ut(e),Jt=It(e),Gt=e[0]&&e[0].transcript_list&&Fe(e);return{c(){t=g("div"),n=g("div"),s=g("div"),i=g("div"),Q(c.$$.fragment),h=f(),b=g("div"),Mt.c(),k=f(),y=g("button"),x=g("img"),L=f(),S=g("button"),z=g("img"),j=f(),Ht.c(),O=f(),M=g("div"),R=g("div"),E=g("span"),E.textContent="Step 1: Upload your discussion.",H=f(),A=g("div"),D=g("div"),U=g("div"),I=g("label"),I.textContent="Upload your own video or audio:",W=f(),X=g("div"),K=g("input"),Z=f(),ee=g("button"),te=g("img"),oe=m("\n                                    Upload file"),ie=f(),At&&At.c(),ce=f(),re=g("div"),le=g("label"),le.textContent="Upload your own transcript (in .srt only):",de=f(),ue=g("div"),pe=g("input"),ge=f(),me=g("button"),we=g("img"),Le=m("\n                                    Upload file"),$e=f(),Dt&&Dt.c(),ze=f(),Ce=g("div"),Ne=g("span"),Ne.textContent="Step 2: Highlight feedback in the discussion's transcript.",je=f(),Oe=g("div"),Pe=g("div"),Me=g("button"),Re=g("img"),He=m("\n                            Auto-detect "),Ae=g("br"),De=m(" Feedback"),Ie=f(),Je=g("button"),Ge=g("img"),Qe=m("\n                            Highlight "),Be=g("br"),Ye=m(" Positive"),Xe=f(),Ke=g("button"),Ze=g("img"),tt=m("\n                            Highlight "),nt=g("br"),ot=m(" Critical"),it=f(),ct=g("button"),at=g("img"),lt=m("\n                            Remove "),dt=g("br"),ut=m(" Feedback"),gt=f(),mt=g("button"),ft=g("img"),vt=m("\n                            Remove all "),bt=g("br"),wt=m(" Feedback"),yt=f(),_t=g("div"),xt=g("div"),Jt.c(),qt=f(),Ft=g("div"),Tt=g("h3"),Tt.textContent="Discussion Transcript Details",Lt=f(),Gt&&Gt.c(),w(i,"class","overlay centered padded"),F(i,"invisible",!1===e[8]),r(x.src,q="./logos/up-arrow-5-svgrepo-com.svg")||w(x,"src","./logos/up-arrow-5-svgrepo-com.svg"),w(x,"alt","Prev feedback"),w(x,"class","logo"),_(x,"width","1.5rem"),_(x,"height","1.5rem"),y.disabled=T=!e[1]||e[1].length<=0,r(z.src,C="./logos/down-arrow-5-svgrepo-com.svg")||w(z,"src","./logos/down-arrow-5-svgrepo-com.svg"),w(z,"alt","Next feedback"),w(z,"class","logo"),_(z,"width","1.5rem"),_(z,"height","1.5rem"),S.disabled=N=!e[1]||e[1].length<=0,w(b,"id","traverse-feedback-area"),w(b,"class","bordered spaced svelte-axxzkr"),w(s,"id","transcript-area"),w(s,"class","column bordered spaced svelte-axxzkr"),_(E,"font-weight","bold"),_(E,"text-decoration","underline"),_(E,"margin-left","1rem"),w(I,"for","file_upload"),_(K,"width","50%"),w(K,"name","mediafile_upload"),w(K,"type","file"),w(K,"id","mediafile_upload"),w(K,"accept","video/*, audio/*"),r(te.src,ne="./logos/upload-svgrepo-com.svg")||w(te,"src","./logos/upload-svgrepo-com.svg"),w(te,"alt","Upload file"),w(te,"class","mini-icon"),w(ee,"class","action-button centered column  svelte-axxzkr"),ee.disabled=se=e[8]||!e[4]||0===e[4].length,w(X,"class","row centered spaced"),w(U,"class","column spaced centered"),w(le,"for","file_upload"),_(pe,"width","50%"),w(pe,"name","transcirptfile_upload"),w(pe,"type","file"),w(pe,"id","transcriptfile_upload"),w(pe,"accept"," .srt"),r(we.src,Te="./logos/upload-svgrepo-com.svg")||w(we,"src","./logos/upload-svgrepo-com.svg"),w(we,"alt","Upload file"),w(we,"class","mini-icon"),w(me,"class","action-button centered column  svelte-axxzkr"),me.disabled=Se=e[8]||!e[6]||0===e[6].length,w(ue,"class","row centered spaced"),w(re,"class","column spaced centered"),w(D,"class","column centered spaced"),w(A,"class","row centered spaced"),w(R,"id","capture-feedback-panel"),w(R,"class","column padded centered spaced svelte-axxzkr"),_(Ne,"font-weight","bold"),_(Ne,"text-decoration","underline"),_(Ne,"margin-left","1rem"),r(Re.src,Ee="./logos/magnifying-glass-for-search-3-svgrepo-com.svg")||w(Re,"src","./logos/magnifying-glass-for-search-3-svgrepo-com.svg"),w(Re,"alt","Auto-detect Feedback"),w(Re,"class","logo"),w(Me,"class","action-button svelte-axxzkr"),Me.disabled=Ue=!e[0]||!e[0].transcript_list||e[8],r(Ge.src,Ve="./logos/highlight-green-svgrepo-com.svg")||w(Ge,"src","./logos/highlight-green-svgrepo-com.svg"),w(Ge,"alt","Highlight Positive Feedback"),w(Ge,"class","logo"),w(Je,"class","action-button svelte-axxzkr"),Je.disabled=We=!e[0]||!e[0].transcript_list||e[8],r(Ze.src,et="./logos/highlight-red-svgrepo-com.svg")||w(Ze,"src","./logos/highlight-red-svgrepo-com.svg"),w(Ze,"alt","Highlight Critical Feedback"),w(Ze,"class","logo"),w(Ke,"class","action-button svelte-axxzkr"),Ke.disabled=st=!e[0]||!e[0].transcript_list||e[8],r(at.src,rt="./logos/erase-svgrepo-com.svg")||w(at,"src","./logos/erase-svgrepo-com.svg"),w(at,"alt","De-highlight Feedback"),w(at,"class","logo"),w(ct,"class","action-button svelte-axxzkr"),ct.disabled=pt=!e[0]||!e[0].transcript_list||e[8]||e[1].length<=0,r(ft.src,ht="./logos/delete-svgrepo-com.svg")||w(ft,"src","./logos/delete-svgrepo-com.svg"),w(ft,"alt","Delete all Feedback"),w(ft,"class","logo"),w(mt,"class","action-button svelte-axxzkr"),mt.disabled=kt=!e[0]||!e[0].transcript_list||e[8]||e[1].length<=0,w(Pe,"class","row centered spaced"),w(Oe,"class","centered"),_(Oe,"height","100%"),_(Oe,"width","100%"),w(Ce,"id","feedback-highlight-panel"),w(Ce,"class","column spaced padded  svelte-axxzkr"),w(M,"id","transcript-buttons-area"),w(M,"class","row centered spaced bordered svelte-axxzkr"),w(n,"id","left-panel"),w(n,"class","column spaced svelte-axxzkr"),w(xt,"id","media-player-area"),w(xt,"class","bordered centered svelte-axxzkr"),_(Tt,"font-weight","bold"),_(Tt,"text-decoration","underline"),w(Ft,"id","feedback-details-area"),w(Ft,"class","bordered padded spaced svelte-axxzkr"),_(Ft,"overflow-y","auto"),w(_t,"id","right-panel"),w(_t,"class","column spaced svelte-axxzkr"),w(t,"div",""),w(t,"class","row spaced svelte-axxzkr"),w(t,"id","feedback-selector-page")},m(o,a){d(o,t,a),l(t,n),l(n,s),l(s,i),B(c,i,null),l(s,h),l(s,b),Mt.m(b,null),l(b,k),l(b,y),l(y,x),l(b,L),l(b,S),l(S,z),l(s,j),Ht.m(s,null),l(n,O),l(n,M),l(M,R),l(R,E),l(R,H),l(R,A),l(A,D),l(D,U),l(U,I),l(U,W),l(U,X),l(X,K),e[25](K),l(X,Z),l(X,ee),l(ee,te),l(ee,oe),l(X,ie),At&&At.m(X,null),l(D,ce),l(D,re),l(re,le),l(re,de),l(re,ue),l(ue,pe),e[30](pe),l(ue,ge),l(ue,me),l(me,we),l(me,Le),l(ue,$e),Dt&&Dt.m(ue,null),l(M,ze),l(M,Ce),l(Ce,Ne),l(Ce,je),l(Ce,Oe),l(Oe,Pe),l(Pe,Me),l(Me,Re),l(Me,He),l(Me,Ae),l(Me,De),l(Pe,Ie),l(Pe,Je),l(Je,Ge),l(Je,Qe),l(Je,Be),l(Je,Ye),l(Pe,Xe),l(Pe,Ke),l(Ke,Ze),l(Ke,tt),l(Ke,nt),l(Ke,ot),l(Pe,it),l(Pe,ct),l(ct,at),l(ct,lt),l(ct,dt),l(ct,ut),l(Pe,gt),l(Pe,mt),l(mt,ft),l(mt,vt),l(mt,bt),l(mt,wt),l(t,yt),l(t,_t),l(_t,xt),Jt.m(xt,null),l(_t,qt),l(_t,Ft),l(Ft,Tt),l(Ft,Lt),Gt&&Gt.m(Ft,null),St=!0,$t||(zt=[v(y,"click",e[20]),v(S,"click",e[21]),v(K,"change",e[24]),v(K,"change",e[26]),v(ee,"click",e[27]),v(pe,"change",e[29]),v(pe,"change",e[31]),v(me,"click",e[32]),v(Me,"click",e[34]),v(Je,"click",e[35]),v(Ke,"click",e[36]),v(ct,"click",e[37]),v(mt,"click",e[38])],$t=!0)},p(e,t){const n={};!a&&1024&t[0]&&(a=!0,n.progress=e[10],P((()=>a=!1))),!p&&512&t[0]&&(p=!0,n.status=e[9],P((()=>p=!1))),c.$set(n),(!St||256&t[0])&&F(i,"invisible",!1===e[8]),Pt===(Pt=Ot(e))&&Mt?Mt.p(e,t):(Mt.d(1),Mt=Pt(e),Mt&&(Mt.c(),Mt.m(b,k))),(!St||2&t[0]&&T!==(T=!e[1]||e[1].length<=0))&&(y.disabled=T),(!St||2&t[0]&&N!==(N=!e[1]||e[1].length<=0))&&(S.disabled=N),Et===(Et=Rt(e))&&Ht?Ht.p(e,t):(Ht.d(1),Ht=Et(e),Ht&&(Ht.c(),Ht.m(s,null))),(!St||272&t[0]&&se!==(se=e[8]||!e[4]||0===e[4].length))&&(ee.disabled=se),e[0].video||e[0].audio?At?At.p(e,t):(At=ke(e),At.c(),At.m(X,null)):At&&(At.d(1),At=null),(!St||320&t[0]&&Se!==(Se=e[8]||!e[6]||0===e[6].length))&&(me.disabled=Se),e[0].transcript_list&&e[0].transcript_list.length>0?Dt?Dt.p(e,t):(Dt=ye(e),Dt.c(),Dt.m(ue,null)):Dt&&(Dt.d(1),Dt=null),(!St||257&t[0]&&Ue!==(Ue=!e[0]||!e[0].transcript_list||e[8]))&&(Me.disabled=Ue),(!St||257&t[0]&&We!==(We=!e[0]||!e[0].transcript_list||e[8]))&&(Je.disabled=We),(!St||257&t[0]&&st!==(st=!e[0]||!e[0].transcript_list||e[8]))&&(Ke.disabled=st),(!St||259&t[0]&&pt!==(pt=!e[0]||!e[0].transcript_list||e[8]||e[1].length<=0))&&(ct.disabled=pt),(!St||259&t[0]&&kt!==(kt=!e[0]||!e[0].transcript_list||e[8]||e[1].length<=0))&&(mt.disabled=kt),It===(It=Ut(e))&&Jt?Jt.p(e,t):(Jt.d(1),Jt=It(e),Jt&&(Jt.c(),Jt.m(xt,null))),e[0]&&e[0].transcript_list?Gt?Gt.p(e,t):(Gt=Fe(e),Gt.c(),Gt.m(Ft,null)):Gt&&(Gt.d(1),Gt=null)},i(e){St||(J(c.$$.fragment,e),St=!0)},o(e){G(c.$$.fragment,e),St=!1},d(n){n&&u(t),Y(c),Mt.d(),Ht.d(),e[25](null),At&&At.d(),e[30](null),Dt&&Dt.d(),Jt.d(),Gt&&Gt.d(),$t=!1,o(zt)}}}async function ze(e){try{const t=await fetch("/fetch_audio",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({audio_path:e})}),n=await t.blob();return URL.createObjectURL(n)}catch(e){console.error(e)}}async function Ce(e){if(!(await fetch("/embed_transcript",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transcript:e})})).ok)throw new Error("Failed to embed transcript list")}async function Ne(e){const t=new FormData;t.append("file",e);const n=await fetch("/extract_audio_from_video",{method:"POST",body:t});if(!n.ok)return null;const o=await n.json();return[o.audiopath,o.videopath]}async function je(e){const t=await fetch("/simplify_transcript",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transcript:e})});if(!t.ok)throw new Error("Failed to simplify transcript string");return(await t.json()).simplified_transcript}async function Oe(e){const t=await fetch("/transcript_to_list",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transcript:e})});if(!t.ok)throw new Error("Failed to convert transcript string to list of excerpts");return(await t.json()).transcript_list}async function Pe(e){let t=[],n=function(e){let t="";for(let n=0;n<e.length;n++){let o=e[n],s=o.id,i=o.start_timestamp,c=o.end_timestamp,a=o.dialogue;"speaker"in o&&""!=o.speaker?t+=`${s}\n${i} --\x3e ${c}\n${o.speaker}: ${a}\n\n`:t+=`${s}\n${i} --\x3e ${c}\n${a}\n\n`}return t}(e);const o=await fetch("/autodetect_feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transcript:n})});if(!o.ok)throw new Error("Failed to detect feedback");return t=(await o.json()).feedback_list,console.log(t),t}function Me(e,t){t=parseInt(t);for(let n=0;n<e.length;n++){let o=e[n];if(o.id===t)return o}return console.log("Error: Can't find excerpt with id",t),null}const Re=(e,t)=>(e[t.speaker]=!0,e),Ee=(e,t)=>(e[t.speaker]=(e[t.speaker]||0)+1,e),He=e=>"positive"===e.type,Ae=e=>"critical"===e.type;function De(e,t,n){let o,s,i,c,a,r,l,{recording:d={}}=t,{feedback_list:u=[]}=t,p=0,g=!1,m="",f=0;async function h(){let e=await fetch("/delete_recording_media",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recording:d})}),t=await e.json();return"message"in t&&console.log(t.message),t.message}async function v(){if(c){for(const e of c)if(console.log(e.type),e.type.includes("video")){if((d||"video"in d||"audio"in d||"transcript_list"in d)&&(d.video||d.audio)){if(!window.confirm("Uploading a new video will overwrite this current media. Do you want to proceed?"))return;await h(),d.audio&&(n(0,d.audio=null,d),n(0,d.audio_path=null,d),n(0,d)),d.video&&(n(0,d.video=null,d),n(0,d.video_path=null,d),n(0,d)),await re(d),await te("FeedbackSelector: Remove media",d)}let t=URL.createObjectURL(e);if(n(9,m="Uploading video..."),n(10,f=50),[i,s]=await Ne(e),!i||!s)throw i=null,s=null,new Error("Failed to extract audio from video");let o=await ze(i),c="",a=[];n(9,m="Done!"),n(10,f=100),Z(1500),n(10,f=0);let r={video:t,video_path:s,audio:o,audio_path:i,transcript:c,transcript_list:a};d&&"transcript_list"in d&&d.transcript_list?(n(0,d.video=t,d),n(0,d.video_path=s,d),n(0,d.audio=o,d),n(0,d.audio_path=i,d),n(0,d),n(0,d)):n(0,d=r),i=null,s=null}else if(e.type.includes("audio")){if((d||"audio"in d||"video"in d||"transcript_list"in d)&&(d.audio||d.video)){if(!window.confirm("Uploading a new audio will overwrite this current media. Do you want to proceed?"))return;await h(),d.audio&&(n(0,d.audio=null,d),n(0,d.audio_path=null,d),n(0,d)),d.video&&(n(0,d.video=null,d),n(0,d.video_path=null,d),n(0,d)),await re(d),await te("FeedbackSelector: Remove media",d)}let t=URL.createObjectURL(e);n(9,m="Uploading audio..."),n(10,f=50);const o=new FormData;o.append("audio",e);const c=await fetch("/download_mic",{method:"POST",body:o});if(!c.ok)throw i=null,s=null,new Error("Failed to save uploaded audio");let a=await c.json();i=a.filepath;let r="",l=[];n(9,m="Done!"),n(10,f=100),await Z(1500),n(10,f=0);let u={video:null,video_path:null,audio:t,audio_path:i,transcript:r,transcript_list:l};d&&"transcript_list"in d&&d.transcript_list?(n(0,d.audio=t,d),n(0,d.audio_path=i,d),n(0,d),n(0,d)):n(0,d=u),i=null,s=null}n(4,c=null),n(5,a.value="",a)}console.log("Recording",d),n(10,f=0),n(9,m="")}async function b(){if(r){for(const e of r)if(console.log(e.type),e.name.endsWith(".srt")){if((d||"transcript"in d||"transcript_list"in d)&&d.transcript_list&&d.transcript_list.length>0){if(!window.confirm("Uploading a new transcript will overwrite this current transcript. Do you want to proceed?"))return;y(),n(1,u=[]),n(0,d.transcript_list=[],d),n(0,d.transcript="",d),n(0,d),await re(d),await te("FeedbackSelector: Remove transcript",d)}let t=new FileReader;t.onload=async function(e){console.log(undefined),n(8,g=!0);let t=e.target.result;console.log(t),n(9,m="Cleaning transcript..."),n(10,f=30);let o=await je(t);await Z(1500);let s=await Oe(o),i={video:null,video_path:null,audio:null,audio_path:null,transcript:o,transcript_list:s};d&&("video"in d&&d.video||"audio"in d&&d.audio)?(n(0,d.transcript_list=s,d),n(0,d),n(0,d.transcript=o,d),n(0,d),n(0,d),n(0,d)):n(0,d=i),n(9,m="Saving transcript as a database (this may take a while) ... "),n(10,f=60),await Ce(s),await re(d),console.log("Transcript list embedded"),n(9,m="Done!"),n(10,f=100),await Z(500),n(10,f=0),n(8,g=!1)},t.readAsText(e)}n(6,r=null),n(7,l.value="",l)}console.log("Recording",d),n(10,f=0),n(9,m="")}function w(e){const t=window.getSelection().toString();if(""===t.trim())return alert("Please highlight text in the transcript with your mouse to add as feedback."),"Error: No text highlighted";if(t){let o={quote:t,type:e,done:!1,speaker:null,dialogue_id:null},s=function(e,t){console.log(t);for(let n=0;n<e.length;n++){let o=e[n],s=o.dialogue;if(o.speaker&&(s=o.speaker+": "+s),s.includes(t))return o}return null}(d.transcript_list,t);return s?(o.id=u.length+1,o.dialogue_id=s.id,o.speaker=s.speaker,o.excerpt_reference=s,o.chatbot_messages=[{role:"system",content:"You are an expert senior interior designer who is tasked to assist less experienced interior designers like students and junior interior designers with their work by answering their questions on a wide range of interior design topics. "}],u.push(o),n(1,u),n(0,d),x([o]),o):(console.log("Error: Corresponding transcript excerpt not found"),alert("Error: Corresponding transcript excerpt not found. Feedback not added."),"Error: Corresponding transcript excerpt not found for selection: "+t)}return alert("Please highlight text in the transcript with your mouse to add as feedback."),"Error: No text highlighted"}function k(){const e=window.getSelection().toString();if(""===e.trim())return alert("Please highlight the feedback you want to remove using your mouse."),"Error: No text highlighted";if(e)for(let t=0;t<u.length;t++){let o=u[t];if(o.quote.includes(e)){let e=parseInt(o.dialogue_id),s=o.quote;return u.splice(t,1),n(1,u),_(e,s),o}}return"Error: Feedback not found for selection: "+e}function y(){for(let e=0;e<u.length;e++){let t=u[e];_(parseInt(t.dialogue_id),t.quote),u.splice(e,1),n(1,u)}}function _(e,t){for(let o=0;o<d.transcript_list.length;o++){let s=d.transcript_list[o];if(s.id===e){let e=s.dialogue,o=e.indexOf("<mark"),i=e.indexOf("</mark>")+7,c=e.slice(0,o)+t+e.slice(i);s.dialogue=c,s.dialogue=s.dialogue,n(0,d);break}}}function x(e){for(let t=0;t<e.length;t++){let n=e[t],o=n.type;if("positive"!=n.type&&"critical"!=n.type)continue;let s,i=parseInt(n.dialogue_id);for(let e=0;e<d.transcript_list.length;e++){let t=d.transcript_list[e];if(t.id===i){s=t;break}}if(!s){console.log("Error: Corresponding transcript excerpt not found");continue}let c=s.dialogue,a=c.indexOf(n.quote),r=a+n.quote.length,l=c.slice(0,a)+`<mark class="${o}" style="background-color:${"positive"===o?"lightgreen":"lightcoral"};">${n.quote}</mark>`+c.slice(r);s.dialogue=l}n(0,d)}L((async()=>{console.log(d)}));return e.$$set=e=>{"recording"in e&&n(0,d=e.recording),"feedback_list"in e&&n(1,u=e.feedback_list)},[d,u,p,o,c,a,r,l,g,m,f,h,v,b,w,k,y,x,function(e){f=e,n(10,f)},function(e){m=e,n(9,m)},async()=>{p>0?n(2,p--,p):n(2,p=u.length-1),oe(u[p]),await te("FeedbackSelector: Traverse to previous feedback",u[p])},async()=>{p<u.length-1?n(2,p++,p):n(2,p=0),oe(u[p]),await te("FeedbackSelector: Traverse to next feedback",u[p])},async e=>{ne(e.start_timestamp,o),await te("FeedbackSelector: Seeked to start timestamp",e.start_timestamp)},async e=>{ne(e.end_timestamp,o),await te("FeedbackSelector: Seeked to end timestamp",e.end_timestamp)},function(){c=this.value,n(4,c)},function(e){$[e?"unshift":"push"]((()=>{a=e,n(5,a)}))},async e=>{n(4,c=e.target.files),console.log(c),await te("FeedbackSelector: Select media file",c)},async()=>{n(8,g=!0),await v(),n(8,g=!1),await re(d),await te("FeedbackSelector: Upload media",d)},async()=>{window.confirm("This cannot be undone. Do you want to proceed?")&&(await h(),d.audio&&(n(0,d.audio=null,d),n(0,d.audio_path=null,d),n(0,d)),d.video&&(n(0,d.video=null,d),n(0,d.video_path=null,d),n(0,d)),await re(d),await te("FeedbackSelector: Remove media",d))},function(){r=this.value,n(6,r)},function(e){$[e?"unshift":"push"]((()=>{l=e,n(7,l)}))},async e=>{n(6,r=e.target.files),await te("FeedbackSelector: Select transcript file",r)},async()=>{n(8,g=!0),await b(),n(8,g=!1),console.log(d),await te("FeedbackSelector: Upload transcript",d)},async()=>{window.confirm("This cannot be undone. Do you want to proceed?")&&(y(),n(1,u=[]),n(0,d.transcript_list=[],d),n(0,d.transcript="",d),n(0,d),await re(d),await te("FeedbackSelector: Remove transcript",d))},async()=>{if(u.length>0){if(!window.confirm("Auto-detecting again will clear all feedback highlighted. Do you want to proceed?"))return}n(8,g=!0),n(10,f=0);let e=d.transcript_list,t=Math.ceil(e.length/4),o=[e.slice(0,t),e.slice(t,2*t),e.slice(2*t,3*t),e.slice(3*t,e.length)];n(9,m="Detecting feedback in transcript ...");for(let e=0;e<o.length;e++){let t=await Pe(o[e]);n(1,u=u.concat(t)),n(10,f=20*(e+1)),await Z(250)}n(1,u),console.log(u);for(let e=0;e<u.length;e++){n(1,u[e].id=e+1,u);let t=u[e].dialogue_id,o=Me(d.transcript_list,t);n(1,u[e].excerpt_reference=o,u)}n(1,u),n(9,m="Highlighting feedback ..."),x(u),await le(u),await re(d),await Z(500),n(10,f=100),console.log("Feedback: "+u[0]),n(8,g=!1),n(10,f=0),n(9,m=""),await te("FeedbackSelector: Auto-detect feedback",u)},async()=>{let e=w("positive");await le(u),await re(d),await te("FeedbackSelector: Add positive feedback",e)},async()=>{let e=w("critical");await le(u),await re(d),await te("FeedbackSelector: Add critical feedback",e)},async()=>{let e=k();await le(u),await re(d),await te("FeedbackSelector: Remove feedback",e)},async()=>{y(),await le(u),await re(d),await te("FeedbackSelector: Removed all feedback",u)},function(e){$[e?"unshift":"push"]((()=>{o=e,n(3,o)}))},function(e){$[e?"unshift":"push"]((()=>{o=e,n(3,o)}))},function(e){$[e?"unshift":"push"]((()=>{o=e,n(3,o)}))}]}class Ue extends K{constructor(e){super(),X(this,e,De,$e,i,{recording:0,feedback_list:1},null,[-1,-1,-1])}}function Ie(t){let n,s,i,c,a,r,p;return{c(){n=g("div"),s=g("input"),i=f(),c=g("span"),a=m(t[0]),w(s,"type","range"),w(s,"min",t[1]),w(s,"max",t[2]),w(s,"step",t[3]),w(s,"id","rangeSlider"),w(s,"class","svelte-ohnqtn"),w(c,"id","sliderValue"),w(n,"class","centered spaced"),_(n,"width","100%"),_(n,"height","100%")},m(e,o){d(e,n,o),l(n,s),y(s,t[0]),l(n,i),l(n,c),l(c,a),r||(p=[v(s,"change",t[4]),v(s,"input",t[4])],r=!0)},p(e,[t]){2&t&&w(s,"min",e[1]),4&t&&w(s,"max",e[2]),8&t&&w(s,"step",e[3]),1&t&&y(s,e[0]),1&t&&k(a,e[0])},i:e,o:e,d(e){e&&u(n),r=!1,o(p)}}}function Je(e,t,n){let{min:o=0}=t,{max:s=2}=t,{step:i=.1}=t,{value:c=1}=t;return e.$$set=e=>{"min"in e&&n(1,o=e.min),"max"in e&&n(2,s=e.max),"step"in e&&n(3,i=e.step),"value"in e&&n(0,c=e.value)},[c,o,s,i,function(){c=function(e){return""===e?null:+e}(this.value),n(0,c)}]}class Ge extends K{constructor(e){super(),X(this,e,Je,Ie,i,{min:1,max:2,step:3,value:0})}}function Ve(e,t,n){const o=e.slice();return o[154]=t[n],o}function Qe(e,t,n){const o=e.slice();return o[157]=t[n],o[143]=n,o}function Be(e,t,n){const o=e.slice();return o[157]=t[n],o[143]=n,o}function Ye(e,t,n){const o=e.slice();return o[147]=t[n],o[143]=n,o}function We(e,t,n){const o=e.slice();return o[149]=t[n],o}function Xe(e,t,n){const o=e.slice();return o[144]=t[n],o}function Ke(e,t,n){const o=e.slice();return o[149]=t[n],o}function Ze(e,t,n){const o=e.slice();return o[141]=t[n],o[143]=n,o}function et(e,t,n){const o=e.slice();return o[160]=t[n],o[143]=n,o}function tt(e,t,n){const o=e.slice();return o[162]=t[n],o[166]=t,o[143]=n,o}function nt(e,t,n){const o=e.slice();return o[162]=t[n],o[165]=t,o[143]=n,o}function ot(e,t,n){const o=e.slice();return o[162]=t[n],o[164]=t,o[143]=n,o}function st(e,t,n){const o=e.slice();return o[162]=t[n],o[163]=t,o[143]=n,o}function it(e,t,n){const o=e.slice();return o[160]=t[n],o[143]=n,o}function ct(e){let t,n,o,s,i=e[160]+"";function c(){return e[47](e[143])}return{c(){t=g("button"),n=m(i),w(t,"class","tab svelte-qzsvuf"),F(t,"active",e[143]===e[15]),F(t,"right-bordered",e[143]<e[33].length-1)},m(e,i){d(e,t,i),l(t,n),o||(s=v(t,"click",c),o=!0)},p(n,o){e=n,32768&o[0]&&F(t,"active",e[143]===e[15])},d(e){e&&u(t),o=!1,s()}}}function at(e){let t;function n(e,t){return"grid"===e[5][e[15]]?dt:lt}let o=n(e),s=o(e);return{c(){s.c(),t=h()},m(e,n){s.m(e,n),d(e,t,n)},p(e,i){o===(o=n(e))&&s?s.p(e,i):(s.d(1),s=o(e),s&&(s.c(),s.m(t.parentNode,t)))},d(e){s.d(e),e&&u(t)}}}function rt(e){let t;function n(e,t){return"grid"===e[5][e[15]]?Mt:Pt}let o=n(e),s=o(e);return{c(){s.c(),t=h()},m(e,n){s.m(e,n),d(e,t,n)},p(e,i){o===(o=n(e))&&s?s.p(e,i):(s.d(1),s=o(e),s&&(s.c(),s.m(t.parentNode,t)))},d(e){s.d(e),e&&u(t)}}}function lt(e){let t,n,s,i,c,a,r,m,h,b,k,y,x,q,F,T,L,S,$,z,C;function N(e,t){return e[29]&&"id"===e[28]?pt:ut}let j=N(e),O=j(e);function P(e,t){return e[29]&&"quote"===e[28]?mt:gt}let M=P(e),R=M(e);function E(e,t){return e[29]&&"speaker"===e[28]?ht:ft}let H=E(e),A=H(e),D=e[0],U=[];for(let t=0;t<D.length;t+=1)U[t]=Ft(tt(e,D,t));return{c(){t=g("div"),n=g("div"),s=g("span"),i=g("strong"),i.textContent="ID",c=f(),a=g("button"),O.c(),r=f(),m=g("span"),h=g("strong"),h.textContent="Feedback",b=f(),k=g("button"),R.c(),y=f(),x=g("span"),q=g("strong"),q.textContent="Speaker",F=f(),T=g("button"),A.c(),L=f(),S=g("span"),S.innerHTML="<strong>Actions</strong>",$=f();for(let e=0;e<U.length;e+=1)U[e].c();w(a,"class","action-button"),w(s,"class","centered row id-col svelte-qzsvuf"),_(s,"gap","0.4rem"),w(k,"class","action-button"),w(m,"class","centered row spaced feedback-col svelte-qzsvuf"),w(T,"class","action-button"),w(x,"class","centered row spaced speaker-col svelte-qzsvuf"),w(S,"id","feedback-buttons"),w(S,"class","centered row actions-col svelte-qzsvuf"),w(n,"class","feedback-header row svelte-qzsvuf"),w(t,"class","column"),_(t,"overflow-y","auto")},m(o,u){d(o,t,u),l(t,n),l(n,s),l(s,i),l(s,c),l(s,a),O.m(a,null),l(n,r),l(n,m),l(m,h),l(m,b),l(m,k),R.m(k,null),l(n,y),l(n,x),l(x,q),l(x,F),l(x,T),A.m(T,null),l(n,L),l(n,S),l(t,$);for(let e=0;e<U.length;e+=1)U[e]&&U[e].m(t,null);z||(C=[v(a,"click",e[80]),v(k,"click",e[81]),v(T,"click",e[82])],z=!0)},p(e,n){if(j!==(j=N(e))&&(O.d(1),O=j(e),O&&(O.c(),O.m(a,null))),M!==(M=P(e))&&(R.d(1),R=M(e),R&&(R.c(),R.m(k,null))),H!==(H=E(e))&&(A.d(1),A=H(e),A&&(A.c(),A.m(T,null))),92177&n[0]|560&n[1]){let o;for(D=e[0],o=0;o<D.length;o+=1){const s=tt(e,D,o);U[o]?U[o].p(s,n):(U[o]=Ft(s),U[o].c(),U[o].m(t,null))}for(;o<U.length;o+=1)U[o].d(1);U.length=D.length}},d(e){e&&u(t),O.d(),R.d(),A.d(),p(U,e),z=!1,o(C)}}}function dt(e){let t,n=e[0],o=[];for(let t=0;t<n.length;t+=1)o[t]=Ot(nt(e,n,t));return{c(){t=g("div");for(let e=0;e<o.length;e+=1)o[e].c();w(t,"class","grid svelte-qzsvuf"),_(t,"overflow-y","auto")},m(e,n){d(e,t,n);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,null)},p(e,s){if(92177&s[0]|560&s[1]){let i;for(n=e[0],i=0;i<n.length;i+=1){const c=nt(e,n,i);o[i]?o[i].p(c,s):(o[i]=Ot(c),o[i].c(),o[i].m(t,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},d(e){e&&u(t),p(o,e)}}}function ut(e){let t,n;return{c(){t=g("img"),_(t,"height","1rem"),_(t,"width","1rem"),r(t.src,n="./logos/descending-sort-svgrepo-com.svg")||w(t,"src","./logos/descending-sort-svgrepo-com.svg"),w(t,"alt","Sort descending"),w(t,"class","mini-icon")},m(e,n){d(e,t,n)},d(e){e&&u(t)}}}function pt(e){let t,n;return{c(){t=g("img"),_(t,"height","1rem"),_(t,"width","1rem"),r(t.src,n="./logos/ascending-sort-svgrepo-com.svg")||w(t,"src","./logos/ascending-sort-svgrepo-com.svg"),w(t,"alt","Sort ascending"),w(t,"class","mini-icon")},m(e,n){d(e,t,n)},d(e){e&&u(t)}}}function gt(e){let t,n;return{c(){t=g("img"),_(t,"height","1rem"),_(t,"width","1rem"),r(t.src,n="./logos/descending-sort-svgrepo-com.svg")||w(t,"src","./logos/descending-sort-svgrepo-com.svg"),w(t,"alt","Sort descending"),w(t,"class","mini-icon")},m(e,n){d(e,t,n)},d(e){e&&u(t)}}}function mt(e){let t,n;return{c(){t=g("img"),_(t,"height","1rem"),_(t,"width","1rem"),r(t.src,n="./logos/ascending-sort-svgrepo-com.svg")||w(t,"src","./logos/ascending-sort-svgrepo-com.svg"),w(t,"alt","Sort ascending"),w(t,"class","mini-icon")},m(e,n){d(e,t,n)},d(e){e&&u(t)}}}function ft(e){let t,n;return{c(){t=g("img"),_(t,"height","1rem"),_(t,"width","1rem"),r(t.src,n="./logos/descending-sort-svgrepo-com.svg")||w(t,"src","./logos/descending-sort-svgrepo-com.svg"),w(t,"alt","Sort descending"),w(t,"class","mini-icon")},m(e,n){d(e,t,n)},d(e){e&&u(t)}}}function ht(e){let t,n;return{c(){t=g("img"),_(t,"height","1rem"),_(t,"width","1rem"),r(t.src,n="./logos/ascending-sort-svgrepo-com.svg")||w(t,"src","./logos/ascending-sort-svgrepo-com.svg"),w(t,"alt","Sort ascending"),w(t,"class","mini-icon")},m(e,n){d(e,t,n)},d(e){e&&u(t)}}}function vt(e){let t,n,s,i,c,a,r,p,h,b,y,_,x,q,T,L,S,$,z,C,N,j,O,P,M=e[162].id+"",R=(e[162].speaker?e[162].speaker:"Unknown")+"";function E(e,t){return"excerpt_reference"in e[162]?wt:bt}let H=E(e),A=H(e);function D(){return e[83](e[162])}function U(e,t){return e[162].positivised_quote&&e[162].show_paraphrased?xt:_t}let I=U(e),J=I(e);function G(){return e[86](e[162],e[166],e[143])}function V(){return e[87](e[162])}function Q(){return e[88](e[162])}function B(){return e[89](e[162])}function Y(...t){return e[90](e[162],...t)}return{c(){t=g("div"),n=g("span"),s=g("strong"),i=m(M),c=f(),a=g("div"),r=g("span"),p=g("span"),A.c(),h=f(),J.c(),b=f(),y=g("span"),_=m(R),x=f(),q=g("div"),T=g("button"),T.innerHTML='<img src="./logos/ai-positive-paraphrase.png" alt="Paraphrase positively" class="action-icon"/>\n                                                Positivize',L=f(),S=g("button"),S.innerHTML='<img src="./logos/select-context.svg" alt="Select feedback as context" style="height: 3.3rem; width: 3.3rem;"/>\n                                                Select Context',$=f(),z=g("button"),z.innerHTML='<img src="./logos/note-svgrepo-com.svg" alt="Remove feedback" class="action-icon"/>\n                                                Add Note',C=f(),N=g("button"),N.innerHTML='<img src="./logos/delete-svgrepo-com.svg" alt="Remove feedback" class="action-icon"/>\n                                                Delete',j=f(),w(n,"class","id-col svelte-qzsvuf"),w(p,"class","timestamp svelte-qzsvuf"),w(r,"class",""),w(a,"class","column feedback-col svelte-qzsvuf"),w(y,"class","centered speaker-col svelte-qzsvuf"),w(T,"class","action-button"),w(S,"class","action-button centered column"),w(z,"class","action-button"),w(N,"class","action-button"),w(q,"id","feedback-buttons"),w(q,"class","row centered spaced actions-col svelte-qzsvuf"),w(t,"class","feedback-row row bordered padded svelte-qzsvuf"),F(t,"done",e[162].done),F(t,"selected",e[162]===e[13])},m(e,o){d(e,t,o),l(t,n),l(n,s),l(s,i),l(t,c),l(t,a),l(a,r),l(r,p),A.m(p,null),l(r,h),J.m(r,null),l(t,b),l(t,y),l(y,_),l(t,x),l(t,q),l(q,T),l(q,L),l(q,S),l(q,$),l(q,z),l(q,C),l(q,N),l(t,j),O||(P=[v(p,"click",D),v(T,"click",G),v(S,"click",V),v(z,"click",Q),v(N,"click",B),v(t,"click",Y)],O=!0)},p(n,o){e=n,1&o[0]&&M!==(M=e[162].id+"")&&k(i,M),H===(H=E(e))&&A?A.p(e,o):(A.d(1),A=H(e),A&&(A.c(),A.m(p,null))),I===(I=U(e))&&J?J.p(e,o):(J.d(1),J=I(e),J&&(J.c(),J.m(r,null))),1&o[0]&&R!==(R=(e[162].speaker?e[162].speaker:"Unknown")+"")&&k(_,R),1&o[0]&&F(t,"done",e[162].done),8193&o[0]&&F(t,"selected",e[162]===e[13])},d(e){e&&u(t),A.d(),J.d(),O=!1,o(P)}}}function bt(t){let n;return{c(){n=m("[00:00:00]")},m(e,t){d(e,n,t)},p:e,d(e){e&&u(n)}}}function wt(e){let t;function n(e,t){return"start_timestamp"in e[162].excerpt_reference?yt:kt}let o=n(e),s=o(e);return{c(){s.c(),t=h()},m(e,n){s.m(e,n),d(e,t,n)},p(e,i){o===(o=n(e))&&s?s.p(e,i):(s.d(1),s=o(e),s&&(s.c(),s.m(t.parentNode,t)))},d(e){s.d(e),e&&u(t)}}}function kt(t){let n;return{c(){n=m("[00:00:00]")},m(e,t){d(e,n,t)},p:e,d(e){e&&u(n)}}}function yt(e){let t,n,o,s=e[162].excerpt_reference.start_timestamp+"";return{c(){t=m("["),n=m(s),o=m("]")},m(e,s){d(e,t,s),d(e,n,s),d(e,o,s)},p(e,t){1&t[0]&&s!==(s=e[162].excerpt_reference.start_timestamp+"")&&k(n,s)},d(e){e&&u(t),e&&u(n),e&&u(o)}}}function _t(e){let t,n,o,s,i=e[162].quote+"",c=e[162].positivised_quote&&!e[162].show_paraphrased&&qt(e);return{c(){t=m('"'),n=m(i),o=m('" '),c&&c.c(),s=h()},m(e,i){d(e,t,i),d(e,n,i),d(e,o,i),c&&c.m(e,i),d(e,s,i)},p(e,t){1&t[0]&&i!==(i=e[162].quote+"")&&k(n,i),e[162].positivised_quote&&!e[162].show_paraphrased?c?c.p(e,t):(c=qt(e),c.c(),c.m(s.parentNode,s)):c&&(c.d(1),c=null)},d(e){e&&u(t),e&&u(n),e&&u(o),c&&c.d(e),e&&u(s)}}}function xt(e){let t,n,o,s,i,c,a,r=e[162].positivised_quote+"";function l(){return e[84](e[162])}return{c(){t=g("strong"),t.textContent="(Paraphrased Feedback)",n=m(' "'),o=m(r),s=m('" \n                                                    '),i=g("span"),i.textContent="(View original quote)",w(i,"class","clickable svelte-qzsvuf")},m(e,r){d(e,t,r),d(e,n,r),d(e,o,r),d(e,s,r),d(e,i,r),c||(a=v(i,"click",l),c=!0)},p(t,n){e=t,1&n[0]&&r!==(r=e[162].positivised_quote+"")&&k(o,r)},d(e){e&&u(t),e&&u(n),e&&u(o),e&&u(s),e&&u(i),c=!1,a()}}}function qt(e){let t,n,o;function s(){return e[85](e[162])}return{c(){t=g("span"),t.textContent="(View paraphrased quote)",w(t,"class","clickable svelte-qzsvuf")},m(e,i){d(e,t,i),n||(o=v(t,"click",s),n=!0)},p(t,n){e=t},d(e){e&&u(t),n=!1,o()}}}function Ft(e){let t,n="positive"===e[162].type&&vt(e);return{c(){n&&n.c(),t=h()},m(e,o){n&&n.m(e,o),d(e,t,o)},p(e,o){"positive"===e[162].type?n?n.p(e,o):(n=vt(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&u(t)}}}function Tt(e){let t,n,s,i,c,a,r,p,h,b,y,_,x,q,T,L,S,$,z,C,N,j,O,P,M=e[162].speaker+"";function R(e,t){return"excerpt_reference"in e[162]?St:Lt}let E=R(e),H=E(e);function A(){return e[72](e[162])}function D(){return e[73](e[162],e[165],e[143])}function U(){return e[74](e[162])}function I(){return e[75](e[162])}function J(){return e[76](e[162])}function G(e,t){return e[162].positivised_quote&&e[162].show_paraphrased?Nt:Ct}let V=G(e),Q=V(e);function B(...t){return e[79](e[162],...t)}return{c(){t=g("div"),n=g("div"),s=g("small"),H.c(),i=f(),c=g("div"),a=g("button"),a.innerHTML='<img src="./logos/ai-positive-paraphrase.png" alt="Paraphrase positively" class="mini-icon"/>',r=f(),p=g("button"),p.innerHTML='<img src="./logos/select-context.svg" alt="Select feedback as context" style="height: 2.3rem; width: 2.3rem;"/>',h=f(),b=g("button"),b.innerHTML='<img src="./logos/note-svgrepo-com.svg" alt="Add note" class="mini-icon"/>',y=f(),_=g("button"),_.innerHTML='<img src="./logos/delete-svgrepo-com.svg" alt="Paraphrase positively" style="height: 2rem; width: 2rem;"/>',x=f(),q=g("br"),T=f(),Q.c(),L=f(),S=g("br"),$=f(),z=g("span"),C=m("- "),N=m(M),j=f(),w(s,"class","timestamp svelte-qzsvuf"),w(a,"class","action-button"),w(p,"class","action-button"),w(b,"class","action-button"),w(_,"class","action-button"),w(c,"class","row spaced"),w(n,"class","note-header row space-between"),w(t,"class","positive-feedback-note svelte-qzsvuf"),F(t,"selected",e[162]===e[13])},m(e,o){d(e,t,o),l(t,n),l(n,s),H.m(s,null),l(n,i),l(n,c),l(c,a),l(c,r),l(c,p),l(c,h),l(c,b),l(c,y),l(c,_),l(t,x),l(t,q),l(t,T),Q.m(t,null),l(t,L),l(t,S),l(t,$),l(t,z),l(z,C),l(z,N),l(t,j),O||(P=[v(s,"click",A),v(a,"click",D),v(p,"click",U),v(b,"click",I),v(_,"click",J),v(t,"click",B)],O=!0)},p(n,o){E===(E=R(e=n))&&H?H.p(e,o):(H.d(1),H=E(e),H&&(H.c(),H.m(s,null))),V===(V=G(e))&&Q?Q.p(e,o):(Q.d(1),Q=V(e),Q&&(Q.c(),Q.m(t,L))),1&o[0]&&M!==(M=e[162].speaker+"")&&k(N,M),8193&o[0]&&F(t,"selected",e[162]===e[13])},d(e){e&&u(t),H.d(),Q.d(),O=!1,o(P)}}}function Lt(t){let n;return{c(){n=m("[00:00:00]")},m(e,t){d(e,n,t)},p:e,d(e){e&&u(n)}}}function St(e){let t;function n(e,t){return"start_timestamp"in e[162].excerpt_reference?zt:$t}let o=n(e),s=o(e);return{c(){s.c(),t=h()},m(e,n){s.m(e,n),d(e,t,n)},p(e,i){o===(o=n(e))&&s?s.p(e,i):(s.d(1),s=o(e),s&&(s.c(),s.m(t.parentNode,t)))},d(e){s.d(e),e&&u(t)}}}function $t(t){let n;return{c(){n=m("[00:00:00]")},m(e,t){d(e,n,t)},p:e,d(e){e&&u(n)}}}function zt(e){let t,n,o,s=e[162].excerpt_reference.start_timestamp+"";return{c(){t=m("["),n=m(s),o=m("]")},m(e,s){d(e,t,s),d(e,n,s),d(e,o,s)},p(e,t){1&t[0]&&s!==(s=e[162].excerpt_reference.start_timestamp+"")&&k(n,s)},d(e){e&&u(t),e&&u(n),e&&u(o)}}}function Ct(e){let t,n,o,s,i=e[162].quote+"",c=e[162].positivised_quote&&!e[162].show_paraphrased&&jt(e);return{c(){t=m('"'),n=m(i),o=m('" '),c&&c.c(),s=h()},m(e,i){d(e,t,i),d(e,n,i),d(e,o,i),c&&c.m(e,i),d(e,s,i)},p(e,t){1&t[0]&&i!==(i=e[162].quote+"")&&k(n,i),e[162].positivised_quote&&!e[162].show_paraphrased?c?c.p(e,t):(c=jt(e),c.c(),c.m(s.parentNode,s)):c&&(c.d(1),c=null)},d(e){e&&u(t),e&&u(n),e&&u(o),c&&c.d(e),e&&u(s)}}}function Nt(e){let t,n,o,s,i,c,a,r=e[162].positivised_quote+"";function l(){return e[77](e[162])}return{c(){t=g("strong"),t.textContent="(Paraphrased Feedback)",n=m(' "'),o=m(r),s=m('" \n                                            '),i=g("span"),i.textContent="(View original quote)",w(i,"class","clickable svelte-qzsvuf")},m(e,r){d(e,t,r),d(e,n,r),d(e,o,r),d(e,s,r),d(e,i,r),c||(a=v(i,"click",l),c=!0)},p(t,n){e=t,1&n[0]&&r!==(r=e[162].positivised_quote+"")&&k(o,r)},d(e){e&&u(t),e&&u(n),e&&u(o),e&&u(s),e&&u(i),c=!1,a()}}}function jt(e){let t,n,o;function s(){return e[78](e[162])}return{c(){t=g("span"),t.textContent="(View paraphrased quote)",w(t,"class","clickable svelte-qzsvuf")},m(e,i){d(e,t,i),n||(o=v(t,"click",s),n=!0)},p(t,n){e=t},d(e){e&&u(t),n=!1,o()}}}function Ot(e){let t,n="positive"===e[162].type&&Tt(e);return{c(){n&&n.c(),t=h()},m(e,o){n&&n.m(e,o),d(e,t,o)},p(e,o){"positive"===e[162].type?n?n.p(e,o):(n=Tt(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&u(t)}}}function Pt(e){let t,n,s,i,c,a,m,h,b,k,y,x,q,F,T,L,S,$,z,C,N,j,O,P,M,R,E,H,A;function D(e,t){return e[29]&&"id"===e[28]?Et:Rt}let U=D(e),I=U(e);function J(e,t){return e[29]&&"quote"===e[28]?At:Ht}let G=J(e),V=G(e);function Q(e,t){return e[29]&&"speaker"===e[28]?Ut:Dt}let B=Q(e),Y=B(e),W=e[0],X=[];for(let t=0;t<W.length;t+=1)X[t]=Xt(ot(e,W,t));return{c(){t=g("div"),n=g("div"),s=g("span"),i=g("strong"),i.textContent="ID",c=f(),a=g("button"),I.c(),m=f(),h=g("span"),b=g("strong"),b.textContent="Feedback",k=f(),y=g("button"),V.c(),x=f(),q=g("span"),F=g("strong"),F.textContent="Speaker",T=f(),L=g("button"),Y.c(),S=f(),$=g("span"),$.innerHTML="<strong>Actions</strong>",z=f(),C=g("span"),N=g("strong"),N.textContent="Done?",j=f(),O=g("button"),P=g("img"),E=f();for(let e=0;e<X.length;e+=1)X[e].c();w(a,"class","action-button"),w(s,"class","centered row id-col svelte-qzsvuf"),_(s,"gap","0.4rem"),w(y,"class","action-button"),w(h,"class","centered row spaced feedback-col svelte-qzsvuf"),w(L,"class","action-button"),w(q,"class","centered row spaced speaker-col svelte-qzsvuf"),w($,"id","feedback-buttons"),w($,"class","centered row actions-col svelte-qzsvuf"),_(P,"height","1rem"),_(P,"width","1rem"),r(P.src,M=e[29]&&"done"===e[28]?"./logos/ascending-sort-svgrepo-com.svg":"./logos/descending-sort-svgrepo-com.svg")||w(P,"src",M),w(P,"alt",R=e[29]&&"done"===e[28]?"Sort ascending":"Sort descending"),w(P,"class","mini-icon"),w(O,"class","action-button"),w(C,"class","centered row spaced done-col svelte-qzsvuf"),w(n,"class","feedback-header row svelte-qzsvuf"),w(t,"class","column"),_(t,"overflow-y","auto")},m(o,r){d(o,t,r),l(t,n),l(n,s),l(s,i),l(s,c),l(s,a),I.m(a,null),l(n,m),l(n,h),l(h,b),l(h,k),l(h,y),V.m(y,null),l(n,x),l(n,q),l(q,F),l(q,T),l(q,L),Y.m(L,null),l(n,S),l(n,$),l(n,z),l(n,C),l(C,N),l(C,j),l(C,O),l(O,P),l(t,E);for(let e=0;e<X.length;e+=1)X[e]&&X[e].m(t,null);H||(A=[v(a,"click",e[59]),v(y,"click",e[60]),v(L,"click",e[61]),v(O,"click",e[62])],H=!0)},p(e,n){if(U!==(U=D(e))&&(I.d(1),I=U(e),I&&(I.c(),I.m(a,null))),G!==(G=J(e))&&(V.d(1),V=G(e),V&&(V.c(),V.m(y,null))),B!==(B=Q(e))&&(Y.d(1),Y=B(e),Y&&(Y.c(),Y.m(L,null))),805306368&n[0]&&!r(P.src,M=e[29]&&"done"===e[28]?"./logos/ascending-sort-svgrepo-com.svg":"./logos/descending-sort-svgrepo-com.svg")&&w(P,"src",M),805306368&n[0]&&R!==(R=e[29]&&"done"===e[28]?"Sort ascending":"Sort descending")&&w(P,"alt",R),92177&n[0]|560&n[1]){let o;for(W=e[0],o=0;o<W.length;o+=1){const s=ot(e,W,o);X[o]?X[o].p(s,n):(X[o]=Xt(s),X[o].c(),X[o].m(t,null))}for(;o<X.length;o+=1)X[o].d(1);X.length=W.length}},d(e){e&&u(t),I.d(),V.d(),Y.d(),p(X,e),H=!1,o(A)}}}function Mt(e){let t,n=e[0],o=[];for(let t=0;t<n.length;t+=1)o[t]=an(st(e,n,t));return{c(){t=g("div");for(let e=0;e<o.length;e+=1)o[e].c();w(t,"class","grid svelte-qzsvuf"),_(t,"overflow-y","auto")},m(e,n){d(e,t,n);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,null)},p(e,s){if(92177&s[0]|560&s[1]){let i;for(n=e[0],i=0;i<n.length;i+=1){const c=st(e,n,i);o[i]?o[i].p(c,s):(o[i]=an(c),o[i].c(),o[i].m(t,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},d(e){e&&u(t),p(o,e)}}}function Rt(e){let t,n;return{c(){t=g("img"),_(t,"height","1rem"),_(t,"width","1rem"),r(t.src,n="./logos/descending-sort-svgrepo-com.svg")||w(t,"src","./logos/descending-sort-svgrepo-com.svg"),w(t,"alt","Sort descending"),w(t,"class","mini-icon")},m(e,n){d(e,t,n)},d(e){e&&u(t)}}}function Et(e){let t,n;return{c(){t=g("img"),_(t,"height","1rem"),_(t,"width","1rem"),r(t.src,n="./logos/ascending-sort-svgrepo-com.svg")||w(t,"src","./logos/ascending-sort-svgrepo-com.svg"),w(t,"alt","Sort ascending"),w(t,"class","mini-icon")},m(e,n){d(e,t,n)},d(e){e&&u(t)}}}function Ht(e){let t,n;return{c(){t=g("img"),_(t,"height","1rem"),_(t,"width","1rem"),r(t.src,n="./logos/descending-sort-svgrepo-com.svg")||w(t,"src","./logos/descending-sort-svgrepo-com.svg"),w(t,"alt","Sort descending"),w(t,"class","mini-icon")},m(e,n){d(e,t,n)},d(e){e&&u(t)}}}function At(e){let t,n;return{c(){t=g("img"),_(t,"height","1rem"),_(t,"width","1rem"),r(t.src,n="./logos/ascending-sort-svgrepo-com.svg")||w(t,"src","./logos/ascending-sort-svgrepo-com.svg"),w(t,"alt","Sort ascending"),w(t,"class","mini-icon")},m(e,n){d(e,t,n)},d(e){e&&u(t)}}}function Dt(e){let t,n;return{c(){t=g("img"),_(t,"height","1rem"),_(t,"width","1rem"),r(t.src,n="./logos/descending-sort-svgrepo-com.svg")||w(t,"src","./logos/descending-sort-svgrepo-com.svg"),w(t,"alt","Sort descending"),w(t,"class","mini-icon")},m(e,n){d(e,t,n)},d(e){e&&u(t)}}}function Ut(e){let t,n;return{c(){t=g("img"),_(t,"height","1rem"),_(t,"width","1rem"),r(t.src,n="./logos/ascending-sort-svgrepo-com.svg")||w(t,"src","./logos/ascending-sort-svgrepo-com.svg"),w(t,"alt","Sort ascending"),w(t,"class","mini-icon")},m(e,n){d(e,t,n)},d(e){e&&u(t)}}}function It(e){let t,n,s,i,c,a,r,p,h,b,y,_,x,q,T,L,S,$,z,C,N,j,O,P,M,R,E,H=e[162].id+"",A=(e[162].speaker?e[162].speaker:"Unknown")+"";function D(e,t){return"excerpt_reference"in e[162]?Gt:Jt}let U=D(e),I=U(e);function J(){return e[63](e[162])}function G(e,t){return e[162].positivised_quote&&e[162].show_paraphrased?Yt:Bt}let V=G(e),Q=V(e);function B(){return e[66](e[162],e[164],e[143])}function Y(){return e[67](e[162])}function W(){return e[68](e[162])}function X(){return e[69](e[162])}function K(){e[70].call(P,e[164],e[143])}function Z(...t){return e[71](e[162],...t)}return{c(){t=g("div"),n=g("span"),s=g("strong"),i=m(H),c=f(),a=g("div"),r=g("span"),p=g("span"),I.c(),h=f(),Q.c(),b=f(),y=g("span"),_=m(A),x=f(),q=g("div"),T=g("button"),T.innerHTML='<img src="./logos/ai-positive-paraphrase.png" alt="Paraphrase positively" class="action-icon"/>\n                                                Positivize',L=f(),S=g("button"),S.innerHTML='<img src="./logos/select-context.svg" alt="Select feedback as context" style="height: 3.3rem; width: 3.3rem;"/>\n                                                Select Context',$=f(),z=g("button"),z.innerHTML='<img src="./logos/note-svgrepo-com.svg" alt="Remove feedback" class="action-icon"/>\n                                                Add Note',C=f(),N=g("button"),N.innerHTML='<img src="./logos/delete-svgrepo-com.svg" alt="Remove feedback" class="action-icon"/>\n                                                Delete',j=f(),O=g("span"),P=g("input"),M=f(),w(n,"class","id-col svelte-qzsvuf"),w(p,"class","timestamp svelte-qzsvuf"),w(r,"class",""),w(a,"class","column feedback-col svelte-qzsvuf"),w(y,"class","centered speaker-col svelte-qzsvuf"),w(T,"class","action-button"),w(S,"class","action-button centered column"),w(z,"class","action-button"),w(N,"class","action-button"),w(q,"id","feedback-buttons"),w(q,"class","row centered spaced actions-col svelte-qzsvuf"),w(P,"type","checkbox"),w(O,"class","centered done-col svelte-qzsvuf"),w(t,"class","feedback-row row bordered padded svelte-qzsvuf"),F(t,"done",e[162].done),F(t,"selected",e[162]===e[13])},m(o,u){d(o,t,u),l(t,n),l(n,s),l(s,i),l(t,c),l(t,a),l(a,r),l(r,p),I.m(p,null),l(r,h),Q.m(r,null),l(t,b),l(t,y),l(y,_),l(t,x),l(t,q),l(q,T),l(q,L),l(q,S),l(q,$),l(q,z),l(q,C),l(q,N),l(t,j),l(t,O),l(O,P),P.checked=e[162].done,l(t,M),R||(E=[v(p,"click",J),v(T,"click",B),v(S,"click",Y),v(z,"click",W),v(N,"click",X),v(P,"change",K),v(t,"click",Z)],R=!0)},p(n,o){e=n,1&o[0]&&H!==(H=e[162].id+"")&&k(i,H),U===(U=D(e))&&I?I.p(e,o):(I.d(1),I=U(e),I&&(I.c(),I.m(p,null))),V===(V=G(e))&&Q?Q.p(e,o):(Q.d(1),Q=V(e),Q&&(Q.c(),Q.m(r,null))),1&o[0]&&A!==(A=(e[162].speaker?e[162].speaker:"Unknown")+"")&&k(_,A),1&o[0]&&(P.checked=e[162].done),1&o[0]&&F(t,"done",e[162].done),8193&o[0]&&F(t,"selected",e[162]===e[13])},d(e){e&&u(t),I.d(),Q.d(),R=!1,o(E)}}}function Jt(t){let n;return{c(){n=m("[00:00:00]")},m(e,t){d(e,n,t)},p:e,d(e){e&&u(n)}}}function Gt(e){let t;function n(e,t){return"start_timestamp"in e[162].excerpt_reference?Qt:Vt}let o=n(e),s=o(e);return{c(){s.c(),t=h()},m(e,n){s.m(e,n),d(e,t,n)},p(e,i){o===(o=n(e))&&s?s.p(e,i):(s.d(1),s=o(e),s&&(s.c(),s.m(t.parentNode,t)))},d(e){s.d(e),e&&u(t)}}}function Vt(t){let n;return{c(){n=m("[00:00:00]")},m(e,t){d(e,n,t)},p:e,d(e){e&&u(n)}}}function Qt(e){let t,n,o,s=e[162].excerpt_reference.start_timestamp+"";return{c(){t=m("["),n=m(s),o=m("]")},m(e,s){d(e,t,s),d(e,n,s),d(e,o,s)},p(e,t){1&t[0]&&s!==(s=e[162].excerpt_reference.start_timestamp+"")&&k(n,s)},d(e){e&&u(t),e&&u(n),e&&u(o)}}}function Bt(e){let t,n,o,s,i=e[162].quote+"",c=e[162].positivised_quote&&!e[162].show_paraphrased&&Wt(e);return{c(){t=m('"'),n=m(i),o=m('" '),c&&c.c(),s=h()},m(e,i){d(e,t,i),d(e,n,i),d(e,o,i),c&&c.m(e,i),d(e,s,i)},p(e,t){1&t[0]&&i!==(i=e[162].quote+"")&&k(n,i),e[162].positivised_quote&&!e[162].show_paraphrased?c?c.p(e,t):(c=Wt(e),c.c(),c.m(s.parentNode,s)):c&&(c.d(1),c=null)},d(e){e&&u(t),e&&u(n),e&&u(o),c&&c.d(e),e&&u(s)}}}function Yt(e){let t,n,o,s,i,c,a,r=e[162].positivised_quote+"";function l(){return e[64](e[162])}return{c(){t=g("strong"),t.textContent="(Paraphrased Feedback)",n=m(' "'),o=m(r),s=m('" \n                                                    '),i=g("span"),i.textContent="(View original quote)",w(i,"class","clickable svelte-qzsvuf")},m(e,r){d(e,t,r),d(e,n,r),d(e,o,r),d(e,s,r),d(e,i,r),c||(a=v(i,"click",l),c=!0)},p(t,n){e=t,1&n[0]&&r!==(r=e[162].positivised_quote+"")&&k(o,r)},d(e){e&&u(t),e&&u(n),e&&u(o),e&&u(s),e&&u(i),c=!1,a()}}}function Wt(e){let t,n,o;function s(){return e[65](e[162])}return{c(){t=g("span"),t.textContent="(View paraphrased quote)",w(t,"class","clickable svelte-qzsvuf")},m(e,i){d(e,t,i),n||(o=v(t,"click",s),n=!0)},p(t,n){e=t},d(e){e&&u(t),n=!1,o()}}}function Xt(e){let t,n="critical"===e[162].type&&It(e);return{c(){n&&n.c(),t=h()},m(e,o){n&&n.m(e,o),d(e,t,o)},p(e,o){"critical"===e[162].type?n?n.p(e,o):(n=It(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&u(t)}}}function Kt(e){let t,n,s,i,c,a,r,p,h,b,y,_,x,q,T,L,S,$,z,C,N,j,O,P,M,R,E,H=e[162].speaker+"";function A(e,t){return"excerpt_reference"in e[162]?en:Zt}let D=A(e),U=D(e);function I(){return e[50](e[162])}function J(){return e[51](e[162],e[163],e[143])}function G(){return e[52](e[162])}function V(){return e[53](e[162])}function Q(){return e[54](e[162])}function B(){e[55].call(T,e[163],e[143])}function Y(e,t){return e[162].positivised_quote&&e[162].show_paraphrased?sn:on}let W=Y(e),X=W(e);function K(...t){return e[58](e[162],...t)}return{c(){t=g("div"),n=g("div"),s=g("small"),U.c(),i=f(),c=g("div"),a=g("button"),a.innerHTML='<img src="./logos/ai-positive-paraphrase.png" alt="Paraphrase positively" class="mini-icon"/>',r=f(),p=g("button"),p.innerHTML='<img src="./logos/select-context.svg" alt="Select feedback as context" style="height: 2.3rem; width: 2.3rem;"/>',h=f(),b=g("button"),b.innerHTML='<img src="./logos/note-svgrepo-com.svg" alt="Add note" class="mini-icon"/>',y=f(),_=g("button"),_.innerHTML='<img src="./logos/delete-svgrepo-com.svg" alt="Remove critical feedback" style="height: 2rem; width: 2rem;"/>',x=f(),q=g("span"),T=g("input"),L=f(),S=g("br"),$=f(),X.c(),z=f(),C=g("br"),N=f(),j=g("span"),O=m("- "),P=m(H),M=f(),w(s,"class","timestamp svelte-qzsvuf"),w(a,"class","action-button"),w(p,"class","action-button"),w(b,"class","action-button"),w(_,"class","action-button"),w(T,"type","checkbox"),w(q,"class","centered"),w(c,"class","row spaced"),w(n,"class","note-header row space-between"),w(t,"class","critical-feedback-note svelte-qzsvuf"),F(t,"done",e[162].done),F(t,"selected",e[162]===e[13])},m(o,u){d(o,t,u),l(t,n),l(n,s),U.m(s,null),l(n,i),l(n,c),l(c,a),l(c,r),l(c,p),l(c,h),l(c,b),l(c,y),l(c,_),l(c,x),l(c,q),l(q,T),T.checked=e[162].done,l(t,L),l(t,S),l(t,$),X.m(t,null),l(t,z),l(t,C),l(t,N),l(t,j),l(j,O),l(j,P),l(t,M),R||(E=[v(s,"click",I),v(a,"click",J),v(p,"click",G),v(b,"click",V),v(_,"click",Q),v(T,"change",B),v(t,"click",K)],R=!0)},p(n,o){D===(D=A(e=n))&&U?U.p(e,o):(U.d(1),U=D(e),U&&(U.c(),U.m(s,null))),1&o[0]&&(T.checked=e[162].done),W===(W=Y(e))&&X?X.p(e,o):(X.d(1),X=W(e),X&&(X.c(),X.m(t,z))),1&o[0]&&H!==(H=e[162].speaker+"")&&k(P,H),1&o[0]&&F(t,"done",e[162].done),8193&o[0]&&F(t,"selected",e[162]===e[13])},d(e){e&&u(t),U.d(),X.d(),R=!1,o(E)}}}function Zt(t){let n;return{c(){n=m("[00:00:00]")},m(e,t){d(e,n,t)},p:e,d(e){e&&u(n)}}}function en(e){let t;function n(e,t){return"start_timestamp"in e[162].excerpt_reference?nn:tn}let o=n(e),s=o(e);return{c(){s.c(),t=h()},m(e,n){s.m(e,n),d(e,t,n)},p(e,i){o===(o=n(e))&&s?s.p(e,i):(s.d(1),s=o(e),s&&(s.c(),s.m(t.parentNode,t)))},d(e){s.d(e),e&&u(t)}}}function tn(t){let n;return{c(){n=m("[00:00:00]")},m(e,t){d(e,n,t)},p:e,d(e){e&&u(n)}}}function nn(e){let t,n,o,s=e[162].excerpt_reference.start_timestamp+"";return{c(){t=m("["),n=m(s),o=m("]")},m(e,s){d(e,t,s),d(e,n,s),d(e,o,s)},p(e,t){1&t[0]&&s!==(s=e[162].excerpt_reference.start_timestamp+"")&&k(n,s)},d(e){e&&u(t),e&&u(n),e&&u(o)}}}function on(e){let t,n,o,s,i=e[162].quote+"",c=e[162].positivised_quote&&!e[162].show_paraphrased&&cn(e);return{c(){t=m('"'),n=m(i),o=m('" '),c&&c.c(),s=h()},m(e,i){d(e,t,i),d(e,n,i),d(e,o,i),c&&c.m(e,i),d(e,s,i)},p(e,t){1&t[0]&&i!==(i=e[162].quote+"")&&k(n,i),e[162].positivised_quote&&!e[162].show_paraphrased?c?c.p(e,t):(c=cn(e),c.c(),c.m(s.parentNode,s)):c&&(c.d(1),c=null)},d(e){e&&u(t),e&&u(n),e&&u(o),c&&c.d(e),e&&u(s)}}}function sn(e){let t,n,o,s,i,c,a,r=e[162].positivised_quote+"";function l(){return e[56](e[162])}return{c(){t=g("strong"),t.textContent="(Paraphrased Feedback)",n=m(' "'),o=m(r),s=m('" \n                                            '),i=g("span"),i.textContent="(View original quote)",w(i,"class","clickable svelte-qzsvuf")},m(e,r){d(e,t,r),d(e,n,r),d(e,o,r),d(e,s,r),d(e,i,r),c||(a=v(i,"click",l),c=!0)},p(t,n){e=t,1&n[0]&&r!==(r=e[162].positivised_quote+"")&&k(o,r)},d(e){e&&u(t),e&&u(n),e&&u(o),e&&u(s),e&&u(i),c=!1,a()}}}function cn(e){let t,n,o;function s(){return e[57](e[162])}return{c(){t=g("span"),t.textContent="(View paraphrased quote)",w(t,"class","clickable svelte-qzsvuf")},m(e,i){d(e,t,i),n||(o=v(t,"click",s),n=!0)},p(t,n){e=t},d(e){e&&u(t),n=!1,o()}}}function an(e){let t,n="critical"===e[162].type&&Kt(e);return{c(){n&&n.c(),t=h()},m(e,o){n&&n.m(e,o),d(e,t,o)},p(e,o){"critical"===e[162].type?n?n.p(e,o):(n=Kt(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&u(t)}}}function rn(e){let t,n,o,s,i=e[160]+"";function c(){return e[91](e[143])}return{c(){t=g("button"),n=m(i),w(t,"class","tab svelte-qzsvuf"),F(t,"active",e[143]===e[14]),F(t,"right-bordered",e[143]<e[34].length-1)},m(e,i){d(e,t,i),l(t,n),o||(s=v(t,"click",c),o=!0)},p(n,o){e=n,16384&o[0]&&F(t,"active",e[143]===e[14])},d(e){e&&u(t),o=!1,s()}}}function ln(t){let n,s,i,c,a,r,p,m,h,b,k,y,x,q,T,L,S;function $(e,t){return e[3].length>0?gn:pn}let z=$(t),C=z(t),N=t[30]&&fn(t);function j(e,t){return 16&t[0]&&(T=null),null==T&&(T=!!(Object.keys(e[4]).length>0)),T?vn:hn}let O=j(t,[-1,-1,-1,-1,-1,-1]),P=O(t);return{c(){n=g("div"),s=g("div"),i=g("div"),i.innerHTML='<span style="text-decoration: underline;"><strong>My Notes</strong></span>',c=f(),a=g("div"),C.c(),r=f(),N&&N.c(),p=f(),m=g("div"),h=g("button"),h.innerHTML='<img src="./logos/note-svgrepo-com.svg" alt="Add Note" class="action-icon"/>\n                                    Add Note',b=f(),k=g("button"),k.innerHTML='<img src="./logos/delete-svgrepo-com.svg" alt="Delete all notes" class="action-icon"/>\n                                    Delete all',y=f(),x=g("div"),x.innerHTML='<span style="text-decoration: underline;"><strong>My Feedback Notes</strong></span>',q=f(),P.c(),w(i,"class","row centered"),_(i,"width","100%"),_(i,"height","auto"),w(a,"class","column bordered"),_(a,"width","100%"),_(a,"height","auto"),F(a,"centered",t[3].length<=0),w(h,"class","action-button centered column"),w(k,"class","action-button centered column"),w(m,"class","row centered spaced"),w(s,"class","column centered spaced padded"),_(s,"width","100%"),_(s,"height","auto"),w(x,"class","row centered"),_(x,"width","100%"),_(x,"height","auto"),w(n,"class","column spaced padded"),_(n,"width","100%"),_(n,"height","100%"),_(n,"overflow-y","auto")},m(e,o){d(e,n,o),l(n,s),l(s,i),l(s,c),l(s,a),C.m(a,null),l(a,r),N&&N.m(a,null),l(s,p),l(s,m),l(m,h),l(m,b),l(m,k),l(n,y),l(n,x),l(n,q),P.m(n,null),L||(S=[v(h,"click",t[130]),v(k,"click",t[131])],L=!0)},p(e,t){z===(z=$(e))&&C?C.p(e,t):(C.d(1),C=z(e),C&&(C.c(),C.m(a,r))),e[30]?N?N.p(e,t):(N=fn(e),N.c(),N.m(a,null)):N&&(N.d(1),N=null),8&t[0]&&F(a,"centered",e[3].length<=0),O===(O=j(e,t))&&P?P.p(e,t):(P.d(1),P=O(e),P&&(P.c(),P.m(n,null)))},i:e,o:e,d(e){e&&u(n),C.d(),N&&N.d(),P.d(),L=!1,o(S)}}}function dn(e){let t,n,s,i,c,a,m,h,b,k,y,q,T,L,S,$,z,C=Object.keys(e[32]),N=[];for(let t=0;t<C.length;t+=1)N[t]=xn(Ke(e,C,t));const j=[Fn,qn],P=[];function M(e,t){return e[7]?1:0}return T=M(e),L=P[T]=j[T](e),{c(){t=g("div"),n=g("div"),s=g("div"),i=g("span"),i.textContent="Model:",c=f(),a=g("select");for(let e=0;e<N.length;e+=1)N[e].c();m=f(),h=g("button"),b=g("img"),q=f(),L.c(),void 0===e[8]&&O((()=>e[97].call(a))),w(s,"class","row spaced centered"),_(s,"height","auto"),_(s,"width","100%"),F(s,"gone",e[7]),w(b,"class","action-icon"),r(b.src,k=e[7]?"./logos/exit-svgrepo-com.svg":"./logos/settings-svgrepo-com.svg")||w(b,"src",k),w(b,"alt",y=e[7]?"Exit chatbot settings":"Open chatbot settings"),_(b,"width","2.5rem"),_(b,"height","2.5rem"),w(h,"class","action-button"),w(n,"id","chatbot-header"),w(n,"class","padded row space-between svelte-qzsvuf"),w(t,"id","chatbot-tab-content"),w(t,"class","column svelte-qzsvuf")},m(o,r){d(o,t,r),l(t,n),l(n,s),l(s,i),l(s,c),l(s,a);for(let e=0;e<N.length;e+=1)N[e]&&N[e].m(a,null);x(a,e[8],!0),l(n,m),l(n,h),l(h,b),l(t,q),P[T].m(t,null),S=!0,$||(z=[v(a,"change",e[97]),v(h,"click",e[98])],$=!0)},p(e,n){if(2&n[1]){let t;for(C=Object.keys(e[32]),t=0;t<C.length;t+=1){const o=Ke(e,C,t);N[t]?N[t].p(o,n):(N[t]=xn(o),N[t].c(),N[t].m(a,null))}for(;t<N.length;t+=1)N[t].d(1);N.length=C.length}256&n[0]|2&n[1]&&x(a,e[8]),(!S||128&n[0])&&F(s,"gone",e[7]),(!S||128&n[0]&&!r(b.src,k=e[7]?"./logos/exit-svgrepo-com.svg":"./logos/settings-svgrepo-com.svg"))&&w(b,"src",k),(!S||128&n[0]&&y!==(y=e[7]?"Exit chatbot settings":"Open chatbot settings"))&&w(b,"alt",y);let o=T;T=M(e),T===o?P[T].p(e,n):(U(),G(P[o],1,1,(()=>{P[o]=null})),I(),L=P[T],L?L.p(e,n):(L=P[T]=j[T](e),L.c()),J(L,1),L.m(t,null))},i(e){S||(J(L),S=!0)},o(e){G(L),S=!1},d(e){e&&u(t),p(N,e),P[T].d(),$=!1,o(z)}}}function un(t){let n,o,s,i;function c(e,t){return e[6]&&e[6].video?In:e[6]&&e[6].audio?Un:Dn}let a=c(t),r=a(t),p=t[6]&&t[6].transcript&&Jn(t);return{c(){n=g("div"),o=g("div"),r.c(),s=f(),i=g("div"),p&&p.c(),w(o,"id","media-player-area"),w(o,"class","bordered svelte-qzsvuf"),w(i,"id","transcript-area"),w(i,"class","column bordered spaced svelte-qzsvuf"),w(n,"class","column padded spaced"),_(n,"width","100%"),_(n,"height","100%")},m(e,t){d(e,n,t),l(n,o),r.m(o,null),l(n,s),l(n,i),p&&p.m(i,null)},p(e,t){a===(a=c(e))&&r?r.p(e,t):(r.d(1),r=a(e),r&&(r.c(),r.m(o,null))),e[6]&&e[6].transcript?p?p.p(e,t):(p=Jn(e),p.c(),p.m(i,null)):p&&(p.d(1),p=null)},i:e,o:e,d(e){e&&u(n),r.d(),p&&p.d()}}}function pn(t){let n;return{c(){n=g("div"),n.innerHTML="<span>No notes added. Feel free to add a note.</span>",w(n,"class","row padded space-between centered")},m(e,t){d(e,n,t)},p:e,d(e){e&&u(n)}}}function gn(e){let t,n=e[3],o=[];for(let t=0;t<n.length;t+=1)o[t]=mn(Be(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=h()},m(e,n){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,n);d(e,t,n)},p(e,s){if(8&s[0]|16384&s[1]){let i;for(n=e[3],i=0;i<n.length;i+=1){const c=Be(e,n,i);o[i]?o[i].p(c,s):(o[i]=mn(c),o[i].c(),o[i].m(t.parentNode,t))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},d(e){p(o,e),e&&u(t)}}}function mn(e){let t,n,o,s,i,c,a,r,p,h=e[157]+"";function b(){return e[126](e[143],e[157])}return{c(){t=g("div"),n=g("p"),o=m(h),s=f(),i=g("div"),c=g("button"),c.innerHTML='<img src="./logos/delete-x-svgrepo-com.svg" alt="Delete note" class="mini-icon"/>',a=f(),_(n,"width","95%"),_(n,"align-items","flex-start"),w(c,"class","action-button"),w(i,"class","row spaced"),_(i,"width","5%"),_(i,"align-items","flex-start"),w(t,"class","row padded bordered space-between")},m(e,u){d(e,t,u),l(t,n),l(n,o),l(t,s),l(t,i),l(i,c),l(t,a),r||(p=v(c,"click",b),r=!0)},p(t,n){e=t,8&n[0]&&h!==(h=e[157]+"")&&k(o,h)},d(e){e&&u(t),r=!1,p()}}}function fn(e){let t,n,s,i,c,a,r,p,m;return{c(){t=g("div"),n=g("input"),s=f(),i=g("div"),c=g("button"),c.innerHTML='<img src="./logos/check-svgrepo-com.svg" alt="Confirm adding note" class="mini-icon"/>',a=f(),r=g("button"),r.innerHTML='<img src="./logos/delete-x-svgrepo-com.svg" alt="Cancel adding note" class="mini-icon"/>',w(n,"class","note-input svelte-qzsvuf"),w(n,"type","text"),w(n,"placeholder","Enter your note here"),w(c,"class","action-button"),w(r,"class","action-button"),w(i,"class","row spaced"),w(t,"class","row padded bordered space-between"),_(t,"width","100%"),_(t,"height","auto")},m(o,u){d(o,t,u),l(t,n),y(n,e[31]),l(t,s),l(t,i),l(i,c),l(i,a),l(i,r),p||(m=[v(n,"input",e[127]),v(c,"click",e[128]),v(r,"click",e[129])],p=!0)},p(e,t){1&t[1]&&n.value!==e[31]&&y(n,e[31])},d(e){e&&u(t),p=!1,o(m)}}}function hn(t){let n;return{c(){n=g("div"),n.innerHTML='<div class="row space-between centered" style="width:100%; height:auto;"><span>No feedback notes added. Feel free to add notes on your feedback by clicking &quot;Add Note&quot; on any of the critical feedback.</span></div>',w(n,"class","column centered spaced padded"),_(n,"width","100%"),_(n,"height","auto")},m(e,t){d(e,n,t)},p:e,d(e){e&&u(n)}}}function vn(e){let t,n=Object.keys(e[4]).map(Number).sort(Yn),o=[];for(let t=0;t<n.length;t+=1)o[t]=_n(Ve(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=h()},m(e,n){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,n);d(e,t,n)},p(e,s){if(17&s[0]|49153&s[1]){let i;for(n=Object.keys(e[4]).map(Number).sort(Yn),i=0;i<n.length;i+=1){const c=Ve(e,n,i);o[i]?o[i].p(c,s):(o[i]=_n(c),o[i].c(),o[i].m(t.parentNode,t))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},d(e){p(o,e),e&&u(t)}}}function bn(t){let n;return{c(){n=g("div"),n.innerHTML="<span>No notes added. Feel free to add a note.</span>",w(n,"class","row padded centered space-between")},m(e,t){d(e,n,t)},p:e,d(e){e&&u(n)}}}function wn(e){let t,n=e[4][e[154]].notes,o=[];for(let t=0;t<n.length;t+=1)o[t]=kn(Qe(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=h()},m(e,n){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,n);d(e,t,n)},p(e,s){if(16&s[0]|16384&s[1]){let i;for(n=e[4][e[154]].notes,i=0;i<n.length;i+=1){const c=Qe(e,n,i);o[i]?o[i].p(c,s):(o[i]=kn(c),o[i].c(),o[i].m(t.parentNode,t))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},d(e){p(o,e),e&&u(t)}}}function kn(e){let t,n,o,s,i,c,a,p,h,b,y,x,q=e[157]+"";function F(){return e[133](e[143],e[154],e[157])}return{c(){t=g("div"),n=g("p"),o=m(q),s=f(),i=g("div"),c=g("button"),a=g("img"),b=f(),_(n,"width","95%"),r(a.src,p="./logos/delete-x-svgrepo-com.svg")||w(a,"src","./logos/delete-x-svgrepo-com.svg"),w(a,"alt",h="Delete note from Feedback ID"+e[154]),w(a,"class","mini-icon"),w(c,"class","action-button"),w(i,"class","row space-between"),_(i,"width","5%"),_(i,"align-items","flex-start"),w(t,"class","row padded bordered space-between")},m(e,r){d(e,t,r),l(t,n),l(n,o),l(t,s),l(t,i),l(i,c),l(c,a),l(t,b),y||(x=v(c,"click",F),y=!0)},p(t,n){e=t,16&n[0]&&q!==(q=e[157]+"")&&k(o,q),16&n[0]&&h!==(h="Delete note from Feedback ID"+e[154])&&w(a,"alt",h)},d(e){e&&u(t),y=!1,x()}}}function yn(e){let t,n,s,i,c,a,r,p,m;function h(){return e[135](e[154])}function b(){return e[136](e[154])}return{c(){t=g("div"),n=g("input"),s=f(),i=g("div"),c=g("button"),c.innerHTML='<img src="./logos/check-svgrepo-com.svg" alt="Confirm adding note" class="mini-icon"/>',a=f(),r=g("button"),r.innerHTML='<img src="./logos/delete-x-svgrepo-com.svg" alt="Cancel adding note" class="mini-icon"/>',w(n,"class","note-input svelte-qzsvuf"),w(n,"type","text"),w(n,"placeholder","Enter your note here"),w(c,"class","action-button"),w(r,"class","action-button"),w(i,"class","row spaced"),w(t,"class","row padded bordered space-between"),_(t,"width","100%"),_(t,"height","auto")},m(o,u){d(o,t,u),l(t,n),y(n,e[31]),l(t,s),l(t,i),l(i,c),l(i,a),l(i,r),p||(m=[v(n,"input",e[134]),v(c,"click",h),v(r,"click",b)],p=!0)},p(t,o){e=t,1&o[1]&&n.value!==e[31]&&y(n,e[31])},d(e){e&&u(t),p=!1,o(m)}}}function _n(e){let t,n,s,i,c,a,r,p,h,b,y,x,q,T,L,S,$,z,C,N,j,O,P,M,R=e[154]+"",E=e[0][e[154]-1].quote.slice(0,70)+"";function H(){return e[132](e[154])}function A(e,t){return e[4][e[154]].notes.length>0?wn:bn}let D=A(e),U=D(e),I=e[4][e[154]].is_adding&&yn(e);function J(){return e[137](e[154])}function G(){return e[138](e[154])}return{c(){t=g("div"),n=g("div"),s=g("span"),i=g("strong"),c=m("Feedback #"),a=m(R),r=m(" Notes:"),p=f(),h=m(E),b=m("..."),y=f(),x=g("button"),x.innerHTML='<img src="./logos/delete-x-svgrepo-com.svg" alt="Remove feedback notes section" class="mini-icon"/>',q=f(),T=g("div"),U.c(),L=f(),I&&I.c(),S=f(),$=g("div"),z=g("button"),z.innerHTML='<img src="./logos/note-svgrepo-com.svg" alt="Add Note" class="action-icon"/>\n                                            Add Note',C=f(),N=g("button"),N.innerHTML='<img src="./logos/delete-svgrepo-com.svg" alt="Delete all notes" class="action-icon"/>\n                                            Delete all',j=f(),w(x,"class","action-button"),w(n,"class","row space-between"),_(n,"width","100%"),_(n,"height","auto"),w(T,"class","column bordered"),_(T,"width","100%"),_(T,"height","auto"),F(T,"centered",e[4][e[154]].notes.length<=0),w(z,"class","action-button centered column"),w(N,"class","action-button centered column"),w($,"class","row centered spaced"),w(t,"id",O="feedback-note-section-"+e[154]),w(t,"class","column centered spaced padded svelte-qzsvuf"),_(t,"width","100%"),_(t,"height","auto")},m(e,o){d(e,t,o),l(t,n),l(n,s),l(s,i),l(i,c),l(i,a),l(i,r),l(s,p),l(s,h),l(s,b),l(n,y),l(n,x),l(t,q),l(t,T),U.m(T,null),l(T,L),I&&I.m(T,null),l(t,S),l(t,$),l($,z),l($,C),l($,N),l(t,j),P||(M=[v(x,"click",H),v(z,"click",J),v(N,"click",G)],P=!0)},p(n,o){e=n,16&o[0]&&R!==(R=e[154]+"")&&k(a,R),17&o[0]&&E!==(E=e[0][e[154]-1].quote.slice(0,70)+"")&&k(h,E),D===(D=A(e))&&U?U.p(e,o):(U.d(1),U=D(e),U&&(U.c(),U.m(T,L))),e[4][e[154]].is_adding?I?I.p(e,o):(I=yn(e),I.c(),I.m(T,null)):I&&(I.d(1),I=null),16&o[0]&&F(T,"centered",e[4][e[154]].notes.length<=0),16&o[0]&&O!==(O="feedback-note-section-"+e[154])&&w(t,"id",O)},d(e){e&&u(t),U.d(),I&&I.d(),P=!1,o(M)}}}function xn(t){let n,o,s=t[149]+"";return{c(){n=g("option"),o=m(s),n.__value=t[149],n.value=n.__value},m(e,t){d(e,n,t),l(n,o)},p:e,d(e){e&&u(n)}}}function qn(e){let t,n,s,i,c,a,h,b,k,y,q,T,L,S,z,C,N,j,M,R,E,H,A,D,U,I,W,X,K,Z,ee,te,ne,oe,se,ie,ce,re,le,de,ue,pe,ge,me,fe,he,ve=Object.keys(e[32]),be=[];for(let t=0;t<ve.length;t+=1)be[t]=Tn(We(e,ve,t));function we(t){e[117](t)}let ke={min:"0.0",max:"2.0",step:"0.1"};function ye(t){e[118](t)}void 0!==e[9]&&(ke.value=e[9]),L=new Ge({props:ke}),$.push((()=>V(L,"value",we)));let _e={min:"10.0",max:"4095.0",step:"1.0"};function xe(t){e[119](t)}function qe(t){e[120](t)}void 0!==e[10]&&(_e.value=e[10]),M=new Ge({props:_e}),$.push((()=>V(M,"value",ye)));let Fe={};function Te(e,t){return e[1].length>0?Sn:Ln}void 0!==e[26]&&(Fe.progress=e[26]),void 0!==e[25]&&(Fe.status=e[25]),W=new ae({props:Fe}),$.push((()=>V(W,"progress",xe))),$.push((()=>V(W,"status",qe)));let Le=Te(e),Se=Le(e);return{c(){t=g("div"),n=g("div"),s=g("span"),s.innerHTML="<strong>Configurations</strong>",i=f(),c=g("div"),a=g("span"),a.textContent="Model:",h=f(),b=g("select");for(let e=0;e<be.length;e+=1)be[e].c();k=f(),y=g("div"),q=g("span"),q.textContent="Temperature:",T=f(),Q(L.$$.fragment),z=f(),C=g("div"),N=g("span"),N.textContent="Max Output Tokens:",j=f(),Q(M.$$.fragment),E=f(),H=g("div"),A=g("span"),A.innerHTML="<strong>Chatbot&#39;s Resources</strong>",D=f(),U=g("div"),I=g("div"),Q(W.$$.fragment),Z=f(),Se.c(),ee=f(),te=g("div"),ne=g("input"),oe=f(),se=g("button"),ie=g("img"),re=m("\n                                            Add Document"),le=f(),de=g("button"),ue=g("img"),ge=m("\n                                            Remove All"),void 0===e[8]&&O((()=>e[116].call(b))),w(c,"class","row spaced centered"),_(c,"height","auto"),_(c,"width","100%"),w(y,"class","row spaced"),_(y,"height","auto"),_(y,"width","100%"),w(C,"class","row spaced"),_(C,"height","auto"),_(C,"width","100%"),w(n,"id","chatbot-configurations"),w(n,"class","column centered spaced padded bordered svelte-qzsvuf"),w(I,"class","overlay centered padded"),F(I,"invisible",!1===e[27]),w(U,"id","chatbot-rag-sources"),w(U,"class","column centered spaced padded bordered"),_(U,"width","100%"),_(U,"height","auto"),_(U,"overflow-y","auto"),w(ne,"type","file"),w(ne,"id","document_file_input"),w(ne,"class","gone"),r(ie.src,ce="./logos/add-ellipse-svgrepo-com.svg")||w(ie,"src","./logos/add-ellipse-svgrepo-com.svg"),w(ie,"alt","Add document"),w(ie,"class","action-icon"),se.disabled=e[27],w(se,"class","centered spaced column action-button"),r(ue.src,pe="./logos/delete-svgrepo-com.svg")||w(ue,"src","./logos/delete-svgrepo-com.svg"),w(ue,"alt","Remove all documents"),w(ue,"class","action-icon"),de.disabled=e[27],w(de,"class","centered spaced column action-button"),w(te,"id","chatbot-rag-buttons"),w(te,"class","row centered padded spaced"),_(te,"width","100%"),_(te,"height","auto"),w(H,"id","chatbot-rag-panel"),w(H,"class","column centered spaced padded bordered svelte-qzsvuf"),w(t,"id","chatbot-settings"),w(t,"class","column padded spaced"),_(t,"width","100%"),_(t,"height","95%")},m(o,r){d(o,t,r),l(t,n),l(n,s),l(n,i),l(n,c),l(c,a),l(c,h),l(c,b);for(let e=0;e<be.length;e+=1)be[e]&&be[e].m(b,null);x(b,e[8],!0),l(n,k),l(n,y),l(y,q),l(y,T),B(L,y,null),l(n,z),l(n,C),l(C,N),l(C,j),B(M,C,null),l(t,E),l(t,H),l(H,A),l(H,D),l(H,U),l(U,I),B(W,I,null),l(U,Z),Se.m(U,null),l(H,ee),l(H,te),l(te,ne),e[122](ne),l(te,oe),l(te,se),l(se,ie),l(se,re),l(te,le),l(te,de),l(de,ue),l(de,ge),me=!0,fe||(he=[v(b,"change",e[116]),v(ne,"change",e[123]),v(se,"click",e[124]),v(de,"click",e[125])],fe=!0)},p(e,t){if(2&t[1]){let n;for(ve=Object.keys(e[32]),n=0;n<ve.length;n+=1){const o=We(e,ve,n);be[n]?be[n].p(o,t):(be[n]=Tn(o),be[n].c(),be[n].m(b,null))}for(;n<be.length;n+=1)be[n].d(1);be.length=ve.length}256&t[0]|2&t[1]&&x(b,e[8]);const n={};!S&&512&t[0]&&(S=!0,n.value=e[9],P((()=>S=!1))),L.$set(n);const o={};!R&&1024&t[0]&&(R=!0,o.value=e[10],P((()=>R=!1))),M.$set(o);const s={};!X&&67108864&t[0]&&(X=!0,s.progress=e[26],P((()=>X=!1))),!K&&33554432&t[0]&&(K=!0,s.status=e[25],P((()=>K=!1))),W.$set(s),(!me||134217728&t[0])&&F(I,"invisible",!1===e[27]),Le===(Le=Te(e))&&Se?Se.p(e,t):(Se.d(1),Se=Le(e),Se&&(Se.c(),Se.m(U,null))),(!me||134217728&t[0])&&(se.disabled=e[27]),(!me||134217728&t[0])&&(de.disabled=e[27])},i(e){me||(J(L.$$.fragment,e),J(M.$$.fragment,e),J(W.$$.fragment,e),me=!0)},o(e){G(L.$$.fragment,e),G(M.$$.fragment,e),G(W.$$.fragment,e),me=!1},d(n){n&&u(t),p(be,n),Y(L),Y(M),Y(W),Se.d(),e[122](null),fe=!1,o(he)}}}function Fn(e){let t,n,s,i,c,a,m,h,k,x,q,T,L,S,z,C,N,j,O,M,R,E,H,A,D,U,I,W,X,K,Z,ee,te,ne,oe,se,ie,ce,re,le,de,ue,pe,ge,me,fe,he,ve=e[2],be=[];for(let t=0;t<ve.length;t+=1)be[t]=Mn(Xe(e,ve,t));function we(t){e[103](t)}function ke(t){e[104](t)}let ye={};function _e(e,t){return e[16]?En:Rn}void 0!==e[24]&&(ye.progress=e[24]),void 0!==e[23]&&(ye.status=e[23]),h=new ae({props:ye}),$.push((()=>V(h,"progress",we))),$.push((()=>V(h,"status",ke)));let xe=_e(e),qe=xe(e);function Fe(e,t){return e[18]?An:Hn}let Te=Fe(e),Le=Te(e);return{c(){t=g("div"),n=g("div"),n.innerHTML="<p><strong>assistant:</strong> Hello! How can I help you today?</p>",s=f();for(let e=0;e<be.length;e+=1)be[e].c();i=f(),c=g("div"),a=g("p"),a.innerHTML="<strong>assistant:</strong>",m=f(),Q(h.$$.fragment),q=f(),T=g("div"),L=f(),S=g("div"),z=g("div"),C=g("div"),N=g("span"),N.innerHTML="<strong>Feedback Context:</strong>",j=f(),qe.c(),M=f(),R=g("div"),E=g("span"),E.innerHTML="<strong>Suggested messages:</strong>",H=f(),A=g("div"),A.textContent="Explain feedback.",D=f(),U=g("div"),U.textContent="Brainstorm actions.",W=f(),X=g("div"),Le.c(),Z=f(),ee=g("div"),te=g("div"),ne=g("label"),oe=f(),se=g("input"),ie=f(),ce=g("button"),ce.innerHTML='<img src="./logos/image-svgrepo-com.svg" alt="Attach image" class="action-icon"/>',re=f(),le=g("textarea"),de=f(),ue=g("button"),pe=g("img"),w(n,"class","assistant padded svelte-qzsvuf"),w(c,"class","assistant padded column svelte-qzsvuf"),F(c,"invisible",!1===e[22]),_(T,"height","20%"),_(T,"width","100%"),_(T,"background-color","white"),_(T,"color","white"),_(T,"cursor","default"),w(t,"id","chatbot-messages"),w(t,"class","column spaced bordered padded svelte-qzsvuf"),w(C,"id","contexts"),w(C,"class","column centered bordered svelte-qzsvuf"),w(C,"style",O=e[18]?"width:30%;":"width:45%;"),w(A,"class","suggested-message svelte-qzsvuf"),w(U,"class","suggested-message svelte-qzsvuf"),w(R,"id","suggested-messages"),w(R,"class","column centered bordered svelte-qzsvuf"),w(R,"style",I=e[18]?"width:30%;":"width:45%;"),w(X,"id","visual-context"),w(X,"class","column centered bordered svelte-qzsvuf"),w(X,"style",K=e[18]?"width:30%;":"display:none;"),w(z,"id","chatbot-utilities"),w(z,"class","row centered spaced svelte-qzsvuf"),w(ne,"for","image_upload"),_(ne,"display","none"),w(se,"accept","image/png, image/jpeg"),w(se,"type","file"),_(se,"display","none"),w(se,"id","image_upload"),w(se,"name","image_upload"),w(ce,"class","action-button centered column"),w(te,"class","column spaced"),_(le,"width","100%"),_(le,"height","100%"),w(le,"placeholder","Type your message here..."),w(le,"id","textarea"),r(pe.src,ge="./logos/send-svgrepo-com.svg")||w(pe,"src","./logos/send-svgrepo-com.svg"),w(pe,"alt","Send"),w(pe,"class","action-icon"),w(ue,"class","action-button centered column"),ue.disabled=e[22],w(ee,"id","chatbot-input"),w(ee,"class","row spaced centered svelte-qzsvuf"),w(S,"id","chatbot-actions"),w(S,"class","column padded spaced centered svelte-qzsvuf")},m(o,r){d(o,t,r),l(t,n),l(t,s);for(let e=0;e<be.length;e+=1)be[e]&&be[e].m(t,null);l(t,i),l(t,c),l(c,a),l(c,m),B(h,c,null),l(t,q),l(t,T),d(o,L,r),d(o,S,r),l(S,z),l(z,C),l(C,N),l(C,j),qe.m(C,null),l(z,M),l(z,R),l(R,E),l(R,H),l(R,A),l(R,D),l(R,U),l(z,W),l(z,X),Le.m(X,null),l(S,Z),l(S,ee),l(ee,te),l(te,ne),l(te,oe),l(te,se),e[110](se),l(te,ie),l(te,ce),l(ee,re),l(ee,le),y(le,e[12]),l(ee,de),l(ee,ue),l(ue,pe),me=!0,fe||(he=[v(A,"click",b(e[106])),v(U,"click",b(e[107])),v(se,"change",e[109]),v(se,"change",e[111]),v(ce,"click",b(e[112])),v(le,"input",e[113]),v(le,"keydown",e[114]),v(ue,"click",b(e[115]))],fe=!0)},p(e,n){if(4210716&n[0]|8192&n[1]){let o;for(ve=e[2],o=0;o<ve.length;o+=1){const s=Xe(e,ve,o);be[o]?be[o].p(s,n):(be[o]=Mn(s),be[o].c(),be[o].m(t,i))}for(;o<be.length;o+=1)be[o].d(1);be.length=ve.length}const o={};!k&&16777216&n[0]&&(k=!0,o.progress=e[24],P((()=>k=!1))),!x&&8388608&n[0]&&(x=!0,o.status=e[23],P((()=>x=!1))),h.$set(o),(!me||4194304&n[0])&&F(c,"invisible",!1===e[22]),xe===(xe=_e(e))&&qe?qe.p(e,n):(qe.d(1),qe=xe(e),qe&&(qe.c(),qe.m(C,null))),(!me||262144&n[0]&&O!==(O=e[18]?"width:30%;":"width:45%;"))&&w(C,"style",O),(!me||262144&n[0]&&I!==(I=e[18]?"width:30%;":"width:45%;"))&&w(R,"style",I),Te===(Te=Fe(e))&&Le?Le.p(e,n):(Le.d(1),Le=Te(e),Le&&(Le.c(),Le.m(X,null))),(!me||262144&n[0]&&K!==(K=e[18]?"width:30%;":"display:none;"))&&w(X,"style",K),4096&n[0]&&y(le,e[12]),(!me||4194304&n[0])&&(ue.disabled=e[22])},i(e){me||(J(h.$$.fragment,e),me=!0)},o(e){G(h.$$.fragment,e),me=!1},d(n){n&&u(t),p(be,n),Y(h),n&&u(L),n&&u(S),qe.d(),Le.d(),e[110](null),fe=!1,o(he)}}}function Tn(t){let n,o,s=t[149]+"";return{c(){n=g("option"),o=m(s),n.__value=t[149],n.value=n.__value},m(e,t){d(e,n,t),l(n,o)},p:e,d(e){e&&u(n)}}}function Ln(t){let n;return{c(){n=g("span"),n.textContent="No resources available."},m(e,t){d(e,n,t)},p:e,d(e){e&&u(n)}}}function Sn(e){let t,n=e[1],o=[];for(let t=0;t<n.length;t+=1)o[t]=$n(Ye(e,n,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=h()},m(e,n){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,n);d(e,t,n)},p(e,s){if(234881026&s[0]|2048&s[1]){let i;for(n=e[1],i=0;i<n.length;i+=1){const c=Ye(e,n,i);o[i]?o[i].p(c,s):(o[i]=$n(c),o[i].c(),o[i].m(t.parentNode,t))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},d(e){p(o,e),e&&u(t)}}}function $n(e){let t,n,o,s,i,c,a,p,h,y=e[147]+"";function _(){return e[121](e[147],e[143])}return{c(){t=g("div"),n=m(y),o=f(),s=g("button"),i=g("img"),a=f(),r(i.src,c="./logos/delete-x-svgrepo-com.svg")||w(i,"src","./logos/delete-x-svgrepo-com.svg"),w(i,"alt","Remove document"),w(i,"class","mini-icon"),s.disabled=e[27],w(s,"class","action-button"),w(t,"class","row centered spaced centered")},m(e,c){d(e,t,c),l(t,n),l(t,o),l(t,s),l(s,i),l(t,a),p||(h=v(s,"click",b(_)),p=!0)},p(t,o){e=t,2&o[0]&&y!==(y=e[147]+"")&&k(n,y),134217728&o[0]&&(s.disabled=e[27])},d(e){e&&u(t),p=!1,h()}}}function zn(e){let t,n,s,i,c,a,r,p,h,b,y,_,x,q,F,T,L,S,$,z,C,N,j,O,P,M=e[144].role+"",R=e[144].content+"",E="context"in e[144]&&Cn(e),H="image"in e[144]&&Nn(e);function A(){return e[99](e[144])}let D="context"in e[144]&&jn(e);function U(){return e[101](e[144])}let I="user"===e[144].role&&On(e),J="image"in e[144]&&"user"===e[144].role&&Pn(e);return{c(){t=g("div"),n=g("div"),s=g("div"),E&&E.c(),i=f(),H&&H.c(),c=f(),a=g("div"),r=g("button"),r.innerHTML='<small>Add to My Notes</small> \n                                                        <img src="./logos/note-svgrepo-com.svg" alt="Add to my notes" class="mini-icon"/>',p=f(),D&&D.c(),h=f(),b=g("div"),y=g("button"),y.innerHTML='<img src="./logos/copy-svgrepo-com.svg" alt="Copy note" class="mini-icon"/>',_=f(),I&&I.c(),q=f(),F=g("div"),T=g("strong"),L=m(M),S=m(":"),$=f(),z=g("md-block"),C=m(R),N=f(),J&&J.c(),w(s,"class","row spaced"),w(r,"class","action-button row spaced centered"),w(y,"class","action-button column centered"),w(b,"class","row"),w(a,"class","row spaced"),w(n,"class",x="message-header row "+("context"in e[144]||"image"in e[144]?"with-context":"no-context")+" svelte-qzsvuf"),w(F,"class","row"),w(t,"class",j=e[144].role+" padded column spaced svelte-qzsvuf")},m(e,o){d(e,t,o),l(t,n),l(n,s),E&&E.m(s,null),l(s,i),H&&H.m(s,null),l(n,c),l(n,a),l(a,r),l(a,p),D&&D.m(a,null),l(a,h),l(a,b),l(b,y),l(b,_),I&&I.m(b,null),l(t,q),l(t,F),l(F,T),l(T,L),l(T,S),l(F,$),l(F,z),l(z,C),l(t,N),J&&J.m(t,null),O||(P=[v(r,"click",A),v(y,"click",U)],O=!0)},p(o,c){"context"in(e=o)[144]?E?E.p(e,c):(E=Cn(e),E.c(),E.m(s,i)):E&&(E.d(1),E=null),"image"in e[144]?H?H.p(e,c):(H=Nn(e),H.c(),H.m(s,null)):H&&(H.d(1),H=null),"context"in e[144]?D?D.p(e,c):(D=jn(e),D.c(),D.m(a,h)):D&&(D.d(1),D=null),"user"===e[144].role?I?I.p(e,c):(I=On(e),I.c(),I.m(b,null)):I&&(I.d(1),I=null),4&c[0]&&x!==(x="message-header row "+("context"in e[144]||"image"in e[144]?"with-context":"no-context")+" svelte-qzsvuf")&&w(n,"class",x),4&c[0]&&M!==(M=e[144].role+"")&&k(L,M),4&c[0]&&R!==(R=e[144].content+"")&&k(C,R),"image"in e[144]&&"user"===e[144].role?J?J.p(e,c):(J=Pn(e),J.c(),J.m(t,null)):J&&(J.d(1),J=null),4&c[0]&&j!==(j=e[144].role+" padded column spaced svelte-qzsvuf")&&w(t,"class",j)},d(e){e&&u(t),E&&E.d(),H&&H.d(),D&&D.d(),I&&I.d(),J&&J.d(),O=!1,o(P)}}}function Cn(e){let t,n,o,s,i,c,a=e[144].context.id+"",r=(e[144].context.quote.length>40?e[144].context.quote.slice(0,40)+"...":e[144].context.quote)+"";return{c(){t=g("div"),n=g("small"),o=m("Context: F#"),s=m(a),i=f(),c=m(r),w(t,"class","context-tag feedback svelte-qzsvuf")},m(e,a){d(e,t,a),l(t,n),l(n,o),l(n,s),l(n,i),l(n,c)},p(e,t){4&t[0]&&a!==(a=e[144].context.id+"")&&k(s,a),4&t[0]&&r!==(r=(e[144].context.quote.length>40?e[144].context.quote.slice(0,40)+"...":e[144].context.quote)+"")&&k(c,r)},d(e){e&&u(t)}}}function Nn(e){let t,n,o,s="user"===e[144].role?"Attached image":"Response to image";return{c(){t=g("div"),n=g("small"),o=m(s),w(t,"class","context-tag image svelte-qzsvuf")},m(e,s){d(e,t,s),l(t,n),l(n,o)},p(e,t){4&t[0]&&s!==(s="user"===e[144].role?"Attached image":"Response to image")&&k(o,s)},d(e){e&&u(t)}}}function jn(e){let t,n,o,s,i,c,a,p,h,b,y=e[144].context.id+"";function _(){return e[100](e[144])}return{c(){t=g("button"),n=g("small"),o=m("Add to F#"),s=m(y),i=m(" Notes"),c=f(),a=g("img"),r(a.src,p="./logos/note-svgrepo-com.svg")||w(a,"src","./logos/note-svgrepo-com.svg"),w(a,"alt","Add feedback note"),w(a,"class","mini-icon"),w(t,"class","action-button row spaced centered")},m(e,r){d(e,t,r),l(t,n),l(n,o),l(n,s),l(n,i),l(t,c),l(t,a),h||(b=v(t,"click",_),h=!0)},p(t,n){e=t,4&n[0]&&y!==(y=e[144].context.id+"")&&k(s,y)},d(e){e&&u(t),h=!1,b()}}}function On(e){let t,n,o,s,i;function c(){return e[102](e[144])}return{c(){t=g("button"),n=g("img"),r(n.src,o="./logos/delete-x-svgrepo-com.svg")||w(n,"src","./logos/delete-x-svgrepo-com.svg"),w(n,"alt","Delete message"),w(n,"class","mini-icon"),t.disabled=e[22],w(t,"class","action-button column centered")},m(e,o){d(e,t,o),l(t,n),s||(i=v(t,"click",c),s=!0)},p(n,o){e=n,4194304&o[0]&&(t.disabled=e[22])},d(e){e&&u(t),s=!1,i()}}}function Pn(e){let t,n,o;return{c(){t=g("div"),n=g("img"),r(n.src,o=e[144].image)||w(n,"src",o),w(n,"alt","Visual context"),_(n,"width","50%"),_(n,"height","auto"),w(t,"class","column centered"),_(t,"width","100%")},m(e,o){d(e,t,o),l(t,n)},p(e,t){4&t[0]&&!r(n.src,o=e[144].image)&&w(n,"src",o)},d(e){e&&u(t)}}}function Mn(e){let t,n="system"!=e[144].role&&zn(e);return{c(){n&&n.c(),t=h()},m(e,o){n&&n.m(e,o),d(e,t,o)},p(e,o){"system"!=e[144].role?n?n.p(e,o):(n=zn(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&u(t)}}}function Rn(t){let n;return{c(){n=g("span"),n.textContent="None. Add by selecting from the feedback."},m(e,t){d(e,n,t)},p:e,d(e){e&&u(n)}}}function En(e){let t,n,o,s,i,c,a,r,p,h,y,_=e[16].id+"",x=e[16].quote.slice(0,30)+"";return{c(){t=g("div"),n=g("span"),o=m("F#"),s=m(_),i=m(":"),c=m(x),a=m("..."),r=f(),p=g("button"),p.innerHTML='<img src="./logos/delete-x-svgrepo-com.svg" alt="Remove context" class="mini-icon"/>',w(t,"class","suggested-message row  svelte-qzsvuf")},m(u,g){d(u,t,g),l(t,n),l(n,o),l(n,s),l(n,i),l(n,c),l(n,a),l(t,r),l(t,p),h||(y=v(p,"click",b(e[105])),h=!0)},p(e,t){65536&t[0]&&_!==(_=e[16].id+"")&&k(s,_),65536&t[0]&&x!==(x=e[16].quote.slice(0,30)+"")&&k(c,x)},d(e){e&&u(t),h=!1,y()}}}function Hn(t){return{c:e,m:e,p:e,d:e}}function An(e){let t,n,o,s,i,c,a,p,m;return{c(){t=g("span"),t.innerHTML="<strong>Attached image:</strong>",n=f(),o=g("div"),s=g("img"),c=f(),a=g("button"),a.innerHTML='<img src="./logos/delete-x-svgrepo-com.svg" alt="Remove image" class="mini-icon"/>',r(s.src,i=e[18])||w(s,"src",i),w(s,"alt","Visual context"),_(s,"width","100%"),_(s,"height","100%"),w(o,"class","row"),_(o,"width","100%"),_(o,"height","100%")},m(i,r){d(i,t,r),d(i,n,r),d(i,o,r),l(o,s),l(o,c),l(o,a),p||(m=v(a,"click",b(e[108])),p=!0)},p(e,t){262144&t[0]&&!r(s.src,i=e[18])&&w(s,"src",i)},d(e){e&&u(t),e&&u(n),e&&u(o),p=!1,m()}}}function Dn(t){let n,o;return{c(){n=g("video"),n.innerHTML='<track kind="captions" src="blank.vtt" srclang="en"/>',r(n.src,o="video.mp4")||w(n,"src","video.mp4"),n.controls=!0,_(n,"width","100%"),_(n,"height","100%")},m(e,o){d(e,n,o),t[94](n)},p:e,d(e){e&&u(n),t[94](null)}}}function Un(e){let t,n;return{c(){t=g("audio"),r(t.src,n=e[6].audio)||w(t,"src",n),t.controls=!0,_(t,"width","100%"),_(t,"height","100%")},m(n,o){d(n,t,o),e[93](t)},p(e,o){64&o[0]&&!r(t.src,n=e[6].audio)&&w(t,"src",n)},d(n){n&&u(t),e[93](null)}}}function In(e){let t,n,o,s;return{c(){t=g("video"),n=g("track"),w(n,"kind","captions"),r(n.src,o="blank.vtt")||w(n,"src","blank.vtt"),w(n,"srclang","en"),r(t.src,s=e[6].video)||w(t,"src",s),t.controls=!0,_(t,"width","100%"),_(t,"height","100%")},m(o,s){d(o,t,s),l(t,n),e[92](t)},p(e,n){64&n[0]&&!r(t.src,s=e[6].video)&&w(t,"src",s)},d(n){n&&u(t),e[92](null)}}}function Jn(e){let t,n=e[6].transcript_list,o=[];for(let t=0;t<n.length;t+=1)o[t]=Gn(Ze(e,n,t));return{c(){t=g("p");for(let e=0;e<o.length;e+=1)o[e].c();w(t,"class","spaced padded")},m(e,n){d(e,t,n);for(let e=0;e<o.length;e+=1)o[e]&&o[e].m(t,null)},p(e,s){if(2112&s[0]){let i;for(n=e[6].transcript_list,i=0;i<n.length;i+=1){const c=Ze(e,n,i);o[i]?o[i].p(c,s):(o[i]=Gn(c),o[i].c(),o[i].m(t,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=n.length}},d(e){e&&u(t),p(o,e)}}}function Gn(e){let t,n,s,i,c,a,r,p,h,b,y,_,x,q,F,T,L,S,$,z,C,N=e[141].start_timestamp+"",j=e[141].end_timestamp+"",O=e[141].speaker?e[141].speaker+":":"",P=e[141].dialogue+"";function M(){return e[95](e[141])}function R(){return e[96](e[141])}return{c(){t=g("span"),n=m("["),s=m(N),i=m("]"),c=m(" - "),a=g("span"),r=m("["),p=m(j),h=m("]"),b=f(),y=g("br"),_=f(),x=m(O),q=f(),F=g("span"),L=f(),S=g("br"),$=g("br"),w(t,"class","timestamp svelte-qzsvuf"),w(a,"class","timestamp svelte-qzsvuf"),w(F,"id",T=e[141].id),w(F,"class","svelte-qzsvuf")},m(e,o){d(e,t,o),l(t,n),l(t,s),l(t,i),d(e,c,o),d(e,a,o),l(a,r),l(a,p),l(a,h),d(e,b,o),d(e,y,o),d(e,_,o),d(e,x,o),d(e,q,o),d(e,F,o),F.innerHTML=P,d(e,L,o),d(e,S,o),d(e,$,o),z||(C=[v(t,"click",M),v(a,"click",R)],z=!0)},p(t,n){e=t,64&n[0]&&N!==(N=e[141].start_timestamp+"")&&k(s,N),64&n[0]&&j!==(j=e[141].end_timestamp+"")&&k(p,j),64&n[0]&&O!==(O=e[141].speaker?e[141].speaker+":":"")&&k(x,O),64&n[0]&&P!==(P=e[141].dialogue+"")&&(F.innerHTML=P),64&n[0]&&T!==(T=e[141].id)&&w(F,"id",T)},d(e){e&&u(t),e&&u(c),e&&u(a),e&&u(b),e&&u(y),e&&u(_),e&&u(x),e&&u(q),e&&u(F),e&&u(L),e&&u(S),e&&u($),z=!1,o(C)}}}function Vn(e){let t,n,s,i,c,a,r,m,h,b,k,y,x,q,T,L,S,$,z,C,N,j,O,P=e[33],M=[];for(let t=0;t<P.length;t+=1)M[t]=ct(it(e,P,t));function R(e,t){return 0===e[15]?rt:1===e[15]?at:void 0}let E=R(e),H=E&&E(e),A=e[34],D=[];for(let t=0;t<A.length;t+=1)D[t]=rn(et(e,A,t));const V=[un,dn,ln],Q=[];function B(e,t){return 0===e[14]?0:1===e[14]?1:2===e[14]?2:-1}return~(z=B(e))&&(C=Q[z]=V[z](e)),{c(){t=g("div"),n=g("div"),s=g("div"),i=g("div"),c=g("div");for(let e=0;e<M.length;e+=1)M[e].c();a=f(),r=g("div"),m=g("button"),m.innerHTML='<img src="./logos/row-vertical-svgrepo-com.svg" alt="Row view" class="mini-icon"/>',h=f(),b=g("button"),b.innerHTML='<img src="./logos/grid-svgrepo-com.svg" alt="Grid view" class="mini-icon"/>',k=f(),y=g("div"),H&&H.c(),x=f(),q=g("div"),T=g("div"),L=g("div");for(let e=0;e<D.length;e+=1)D[e].c();S=f(),$=g("div"),C&&C.c(),w(c,"class","row"),w(m,"class","tab svelte-qzsvuf"),F(m,"active","row"===e[5][e[15]]),w(b,"class","tab svelte-qzsvuf"),F(b,"active","grid"===e[5][e[15]]),w(r,"class","row"),w(i,"class","tab-header space-between svelte-qzsvuf"),w(y,"class","tab-content padded svelte-qzsvuf"),_(y,"overflow-y","auto"),w(s,"class","tabbed-area bordered svelte-qzsvuf"),w(n,"id","left-panel"),w(n,"class","column svelte-qzsvuf"),w(L,"class","tab-header svelte-qzsvuf"),w($,"class","tab-content column svelte-qzsvuf"),w(T,"class","tabbed-area bordered svelte-qzsvuf"),w(q,"id","right-panel"),w(q,"class","column  svelte-qzsvuf"),w(t,"id","feedback-list-page"),w(t,"class","spaced svelte-qzsvuf")},m(o,u){d(o,t,u),l(t,n),l(n,s),l(s,i),l(i,c);for(let e=0;e<M.length;e+=1)M[e]&&M[e].m(c,null);l(i,a),l(i,r),l(r,m),l(r,h),l(r,b),l(s,k),l(s,y),H&&H.m(y,null),l(t,x),l(t,q),l(q,T),l(T,L);for(let e=0;e<D.length;e+=1)D[e]&&D[e].m(L,null);l(T,S),l(T,$),~z&&Q[z].m($,null),N=!0,j||(O=[v(m,"click",e[48]),v(b,"click",e[49]),v(t,"window:click",e[37])],j=!0)},p(e,t){if(32768&t[0]|4&t[1]){let n;for(P=e[33],n=0;n<P.length;n+=1){const o=it(e,P,n);M[n]?M[n].p(o,t):(M[n]=ct(o),M[n].c(),M[n].m(c,null))}for(;n<M.length;n+=1)M[n].d(1);M.length=P.length}if((!N||32800&t[0])&&F(m,"active","row"===e[5][e[15]]),(!N||32800&t[0])&&F(b,"active","grid"===e[5][e[15]]),E===(E=R(e))&&H?H.p(e,t):(H&&H.d(1),H=E&&E(e),H&&(H.c(),H.m(y,null))),16384&t[0]|8&t[1]){let n;for(A=e[34],n=0;n<A.length;n+=1){const o=et(e,A,n);D[n]?D[n].p(o,t):(D[n]=rn(o),D[n].c(),D[n].m(L,null))}for(;n<D.length;n+=1)D[n].d(1);D.length=A.length}let n=z;z=B(e),z===n?~z&&Q[z].p(e,t):(C&&(U(),G(Q[n],1,1,(()=>{Q[n]=null})),I()),~z?(C=Q[z],C?C.p(e,t):(C=Q[z]=V[z](e),C.c()),J(C,1),C.m($,null)):C=null)},i(e){N||(J(C),N=!0)},o(e){G(C),N=!1},d(e){e&&u(t),p(M,e),H&&H.d(),p(D,e),~z&&Q[z].d(),j=!1,o(O)}}}async function Qn(e,t){const n=await fetch("/positively_paraphrase_feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({feedback:e,excerpt:t})});if(!n.ok)throw new Error("Failed to detect feedback");return(await n.json()).paraphrased_feedback}function Bn(e,t=!0){e.show_paraphrased=t}const Yn=(e,t)=>e-t;function Wn(e,t,n){let o,s,i,c,a,r,l,d,{feedback_list:u}=t,{recording:p}=t,{documents:g=[]}=t,{chatbot_messages:m=[{content:"You are an expert senior interior designer who is tasked to assist less experienced interior designers like students and junior interior designers with their work by answering their questions on a wide range of interior design topics. ",role:"system"}]}=t,{my_notes:f=[]}=t,{feedback_notes:h={}}=t,{left_display_styles:v={0:"row",1:"grid"}}=t,b=!1,w={"GPT-4o":"gpt-4o","GPT-4o Mini":"gpt-4o-mini","The Interior Design Reference & Specification GPT":"ft:gpt-4o-mini-2024-07-18:im-lab:the-interior-des:9p9NTD1W","Planning and Designers Handbook GPT":"ft:gpt-4o-mini-2024-07-18:im-lab:planning-and-des:9p9vtdRF","Interior Design Illustrated GPT":"ft:gpt-4o-mini-2024-07-18:im-lab:int-illustrated:9qXQyPfI"},k="GPT-4o",y=0,_=256,x="",F=0,T=0,L=["Critical Feedback","Positive Feedback"],S=["Transcript","Chatbot","Notes"],z=!1,C="",N=0,j="",O=0,P=!1;function M(e){s===e&&n(13,s=null),n(0,u=u.filter((t=>t!==e))),n(0,u)}function R(e,t){n(13,s=e),t.stopPropagation()}let E=null,H=!0;function A(e){E===e?n(29,H=!H):(n(28,E=e),n(29,H=!0)),u.sort(((t,n)=>t[e]<n[e]?H?-1:1:t[e]>n[e]?H?1:-1:0)),n(0,u)}async function D(e,t=null){let o=e.slice();if(z)return void alert("Please wait for the current message to be processed.");if(n(22,z=!0),""===e.trim())return void alert("Please enter a message.");let s={role:"user",content:e};if(t){s.context=t;let e="\n\nHere is the piece of feedback as context.";e+="\nF#"+t.id+': "'+t.speaker+": "+t.quote+'".',o+=e}let i={message:o,image_data:null,max_output_tokens:_,temperature:y,model:w[k]};if(a&&(s.image=a),c){n(23,C="Uploading image..."),n(24,N=30);let e=await async function(e){return new Promise(((t,n)=>{const o=new FileReader;o.onload=()=>t(o.result),o.onerror=e=>n(e),o.readAsDataURL(e)}))}(c);i.image_data=e,s.image_path=await async function(e){const t=await fetch("/save_image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image_data:e})});if(!t.ok)throw new Error("Failed to save image");return(await t.json()).image_path}(e),i.image_path=s.image_path}m.push(s),n(2,m),console.log(m),n(0,u),await de(m),n(23,C="Thinking..."),n(24,N=50);const r=await fetch("/message_chatbot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!r.ok)throw new Error("Failed to send message");let l=(await r.json()).chatbot_response;n(23,C="Done!"),n(24,N=100),await Z(1200),await te("FeedbackList: Sent message",[e,t,a]);let d={role:"assistant",content:l};t&&(d.context=t),a&&(d.image=a),m.push(d),n(2,m),n(0,u),await de(m),n(22,z=!1),n(24,N=0)}function U(e){i===e?alert("This feedback is already added as context."):n(16,i=e)}async function I(e){const t=e.target.files;if(t)for(const e of t){const t=new FormData;t.append("file",e),n(26,O=50),n(25,j="Adding document... (this may take a while)");const o=await fetch("/add_document",{method:"POST",body:t});if(!o.ok)return null;let s=(await o.json()).document_name;g.push(s),n(1,g),n(25,j="Done!"),n(26,O=100),await Z(1200)}}async function J(e,t){return(await fetch("/delete_document",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e})})).ok?(g.splice(t,1),n(1,g),e):console.log(`Failed to delete document ${e}`)}async function G(){n(25,j="Removing all documents...");for(let e=0;e<g.length;e++){let t=g[e];n(26,O=e/g.length*100);try{await J(t,e)}catch(e){console.error(`Error deleting document ${t}:`,e)}}1===g.length&&await J(g[0],0),n(25,j="Done!"),n(26,O=100),await Z(1e3),n(26,O=0)}let V=!1,Q="";async function B(e,t=null,o=null){""!=e.trim()?t?t in h?(h[t].notes.push(e),n(4,h)):n(4,h[t]={notes:[e],is_adding:!1},h):(f.push(e),n(3,f)):alert("Please enter a note.")}async function Y(e,t=null){t?(h[t].notes.splice(e,1),n(4,h)):(f.splice(e,1),n(3,f))}async function W(e=null){n(30,V=!1),B(Q,e),n(31,Q="")}return e.$$set=e=>{"feedback_list"in e&&n(0,u=e.feedback_list),"recording"in e&&n(6,p=e.recording),"documents"in e&&n(1,g=e.documents),"chatbot_messages"in e&&n(2,m=e.chatbot_messages),"my_notes"in e&&n(3,f=e.my_notes),"feedback_notes"in e&&n(4,h=e.feedback_notes),"left_display_styles"in e&&n(5,v=e.left_display_styles)},[u,g,m,f,h,v,p,b,k,y,_,o,x,s,F,T,i,c,a,r,l,d,z,C,N,j,O,P,E,H,V,Q,w,L,S,M,R,function(){n(13,s=null)},A,D,U,I,J,G,B,Y,W,async e=>{n(15,T=e),await te("FeedbackList: Switched left panel tab",L[T])},async()=>{n(5,v[T]="row",v),await te("FeedbackList: Switched left panel display style","row")},async()=>{n(5,v[T]="grid",v),await te("FeedbackList: Switched left panel display style","grid")},async e=>{n(14,F=0),"excerpt_reference"in e&&"start_timestamp"in e.excerpt_reference&&(ne(e.excerpt_reference.start_timestamp,o),await te("FeedbackList: Seeked to timestamp",e.excerpt_reference.start_timestamp))},async(e,t,o)=>{n(0,t[o].positivised_quote=await Qn(e.quote,e.excerpt_reference.dialogue),u),Bn(e,!0),n(0,u),await te("FeedbackList: Positivize Quote",e)},async e=>{n(14,F=1),U(e),await te("FeedbackList: Select as context",i)},async e=>{n(14,F=2),e.id in h?n(4,h[e.id].is_adding=!0,h):n(4,h[e.id]={notes:[],is_adding:!0},h)},async e=>{M(e),await le(u),await te("FeedbackList: Remove critical feedback",e)},function(e,t){e[t].done=this.checked,n(0,u)},async e=>{Bn(e,!1),await te("FeedbackList: Show original quote",e.original_quote)},async e=>{Bn(e,!0),await te("FeedbackList: Show paraphrased quote",e.positivised_quote)},async(e,t)=>{R(e,t),oe(e),await te("FeedbackList: Selected feedback",e)},async()=>{A("id"),await te("FeedbackList: Sorted feedback","id")},async()=>{A("quote"),await te("FeedbackList: Sorted feedback","quote")},async()=>{A("speaker"),await te("FeedbackList: Sorted feedback","speaker")},async()=>{A("done"),await te("FeedbackList: Sorted feedback","done")},async e=>{n(14,F=0),"excerpt_reference"in e&&"start_timestamp"in e.excerpt_reference&&(ne(e.excerpt_reference.start_timestamp,o),await te("FeedbackList: Seeked to timestamp",e.excerpt_reference.start_timestamp))},async e=>{Bn(e,!1),await te("FeedbackList: Show original quote",e.original_quote)},async e=>{Bn(e,!0),await te("FeedbackList: Show paraphrased quote",e.positivised_quote)},async(e,t,o)=>{n(0,t[o].positivised_quote=await Qn(e.quote,e.excerpt_reference.dialogue),u),Bn(e,!0),n(0,u),await te("FeedbackList: Positivize Quote",e)},async e=>{n(14,F=1),U(e),await te("FeedbackList: Select as context",i)},async e=>{n(14,F=2),e.id in h?n(4,h[e.id].is_adding=!0,h):n(4,h[e.id]={notes:[],is_adding:!0},h)},async e=>{window.confirm("Are you sure you want to delete this feedback? This cannot be undone.")&&(M(e),await le(u),await te("FeedbackList: Remove critical feedback",e))},function(e,t){e[t].done=this.checked,n(0,u)},async(e,t)=>{R(e,t),oe(e),await te("FeedbackList: Selected feedback",e)},async e=>{n(14,F=0),"excerpt_reference"in e&&"start_timestamp"in e.excerpt_reference&&(ne(e.excerpt_reference.start_timestamp,o),await te("FeedbackList: Seeked to timestamp",e.excerpt_reference.start_timestamp))},async(e,t,o)=>{n(0,t[o].positivised_quote=await Qn(e.quote,e.excerpt_reference.dialogue),u),Bn(e,!0),n(0,u),await te("FeedbackList: Positivize Quote",e)},async e=>{n(14,F=1),U(e),await te("FeedbackList: Select as context",i)},async e=>{n(14,F=2),e.id in h?n(4,h[e.id].is_adding=!0,h):n(4,h[e.id]={notes:[],is_adding:!0},h)},async e=>{M(e),await le(u),await te("FeedbackList: Remove positive feedback",e)},async e=>{Bn(e,!1),await te("FeedbackList: Show original quote",e.original_quote)},async e=>{Bn(e,!0),await te("FeedbackList: Show paraphrased quote",e.positivised_quote)},async(e,t)=>{R(e,t),oe(e),await te("FeedbackList: Selected feedback",e)},async()=>{A("id"),await te("FeedbackList: Sorted feedback","id")},async()=>{A("quote"),await te("FeedbackList: Sorted feedback","quote")},async()=>{A("speaker"),await te("FeedbackList: Sorted feedback","speaker")},async e=>{n(14,F=0),"excerpt_reference"in e&&"start_timestamp"in e.excerpt_reference&&(ne(e.excerpt_reference.start_timestamp,o),await te("FeedbackList: Seeked to timestamp",e.excerpt_reference.start_timestamp))},async e=>{Bn(e,!1),await te("FeedbackList: Show original quote",e.original_quote)},async e=>{Bn(e,!0),await te("FeedbackList: Show paraphrased quote",e.positivised_quote)},async(e,t,o)=>{n(0,t[o].positivised_quote=await Qn(e.quote,e.excerpt_reference.dialogue),u),Bn(e,!0),n(0,u),await te("FeedbackList: Positivize Quote",e)},async e=>{n(14,F=1),U(e),await te("FeedbackList: Select as context",i)},async e=>{n(14,F=2),e.id in h?n(4,h[e.id].is_adding=!0,h):n(4,h[e.id]={notes:[],is_adding:!0},h)},async e=>{window.confirm("Are you sure you want to delete this feedback? This cannot be undone.")&&(M(e),await le(u),await te("FeedbackList: Remove positive feedback",e))},async(e,t)=>{R(e,t),oe(e),await te("FeedbackList: Selected feedback",e)},async e=>{n(14,F=e),await te("FeedbackList: Switched right panel tab",S[F])},function(e){$[e?"unshift":"push"]((()=>{o=e,n(11,o)}))},function(e){$[e?"unshift":"push"]((()=>{o=e,n(11,o)}))},function(e){$[e?"unshift":"push"]((()=>{o=e,n(11,o)}))},async e=>{ne(e.start_timestamp,o),await te("FeedbackList: Seek to start timestamp",e.start_timestamp)},async e=>{ne(e.end_timestamp,o),await te("FeedbackList: Seek to end timestamp",e.end_timestamp)},function(){k=q(this),n(8,k),n(32,w)},async()=>{n(7,b=!b),await te("FeedbackList: Toggled chatbot settings",b)},async e=>{n(14,F=2),B(e.role+": "+e.content),await ue(f),await te("FeedbackList: Added note to My Notes",e)},async e=>{n(14,F=2),B(e.role+": "+e.content,"id"in e.context?e.context.id:null),await pe(h),await te("FeedbackList: Added note to Feedback ID"+e.context.id,e)},async e=>{se(e.role+": "+e.content),await te("FeedbackList: Copied message",e)},async e=>{if(!window.confirm("Are you sure you want to delete this message? This cannot be undone."))return;let t=m.indexOf(e),o=t+1,s=m[o];await fetch("/remove_from_backend_chatbot_messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_message_idx:t,assistant_message_idx:o})}),n(2,m=m.filter((t=>t!==e))),"assistant"===s.role&&n(2,m=m.filter((e=>e!==s))),n(2,m),await de(m),await te("FeedbackList: Removed message",e)},function(e){N=e,n(24,N)},function(e){C=e,n(23,C)},async()=>{await te("FeedbackList: Removed context",i),n(16,i=null)},async()=>{z||await D("Can you explain the following feedback?",i)},async()=>{z||await D("Can you brainstorm a set of actions to address the following feedback?",i)},async()=>{await te("FeedbackList: Removed image",a),n(18,a=null),n(17,c=null)},function(){r=this.value,n(19,r)},function(e){$[e?"unshift":"push"]((()=>{l=e,n(20,l)}))},async()=>{n(19,r=l.files),n(18,[a,c]=await async function(e){let t=e[0];if(t){if(t.type.includes("image"))return console.log(t),[URL.createObjectURL(t),t];alert("Please select an image file.")}else console.log("No image selected.");return null}(r),a,n(17,c)),await te(a?"FeedbackList: Uploaded image":"FeedbackList: Canceled uploading image",a)},async()=>{l.click()},function(){x=this.value,n(12,x)},e=>"Enter"===e.key&&D(x,i),async()=>{await D(x,i),n(12,x="")},function(){k=q(this),n(8,k),n(32,w)},function(e){y=e,n(9,y)},function(e){_=e,n(10,_)},function(e){O=e,n(26,O)},function(e){j=e,n(25,j)},async(e,t)=>{if(!window.confirm("Are you sure you want to delete this document? This cannot be undone."))return;n(27,P=!0),n(26,O=50),n(25,j="Removing document...");let o=await J(e,t);n(25,j="Done!"),n(26,O=100),n(27,P=!1),te("FeedbackList: Removed document",o)},function(e){$[e?"unshift":"push"]((()=>{d=e,n(21,d)}))},async e=>{n(27,P=!0),await I(e),n(27,P=!1),await te("FeedbackList: Added document",e.target.files)},async()=>{window.confirm("Adding a new document will take a long time, since its information will be extracted. Do you want to proceed?")&&(document.getElementById("document_file_input").click(),await te("FeedbackList: Added document","Document"))},async()=>{window.confirm("Are you sure you want to remove all documents? This cannot be undone.")&&(n(27,P=!0),await G(),n(27,P=!1),await te("FeedbackList: Removed all documents",g))},async(e,t)=>{Y(e),await ue(f),await te("FeedbackList: Removed note",t)},function(){Q=this.value,n(31,Q)},async()=>{W(),n(30,V=!1),await ue(f),await te("FeedbackList: Added note to My Notes",Q)},async()=>{n(30,V=!1),n(31,Q=""),await te("FeedbackList: Cancelled adding note to My Notes",Q)},async()=>{n(30,V=!0),await te("FeedbackList: Clicked on My Notes' Add Note button",V)},async()=>{window.confirm("Are you sure you want to delete all notes? This cannot be undone.")&&(n(3,f=[]),n(3,f),await ue(f),await te("FeedbackList: Removed all notes from My Notes",f))},async e=>{let t="Are you sure you want to delete this feedback notes section? This cannot be undone";h[e].notes.length>0&&(t="Are you sure you want to delete this feedback notes section? This will delete all notes and cannot be undone."),window.confirm(t)&&(delete h[e],n(4,h),await pe(h),await te("FeedbackList: Removed feedback notes section","Feedback ID"+e))},async(e,t,n)=>{Y(e,t),await pe(h),await te("FeedbackList: Removed note from Feedback ID"+t,n)},function(){Q=this.value,n(31,Q)},async e=>{W(e),n(4,h[e].is_adding=!1,h),await pe(h),await te("FeedbackList: Added note to Feedback ID"+e,Q)},async e=>{n(4,h[e].is_adding=!1,h),await te("FeedbackList: Cancelled adding note to Feedback ID"+e,Q),n(31,Q="")},async e=>{n(4,h[e].is_adding=!0,h),await te("FeedbackList: Clicked on Feedback ID"+e+"'s Add Note button",h[e].is_adding)},async e=>{window.confirm("Are you sure you want to delete all notes? This cannot be undone.")&&(n(4,h[e].notes=[],h),n(4,h),await pe(h),await te("FeedbackList: Removed all notes from Feedback ID"+e,h[e].notes))}]}class Xn extends K{constructor(e){super(),X(this,e,Wn,Vn,i,{feedback_list:0,recording:6,documents:1,chatbot_messages:2,my_notes:3,feedback_notes:4,left_display_styles:5},null,[-1,-1,-1,-1,-1,-1])}}function Kn(e){let t,n,o,s,i,c,a,r,l,p;function m(t){e[23](t)}function f(t){e[24](t)}function h(t){e[25](t)}function v(t){e[26](t)}function b(t){e[27](t)}function w(t){e[28](t)}function k(t){e[29](t)}let y={};return void 0!==e[9]&&(y.chatbot_messages=e[9]),void 0!==e[8]&&(y.documents=e[8]),void 0!==e[7]&&(y.feedback_list=e[7]),void 0!==e[6]&&(y.recording=e[6]),void 0!==e[10]&&(y.my_notes=e[10]),void 0!==e[11]&&(y.feedback_notes=e[11]),void 0!==e[5]&&(y.left_display_styles=e[5]),n=new Xn({props:y}),$.push((()=>V(n,"chatbot_messages",m))),$.push((()=>V(n,"documents",f))),$.push((()=>V(n,"feedback_list",h))),$.push((()=>V(n,"recording",v))),$.push((()=>V(n,"my_notes",b))),$.push((()=>V(n,"feedback_notes",w))),$.push((()=>V(n,"left_display_styles",k))),{c(){t=g("div"),Q(n.$$.fragment),_(t,"width","100%"),_(t,"height","100%"),_(t,"background-color","#F8F9FA"),F(t,"gone",2!=e[0])},m(e,o){d(e,t,o),B(n,t,null),p=!0},p(e,d){const u={};!o&&512&d[0]&&(o=!0,u.chatbot_messages=e[9],P((()=>o=!1))),!s&&256&d[0]&&(s=!0,u.documents=e[8],P((()=>s=!1))),!i&&128&d[0]&&(i=!0,u.feedback_list=e[7],P((()=>i=!1))),!c&&64&d[0]&&(c=!0,u.recording=e[6],P((()=>c=!1))),!a&&1024&d[0]&&(a=!0,u.my_notes=e[10],P((()=>a=!1))),!r&&2048&d[0]&&(r=!0,u.feedback_notes=e[11],P((()=>r=!1))),!l&&32&d[0]&&(l=!0,u.left_display_styles=e[5],P((()=>l=!1))),n.$set(u),(!p||1&d[0])&&F(t,"gone",2!=e[0])},i(e){p||(J(n.$$.fragment,e),p=!0)},o(e){G(n.$$.fragment,e),p=!1},d(e){e&&u(t),Y(n)}}}function Zn(e){let t,n,o,s,i;function c(t){e[21](t)}function a(t){e[22](t)}let r={};return void 0!==e[6]&&(r.recording=e[6]),void 0!==e[7]&&(r.feedback_list=e[7]),n=new Ue({props:r}),$.push((()=>V(n,"recording",c))),$.push((()=>V(n,"feedback_list",a))),{c(){t=g("div"),Q(n.$$.fragment),_(t,"width","100%"),_(t,"height","100%"),_(t,"background-color","#F8F9FA"),F(t,"gone",1!=e[0])},m(e,o){d(e,t,o),B(n,t,null),i=!0},p(e,c){const a={};!o&&64&c[0]&&(o=!0,a.recording=e[6],P((()=>o=!1))),!s&&128&c[0]&&(s=!0,a.feedback_list=e[7],P((()=>s=!1))),n.$set(a),(!i||1&c[0])&&F(t,"gone",1!=e[0])},i(e){i||(J(n.$$.fragment,e),i=!0)},o(e){G(n.$$.fragment,e),i=!1},d(e){e&&u(t),Y(n)}}}function eo(e){let t,n,s,i,c,a,r,p,m,h,b,k,x,q,T,L,S,z;function C(t){e[16](t)}function N(t){e[17](t)}let j={};return void 0!==e[3]&&(j.progress=e[3]),void 0!==e[4]&&(j.status=e[4]),s=new ae({props:j}),$.push((()=>V(s,"progress",C))),$.push((()=>V(s,"status",N))),{c(){t=g("div"),n=g("div"),Q(s.$$.fragment),a=f(),r=g("div"),p=g("label"),p.textContent="Enter your username",m=f(),h=g("input"),b=f(),k=g("div"),x=g("button"),x.textContent="Register",q=f(),T=g("button"),T.textContent="Login",w(n,"class","overlay centered padded"),F(n,"invisible",!1===e[2]),w(p,"for","username"),w(h,"type","text"),w(h,"name","username"),w(h,"id","username"),w(x,"class","svelte-lde6tu"),w(T,"class","svelte-lde6tu"),w(k,"class","row"),w(r,"class","column centered spaced"),_(r,"width","75%"),_(r,"height","75%"),w(t,"class","centered spaced"),_(t,"width","100%"),_(t,"height","100%"),F(t,"gone",0!=e[0])},m(o,i){d(o,t,i),l(t,n),B(s,n,null),l(t,a),l(t,r),l(r,p),l(r,m),l(r,h),y(h,e[1]),l(r,b),l(r,k),l(k,x),l(k,q),l(k,T),L=!0,S||(z=[v(h,"input",e[18]),v(x,"click",e[19]),v(T,"click",e[20])],S=!0)},p(e,o){const a={};!i&&8&o[0]&&(i=!0,a.progress=e[3],P((()=>i=!1))),!c&&16&o[0]&&(c=!0,a.status=e[4],P((()=>c=!1))),s.$set(a),(!L||4&o[0])&&F(n,"invisible",!1===e[2]),2&o[0]&&h.value!==e[1]&&y(h,e[1]),(!L||1&o[0])&&F(t,"gone",0!=e[0])},i(e){L||(J(s.$$.fragment,e),L=!0)},o(e){G(s.$$.fragment,e),L=!1},d(e){e&&u(t),Y(s),S=!1,o(z)}}}function to(e){let t,n,s,i,c,a,p,h,b,y,_,x,q,T,L,S,$,z,C,N,j,O,P,M,R,E,H;const A=[eo,Zn,Kn],D=[];function V(e,t){return 0===e[0]?0:1===e[0]?1:2===e[0]?2:-1}return~(y=V(e))&&(_=D[y]=A[y](e)),{c(){t=g("main"),n=g("div"),s=g("h5"),i=m("Welcome, "),c=m(e[1]),a=f(),p=g("button"),p.textContent="Logout",h=f(),b=g("div"),_&&_.c(),x=f(),q=g("div"),T=g("button"),L=g("img"),$=m("\n                Select Feedback"),C=f(),N=g("button"),j=m("View Feedback List\n                "),O=g("img"),w(p,"class","row mini-padded svelte-lde6tu"),w(n,"class","header spaced bordered row padded svelte-lde6tu"),F(n,"gone",0==e[0]),w(b,"class","carousel-container svelte-lde6tu"),r(L.src,S="./logos/move-to-the-prev-page-symbol-svgrepo-com.svg")||w(L,"src","./logos/move-to-the-prev-page-symbol-svgrepo-com.svg"),w(L,"alt","Previous page"),w(L,"class","mini-icon"),w(T,"class","action-button row centered svelte-lde6tu"),T.disabled=z=0===e[0],F(T,"invisible",2!=e[0]||0==e[0]),r(O.src,P="./logos/move-to-the-next-page-symbol-svgrepo-com.svg")||w(O,"src","./logos/move-to-the-next-page-symbol-svgrepo-com.svg"),w(O,"alt","Next page"),w(O,"class","mini-icon"),w(N,"class","action-button row centered svelte-lde6tu"),N.disabled=M=e[0]===no.length-1||e[7].length<=0,F(N,"invisible",1!=e[0]||0==e[0]),w(q,"class","navigation centered spaced bordered row svelte-lde6tu")},m(o,r){d(o,t,r),l(t,n),l(n,s),l(s,i),l(s,c),l(n,a),l(n,p),l(t,h),l(t,b),~y&&D[y].m(b,null),l(t,x),l(t,q),l(q,T),l(T,L),l(T,$),l(q,C),l(q,N),l(N,j),l(N,O),R=!0,E||(H=[v(p,"click",e[15]),v(T,"click",e[30]),v(N,"click",e[31])],E=!0)},p(e,t){(!R||2&t[0])&&k(c,e[1]),(!R||1&t[0])&&F(n,"gone",0==e[0]);let o=y;y=V(e),y===o?~y&&D[y].p(e,t):(_&&(U(),G(D[o],1,1,(()=>{D[o]=null})),I()),~y?(_=D[y],_?_.p(e,t):(_=D[y]=A[y](e),_.c()),J(_,1),_.m(b,null)):_=null),(!R||1&t[0]&&z!==(z=0===e[0]))&&(T.disabled=z),(!R||1&t[0])&&F(T,"invisible",2!=e[0]||0==e[0]),(!R||129&t[0]&&M!==(M=e[0]===no.length-1||e[7].length<=0))&&(N.disabled=M),(!R||1&t[0])&&F(N,"invisible",1!=e[0]||0==e[0])},i(e){R||(J(_),R=!0)},o(e){G(_),R=!1},d(e){e&&u(t),~y&&D[y].d(),E=!1,o(H)}}}let no=3;function oo(e,t,n){let o=0,s="",i="",c=!1,a=0,r="Initializing...",l={0:"grid",1:"row"},d={},u=[],p=[],g=[{content:"You are an expert senior interior designer who is tasked to assist less experienced interior designers like students and junior interior designers with their work by answering their questions on a wide range of interior design topics. ",role:"system"}],m=[],f={};async function h(){if(null==s||""==s)throw alert("Please enter a valid username"),new Error("Please enter a valid username");let e=await fetch("/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s})});const t=await e.json();e.ok?e.ok&&(i=t.user_id,ee("username",s,30),ee("user_id",i,30),n(3,a=50),n(4,r="Loading documents..."),n(8,p=await fetch("/get_documents",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>e.documents))),n(3,a=100),n(4,r="Done!"),Z(1500),n(0,o=1)):alert(t.message)}async function v(){if(null==s||""==s)throw alert("Please enter a valid username"),new Error("Please enter a valid username");let e=await fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s})});const t=await e.json();e.ok?e.ok&&(i=t.user_id,ee("username",s,30),ee("user_id",i,30),await async function(e){if(n(3,a=15),n(4,r="Loading documents..."),n(8,p=await fetch("/get_documents",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>e.documents))),Object.keys(d).length<=0){n(3,a=30),n(4,r="Loading recording...");let e=await fetch("/get_recording",{method:"GET",headers:{"Content-Type":"application/json"}}),t=await e.json();if(n(6,d=t.recording),"video_path"in d&&null!=d.video_path){n(3,a=45),n(4,r="Loading video...");const e=await fetch("/fetch_video",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:d.video_path})});if(!e.ok)throw new Error("Failed to fetch video");const t=await e.blob();n(6,d.video=URL.createObjectURL(t),d)}if("audio_path"in d&&null!=d.audio_path){n(3,a=50),n(4,r="Loading audio...");const e=await fetch("/fetch_audio",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({audio_path:d.audio_path})});if(!e.ok)throw new Error("Failed to fetch audio");const t=await e.blob();n(6,d.audio=URL.createObjectURL(t),d)}n(3,a=60),n(4,r="Loading feedback...");const o=await fetch("/get_feedback_list",{method:"GET",headers:{"Content-Type":"application/json"}});if(!o.ok)throw new Error("Failed to fetch feedback list");const s=await o.json();n(7,u=s.feedback_list),n(3,a=70),n(4,r="Loading chatbot messages...");const i=await fetch("/get_display_chatbot_messages",{method:"GET",headers:{"Content-Type":"application/json"}});if(!i.ok)throw new Error("Failed to fetch chatbot messages");const c=await i.json();n(9,g=c.display_chatbot_messages);for(let e of g)if("image_path"in e&&null!=e.image_path){const t=await fetch("/fetch_image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image_path:e.image_path})});if(!t.ok)throw new Error("Failed to fetch image");const n=await t.blob();e.image=URL.createObjectURL(n)}n(3,a=80),n(4,r="Loading notes...");const l=await fetch("/get_my_notes",{method:"GET",headers:{"Content-Type":"application/json"}});if(!l.ok)throw new Error("Failed to fetch my notes");const p=await l.json();n(10,m=p.my_notes);const h=await fetch("/get_feedback_notes",{method:"GET",headers:{"Content-Type":"application/json"}});if(!h.ok)throw new Error("Failed to fetch feedback notes");const v=await h.json();n(11,f=v.feedback_notes),n(3,a=100),n(4,r="Done!"),Z(1500)}}(),n(0,o=1)):alert(t.message)}function b(){ee("username","",0),ee("user_id","",0),n(1,s=""),i="",n(8,p=[]),n(7,u=[]),n(9,g=[{content:"You are an expert senior interior designer who is tasked to assist less experienced interior designers like students and junior interior designers with their work by answering their questions on a wide range of interior design topics. ",role:"system"}]),n(0,o=0)}L((async()=>{}));return[o,s,c,a,r,l,d,u,p,g,m,f,h,v,b,()=>b(),function(e){a=e,n(3,a)},function(e){r=e,n(4,r)},function(){s=this.value,n(1,s)},async()=>{n(2,c=!0),await h(),n(2,c=!1),n(3,a=0)},async()=>{n(2,c=!0),await v(),n(2,c=!1),n(3,a=0)},function(e){d=e,n(6,d)},function(e){u=e,n(7,u)},function(e){g=e,n(9,g)},function(e){p=e,n(8,p)},function(e){u=e,n(7,u)},function(e){d=e,n(6,d)},function(e){m=e,n(10,m)},function(e){f=e,n(11,f)},function(e){l=e,n(5,l)},()=>{n(0,o=1)},()=>{n(0,o=2)}]}return new class extends K{constructor(e){super(),X(this,e,oo,to,i,{},null,[-1,-1])}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
