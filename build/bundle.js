var app=function(){"use strict";function e(){}function t(e,t){for(const n in t)e[n]=t[n];return e}function n(e){return e()}function s(){return Object.create(null)}function o(e){e.forEach(n)}function i(e){return"function"==typeof e}function r(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let l,c;function a(e,t){return l||(l=document.createElement("a")),l.href=t,e===l.href}function d(e,t,n,s){if(e){const o=u(e,t,n,s);return e[0](o)}}function u(e,n,s,o){return e[1]&&o?t(s.ctx.slice(),e[1](o(n))):s.ctx}function p(e,t,n,s){if(e[2]&&s){const o=e[2](s(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let s=0;s<n;s+=1)e[s]=t.dirty[s]|o[s];return e}return t.dirty|o}return t.dirty}function g(e,t,n,s,o,i){if(o){const r=u(t,n,s,i);e.p(r,o)}}function f(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function h(e,t){const n={};t=new Set(t);for(const s in e)t.has(s)||"$"===s[0]||(n[s]=e[s]);return n}function m(e,t){e.appendChild(t)}function b(e,t,n){e.insertBefore(t,n||null)}function k(e){e.parentNode&&e.parentNode.removeChild(e)}function v(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function w(e){return document.createElement(e)}function $(e){return document.createTextNode(e)}function x(){return $(" ")}function y(){return $("")}function _(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function S(e){return function(t){return t.preventDefault(),e.call(this,t)}}function T(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function z(e,t){t=""+t,e.data!==t&&(e.data=t)}function q(e,t){e.value=null==t?"":t}function L(e,t,n,s){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,s?"important":"")}function F(e,t,n){for(let n=0;n<e.options.length;n+=1){const s=e.options[n];if(s.__value===t)return void(s.selected=!0)}n&&void 0===t||(e.selectedIndex=-1)}function N(e){const t=e.querySelector(":checked");return t&&t.__value}function C(e,t,n){e.classList[n?"add":"remove"](t)}class R{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){var s;this.e||(this.is_svg?this.e=(s=t.nodeName,document.createElementNS("http://www.w3.org/2000/svg",s)):this.e=w(11===t.nodeType?"TEMPLATE":t.nodeName),this.t="TEMPLATE"!==t.tagName?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)b(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(k)}}function A(e,t){return new e(t)}function E(e){c=e}function O(){if(!c)throw new Error("Function called outside component initialization");return c}function P(e){O().$$.on_mount.push(e)}function j(){const e=O();return(t,n,{cancelable:s=!1}={})=>{const o=e.$$.callbacks[t];if(o){const i=function(e,t,{bubbles:n=!1,cancelable:s=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,s,t),o}(t,n,{cancelable:s});return o.slice().forEach((t=>{t.call(e,i)})),!i.defaultPrevented}return!0}}const M=[],D=[];let I=[];const H=[],U=Promise.resolve();let B=!1;function Z(e){I.push(e)}function J(e){H.push(e)}const Q=new Set;let G=0;function V(){if(0!==G)return;const e=c;do{try{for(;G<M.length;){const e=M[G];G++,E(e),X(e.$$)}}catch(e){throw M.length=0,G=0,e}for(E(null),M.length=0,G=0;D.length;)D.pop()();for(let e=0;e<I.length;e+=1){const t=I[e];Q.has(t)||(Q.add(t),t())}I.length=0}while(M.length);for(;H.length;)H.pop()();B=!1,Q.clear(),E(e)}function X(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Z)}}const Y=new Set;let W;function K(){W={r:0,c:[],p:W}}function ee(){W.r||o(W.c),W=W.p}function te(e,t){e&&e.i&&(Y.delete(e),e.i(t))}function ne(e,t,n,s){if(e&&e.o){if(Y.has(e))return;Y.add(e),W.c.push((()=>{Y.delete(e),s&&(n&&e.d(1),s())})),e.o(t)}else s&&s()}function se(e,t){const n={},s={},o={$$scope:1};let i=e.length;for(;i--;){const r=e[i],l=t[i];if(l){for(const e in r)e in l||(s[e]=1);for(const e in l)o[e]||(n[e]=l[e],o[e]=1);e[i]=l}else for(const e in r)o[e]=1}for(const e in s)e in n||(n[e]=void 0);return n}function oe(e){return"object"==typeof e&&null!==e?e:{}}function ie(e,t,n){const s=e.$$.props[t];void 0!==s&&(e.$$.bound[s]=n,n(e.$$.ctx[s]))}function re(e){e&&e.c()}function le(e,t,s,r){const{fragment:l,after_update:c}=e.$$;l&&l.m(t,s),r||Z((()=>{const t=e.$$.on_mount.map(n).filter(i);e.$$.on_destroy?e.$$.on_destroy.push(...t):o(t),e.$$.on_mount=[]})),c.forEach(Z)}function ce(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];I.forEach((s=>-1===e.indexOf(s)?t.push(s):n.push(s))),n.forEach((e=>e())),I=t}(n.after_update),o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ae(e,t){-1===e.$$.dirty[0]&&(M.push(e),B||(B=!0,U.then(V)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function de(t,n,i,r,l,a,d,u=[-1]){const p=c;E(t);const g=t.$$={fragment:null,ctx:[],props:a,update:e,not_equal:l,bound:s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(p?p.$$.context:[])),callbacks:s(),dirty:u,skip_bound:!1,root:n.target||p.$$.root};d&&d(g.root);let f=!1;if(g.ctx=i?i(t,n.props||{},((e,n,...s)=>{const o=s.length?s[0]:n;return g.ctx&&l(g.ctx[e],g.ctx[e]=o)&&(!g.skip_bound&&g.bound[e]&&g.bound[e](o),f&&ae(t,e)),n})):[],g.update(),f=!0,o(g.before_update),g.fragment=!!r&&r(g.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);g.fragment&&g.fragment.l(e),e.forEach(k)}else g.fragment&&g.fragment.c();n.intro&&te(t.$$.fragment),le(t,n.target,n.anchor,n.customElement),V()}E(p)}class ue{$destroy(){ce(this,1),this.$destroy=e}$on(t,n){if(!i(n))return e;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const e=s.indexOf(n);-1!==e&&s.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}async function pe(e){return new Promise((t=>setTimeout(t,e)))}function ge(e,t,n){var s="";if(n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),s="; expires="+o.toUTCString()}document.cookie=e+"="+(t||"")+s+"; path=/"}async function fe(e,t){const n=await fetch("/log_action",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:e,data:t})});if(!n.ok)throw new Error("Failed to log action");const s=await n.json();console.log(s.message)}function he(e,t){t.currentTime=function(e){let t=e.split(":");return 3600*parseInt(t[0])+60*parseInt(t[1])+parseInt(t[2].split(",")[0])+parseInt(t[2].split(",")[1])/1e3}(e),t.play()}function me(e){let t=parseInt(e.dialogue_id),n=document.getElementById(t);n?n.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}):console.log("Error: Can't focus on feedback. Corresponding transcript excerpt not found.")}function be(e){!function(e){try{return navigator.clipboard.writeText(e)}catch{const t=document.createElement("textarea"),n=document.activeElement;t.value=e,t.setAttribute("readonly",""),t.style.contain="strict",t.style.position="absolute",t.style.left="-9999px",t.style.fontSize="12pt";const s=document.getSelection(),o=s?s.rangeCount>0&&s.getRangeAt(0):null;document.body.appendChild(t),t.select(),t.selectionStart=0,t.selectionEnd=e.length,document.execCommand("copy"),document.body.removeChild(t),o&&s&&(s.removeAllRanges(),s.addRange(o)),n&&n.focus()}}(e)}function ke(t){let n,s,o,i,r,l,c,a,d;return{c(){n=w("div"),s=w("span"),o=$("["),i=$(t[0]),r=$("%] "),l=$(t[1]),c=x(),a=w("div"),d=w("div"),T(s,"class","status-text svelte-e99ivy"),T(d,"class","loading-bar-progress svelte-e99ivy"),L(d,"width",t[0]+"%"),T(a,"class","loading-bar-container svelte-e99ivy"),T(n,"class","container column centered spaced svelte-e99ivy")},m(e,t){b(e,n,t),m(n,s),m(s,o),m(s,i),m(s,r),m(s,l),m(n,c),m(n,a),m(a,d)},p(e,[t]){1&t&&z(i,e[0]),2&t&&z(l,e[1]),1&t&&L(d,"width",e[0]+"%")},i:e,o:e,d(e){e&&k(n)}}}function ve(e,t,n){let{progress:s=0}=t,{status:o=""}=t;return e.$$set=e=>{"progress"in e&&n(0,s=e.progress),"status"in e&&n(1,o=e.status)},[s,o]}class we extends ue{constructor(e){super(),de(this,e,ve,ke,r,{progress:0,status:1})}}async function $e(e){const t=await fetch("/save_recording",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recording:e})});if(!t.ok)throw new Error("Failed to save recording");let n=await t.json();return"message"in n&&console.log(n.message),n.message}async function xe(e){const t=await fetch("/save_feedback_list",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({feedback_list:e})});if(!t.ok)throw new Error("Failed to save feedback list");let n=await t.json();return"message"in n&&console.log(n.message),n.message}async function ye(e){const t=await fetch("/save_display_chatbot_messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({display_chatbot_messages:e})});if(!t.ok)throw new Error("Failed to save display chatbot messages");let n=await t.json();return"message"in n&&console.log(n.message),n.message}async function _e(e){const t=await fetch("/save_my_notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({my_notes:e})});if(!t.ok)throw new Error("Failed to save my notes");let n=await t.json();return"message"in n&&console.log(n.message),n.message}async function Se(e){const t=await fetch("/save_feedback_notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({feedback_notes:e})});if(!t.ok)throw new Error("Failed to save my feedback notes");let n=await t.json();return"message"in n&&console.log(n.message),n.message}function Te(e,t,n){const s=e.slice();return s[63]=t[n][0],s[64]=t[n][1],s}function ze(e,t,n){const s=e.slice();return s[67]=t[n],s[69]=n,s}function qe(t){let n;return{c(){n=w("span"),n.textContent="No feedback moments highlighted."},m(e,t){b(e,n,t)},p:e,d(e){e&&k(n)}}}function Le(e){let t,n,s,o,i,r=e[2]+1+"",l=e[1].length+"";return{c(){t=w("span"),n=$(r),s=$(" of "),o=$(l),i=$(" feedback moments highlighted")},m(e,r){b(e,t,r),m(t,n),m(t,s),m(t,o),m(t,i)},p(e,t){4&t[0]&&r!==(r=e[2]+1+"")&&z(n,r),2&t[0]&&l!==(l=e[1].length+"")&&z(o,l)},d(e){e&&k(t)}}}function Fe(t){let n;return{c(){n=w("div"),n.innerHTML="<span>No discussion transcript loaded. Please first upload your transcript.</span>",T(n,"class","centered"),L(n,"height","100%"),L(n,"width","100%")},m(e,t){b(e,n,t)},p:e,d(e){e&&k(n)}}}function Ne(e){let t,n=e[0].transcript_list,s=[];for(let t=0;t<n.length;t+=1)s[t]=Ce(ze(e,n,t));return{c(){t=w("p");for(let e=0;e<s.length;e+=1)s[e].c();T(t,"class","padded")},m(e,n){b(e,t,n);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,null)},p(e,o){if(9&o[0]){let i;for(n=e[0].transcript_list,i=0;i<n.length;i+=1){const r=ze(e,n,i);s[i]?s[i].p(r,o):(s[i]=Ce(r),s[i].c(),s[i].m(t,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}},d(e){e&&k(t),v(s,e)}}}function Ce(e){let t,n,s,i,r,l,c,a,d,u,p,g,f,h,v,y,S,q,L,F,N,C,R,A=e[67].start_timestamp+"",E=e[67].end_timestamp+"",O=e[67].speaker?e[67].speaker+":":"",P=e[67].dialogue+"";function j(){return e[22](e[67])}function M(){return e[23](e[67])}return{c(){t=w("div"),n=w("span"),s=$("["),i=$(A),r=$("]"),l=$(" \n                            - \n                            "),c=w("span"),a=$("["),d=$(E),u=$("]"),p=x(),g=w("br"),f=x(),h=$(O),v=x(),y=w("span"),q=x(),L=w("br"),F=w("br"),N=x(),T(n,"class","timestamp svelte-axxzkr"),T(c,"class","timestamp svelte-axxzkr"),T(y,"id",S=e[67].id),T(y,"class","svelte-axxzkr"),T(t,"class","spaced")},m(e,o){b(e,t,o),m(t,n),m(n,s),m(n,i),m(n,r),m(t,l),m(t,c),m(c,a),m(c,d),m(c,u),m(t,p),m(t,g),m(t,f),m(t,h),m(t,v),m(t,y),y.innerHTML=P,m(t,q),m(t,L),m(t,F),m(t,N),C||(R=[_(n,"click",j),_(c,"click",M)],C=!0)},p(t,n){e=t,1&n[0]&&A!==(A=e[67].start_timestamp+"")&&z(i,A),1&n[0]&&E!==(E=e[67].end_timestamp+"")&&z(d,E),1&n[0]&&O!==(O=e[67].speaker?e[67].speaker+":":"")&&z(h,O),1&n[0]&&P!==(P=e[67].dialogue+"")&&(y.innerHTML=P),1&n[0]&&S!==(S=e[67].id)&&T(y,"id",S)},d(e){e&&k(t),C=!1,o(R)}}}function Re(e){let t,n,s,o,i,r;return{c(){t=w("button"),n=w("img"),o=$("\n                                        Remove media"),a(n.src,s="./logos/delete-x-svgrepo-com.svg")||T(n,"src","./logos/delete-x-svgrepo-com.svg"),T(n,"alt","Delete media"),T(n,"class","mini-icon"),T(t,"class","action-button centered row  svelte-axxzkr"),t.disabled=e[8]},m(s,l){b(s,t,l),m(t,n),m(t,o),i||(r=_(t,"click",e[28]),i=!0)},p(e,n){256&n[0]&&(t.disabled=e[8])},d(e){e&&k(t),i=!1,r()}}}function Ae(e){let t,n,s,o,i,r;return{c(){t=w("button"),n=w("img"),o=$("\n                                        Remove transcript"),a(n.src,s="./logos/delete-x-svgrepo-com.svg")||T(n,"src","./logos/delete-x-svgrepo-com.svg"),T(n,"alt","Delete transcript"),T(n,"class","mini-icon"),T(t,"class","action-button centered row  svelte-axxzkr"),t.disabled=e[8]},m(s,l){b(s,t,l),m(t,n),m(t,o),i||(r=_(t,"click",e[33]),i=!0)},p(e,n){256&n[0]&&(t.disabled=e[8])},d(e){e&&k(t),i=!1,r()}}}function Ee(t){let n,s;return{c(){n=w("video"),n.innerHTML='<track kind="captions" src="blank.vtt" srclang="en"/>',a(n.src,s="video.mp4")||T(n,"src","video.mp4"),n.controls=!0,L(n,"width","100%"),L(n,"height","100%")},m(e,s){b(e,n,s),t[41](n)},p:e,d(e){e&&k(n),t[41](null)}}}function Oe(e){let t,n;return{c(){t=w("audio"),a(t.src,n=e[0].audio)||T(t,"src",n),t.controls=!0,L(t,"width","100%"),L(t,"height","100%")},m(n,s){b(n,t,s),e[40](t)},p(e,s){1&s[0]&&!a(t.src,n=e[0].audio)&&T(t,"src",n)},d(n){n&&k(t),e[40](null)}}}function Pe(e){let t,n,s,o;return{c(){t=w("video"),n=w("track"),T(n,"kind","captions"),a(n.src,s="blank.vtt")||T(n,"src","blank.vtt"),T(n,"srclang","en"),a(t.src,o=e[0].video)||T(t,"src",o),t.controls=!0,L(t,"width","100%"),L(t,"height","100%")},m(s,o){b(s,t,o),m(t,n),e[39](t)},p(e,n){1&n[0]&&!a(t.src,o=e[0].video)&&T(t,"src",o)},d(n){n&&k(t),e[39](null)}}}function je(e){let t,n,s=e[0].transcript_list&&e[0].transcript_list.length>0&&"speaker"in e[0].transcript_list[0]&&Me(e),o=e[1]&&Ie(e);return{c(){s&&s.c(),t=x(),o&&o.c(),n=y()},m(e,i){s&&s.m(e,i),b(e,t,i),o&&o.m(e,i),b(e,n,i)},p(e,i){e[0].transcript_list&&e[0].transcript_list.length>0&&"speaker"in e[0].transcript_list[0]?s?s.p(e,i):(s=Me(e),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),e[1]?o?o.p(e,i):(o=Ie(e),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(e){s&&s.d(e),e&&k(t),o&&o.d(e),e&&k(n)}}}function Me(e){let t,n,s,o,i,r,l,c,a,d=Object.keys(e[0].transcript_list.reduce(Xe,{})).length+"",u=Object.entries(e[0].transcript_list.reduce(Ye,{})),p=[];for(let t=0;t<u.length;t+=1)p[t]=De(Te(e,u,t));return{c(){t=w("strong"),n=$("Number of participants: "),s=$(d),o=x(),i=w("br"),r=x(),l=w("ul");for(let e=0;e<p.length;e+=1)p[e].c();c=x(),a=w("br")},m(e,d){b(e,t,d),m(t,n),m(t,s),b(e,o,d),b(e,i,d),b(e,r,d),b(e,l,d);for(let e=0;e<p.length;e+=1)p[e]&&p[e].m(l,null);b(e,c,d),b(e,a,d)},p(e,t){if(1&t[0]&&d!==(d=Object.keys(e[0].transcript_list.reduce(Xe,{})).length+"")&&z(s,d),1&t[0]){let n;for(u=Object.entries(e[0].transcript_list.reduce(Ye,{})),n=0;n<u.length;n+=1){const s=Te(e,u,n);p[n]?p[n].p(s,t):(p[n]=De(s),p[n].c(),p[n].m(l,null))}for(;n<p.length;n+=1)p[n].d(1);p.length=u.length}},d(e){e&&k(t),e&&k(o),e&&k(i),e&&k(r),e&&k(l),v(p,e),e&&k(c),e&&k(a)}}}function De(e){let t,n,s,o,i,r,l,c=e[63]+"",a=e[64]+"";return{c(){t=w("li"),n=$("- "),s=$(c),o=$(": "),i=$(a),r=$(" utterances"),l=x()},m(e,c){b(e,t,c),m(t,n),m(t,s),m(t,o),m(t,i),m(t,r),b(e,l,c)},p(e,t){1&t[0]&&c!==(c=e[63]+"")&&z(s,c),1&t[0]&&a!==(a=e[64]+"")&&z(i,a)},d(e){e&&k(t),e&&k(l)}}}function Ie(e){let t,n,s,o,i,r,l,c,a,d,u,p,g=e[1].length+"",f=e[1].filter(We).length+"",h=e[1].filter(Ke).length+"";return{c(){t=w("strong"),n=$("Number of feedback utterances: "),s=$(g),o=x(),i=w("ul"),r=w("li"),l=$("- Number of positive feedback: "),c=$(f),a=x(),d=w("li"),u=$("- Number of critical feedback: "),p=$(h)},m(e,g){b(e,t,g),m(t,n),m(t,s),b(e,o,g),b(e,i,g),m(i,r),m(r,l),m(r,c),m(i,a),m(i,d),m(d,u),m(d,p)},p(e,t){2&t[0]&&g!==(g=e[1].length+"")&&z(s,g),2&t[0]&&f!==(f=e[1].filter(We).length+"")&&z(c,f),2&t[0]&&h!==(h=e[1].filter(Ke).length+"")&&z(p,h)},d(e){e&&k(t),e&&k(o),e&&k(i)}}}function He(e){let t,n,s,i,r,l,c,d,u,p,g,f,h,v,y,S,z,q,F,N,R,A,E,O,P,j,M,I,H,U,B,Z,Q,G,V,X,Y,W,K,ee,se,oe,ae,de,ue,pe,ge,fe,he,me,be,ke,ve,$e,xe,ye,_e,Se,Te,ze,Ce,Me,De,Ie,He,Ue,Be,Ze,Je,Qe,Ge,Ve,Xe,Ye,We,Ke,et,tt,nt,st,ot,it,rt,lt,ct,at,dt,ut,pt,gt,ft,ht,mt,bt,kt,vt,wt,$t,xt,yt,_t,St,Tt,zt,qt,Lt,Ft;function Nt(t){e[18](t)}function Ct(t){e[19](t)}let Rt={};function At(e,t){return e[1]&&e[1].length>0?Le:qe}void 0!==e[10]&&(Rt.progress=e[10]),void 0!==e[9]&&(Rt.status=e[9]),r=new we({props:Rt}),D.push((()=>ie(r,"progress",Nt))),D.push((()=>ie(r,"status",Ct)));let Et=At(e),Ot=Et(e);function Pt(e,t){return e[0]&&e[0].transcript_list&&e[0].transcript_list.length>0?Ne:Fe}let jt=Pt(e),Mt=jt(e),Dt=(e[0].video||e[0].audio)&&Re(e),It=e[0].transcript_list&&e[0].transcript_list.length>0&&Ae(e);function Ht(e,t){return e[0]&&e[0].video?Pe:e[0]&&e[0].audio?Oe:Ee}let Ut=Ht(e),Bt=Ut(e),Zt=e[0]&&e[0].transcript_list&&je(e);return{c(){t=w("div"),n=w("div"),s=w("div"),i=w("div"),re(r.$$.fragment),d=x(),u=w("div"),Ot.c(),p=x(),g=w("button"),f=w("img"),y=x(),S=w("button"),z=w("img"),N=x(),Mt.c(),R=x(),A=w("div"),E=w("div"),O=w("span"),O.textContent="Step 1: Upload your discussion.",P=x(),j=w("div"),M=w("div"),I=w("div"),H=w("label"),H.textContent="Upload your own video or audio:",U=x(),B=w("div"),Z=w("input"),Q=x(),G=w("button"),V=w("img"),Y=$("\n                                    Upload file"),K=x(),Dt&&Dt.c(),ee=x(),se=w("div"),oe=w("label"),oe.textContent="Upload your own transcript (in .srt only):",ae=x(),de=w("div"),ue=w("input"),pe=x(),ge=w("button"),fe=w("img"),me=$("\n                                    Upload file"),ke=x(),It&&It.c(),ve=x(),$e=w("div"),xe=w("span"),xe.textContent="Step 2: Highlight feedback in the discussion's transcript.",ye=x(),_e=w("div"),Se=w("div"),Te=w("button"),ze=w("img"),Me=$("\n                            Auto-detect "),De=w("br"),Ie=$(" Feedback"),Ue=x(),Be=w("button"),Ze=w("img"),Qe=$("\n                            Highlight "),Ge=w("br"),Ve=$(" Positive"),Ye=x(),We=w("button"),Ke=w("img"),tt=$("\n                            Highlight "),nt=w("br"),st=$(" Critical"),it=x(),rt=w("button"),lt=w("img"),at=$("\n                            Remove "),dt=w("br"),ut=$(" Feedback"),gt=x(),ft=w("button"),ht=w("img"),bt=$("\n                            Remove all "),kt=w("br"),vt=$(" Feedback"),$t=x(),xt=w("div"),yt=w("div"),Bt.c(),_t=x(),St=w("div"),Tt=w("h3"),Tt.textContent="Discussion Transcript Details",zt=x(),Zt&&Zt.c(),T(i,"class","overlay centered padded"),C(i,"invisible",!1===e[8]),a(f.src,h="./logos/up-arrow-5-svgrepo-com.svg")||T(f,"src","./logos/up-arrow-5-svgrepo-com.svg"),T(f,"alt","Prev feedback"),T(f,"class","logo"),L(f,"width","1.5rem"),L(f,"height","1.5rem"),g.disabled=v=!e[1]||e[1].length<=0,a(z.src,q="./logos/down-arrow-5-svgrepo-com.svg")||T(z,"src","./logos/down-arrow-5-svgrepo-com.svg"),T(z,"alt","Next feedback"),T(z,"class","logo"),L(z,"width","1.5rem"),L(z,"height","1.5rem"),S.disabled=F=!e[1]||e[1].length<=0,T(u,"id","traverse-feedback-area"),T(u,"class","bordered spaced svelte-axxzkr"),T(s,"id","transcript-area"),T(s,"class","column bordered spaced svelte-axxzkr"),L(O,"font-weight","bold"),L(O,"text-decoration","underline"),L(O,"margin-left","1rem"),T(H,"for","file_upload"),L(Z,"width","50%"),T(Z,"name","mediafile_upload"),T(Z,"type","file"),T(Z,"id","mediafile_upload"),T(Z,"accept","video/*, audio/*"),a(V.src,X="./logos/upload-svgrepo-com.svg")||T(V,"src","./logos/upload-svgrepo-com.svg"),T(V,"alt","Upload file"),T(V,"class","mini-icon"),T(G,"class","action-button centered column  svelte-axxzkr"),G.disabled=W=e[8]||!e[4]||0===e[4].length,T(B,"class","row centered spaced"),T(I,"class","column spaced centered"),T(oe,"for","file_upload"),L(ue,"width","50%"),T(ue,"name","transcirptfile_upload"),T(ue,"type","file"),T(ue,"id","transcriptfile_upload"),T(ue,"accept"," .srt"),a(fe.src,he="./logos/upload-svgrepo-com.svg")||T(fe,"src","./logos/upload-svgrepo-com.svg"),T(fe,"alt","Upload file"),T(fe,"class","mini-icon"),T(ge,"class","action-button centered column  svelte-axxzkr"),ge.disabled=be=e[8]||!e[6]||0===e[6].length,T(de,"class","row centered spaced"),T(se,"class","column spaced centered"),T(M,"class","column centered spaced"),T(j,"class","row centered spaced"),T(E,"id","capture-feedback-panel"),T(E,"class","column padded centered spaced svelte-axxzkr"),L(xe,"font-weight","bold"),L(xe,"text-decoration","underline"),L(xe,"margin-left","1rem"),a(ze.src,Ce="./logos/magnifying-glass-for-search-3-svgrepo-com.svg")||T(ze,"src","./logos/magnifying-glass-for-search-3-svgrepo-com.svg"),T(ze,"alt","Auto-detect Feedback"),T(ze,"class","logo"),T(Te,"class","action-button svelte-axxzkr"),Te.disabled=He=!e[0]||!e[0].transcript_list||e[8],a(Ze.src,Je="./logos/highlight-green-svgrepo-com.svg")||T(Ze,"src","./logos/highlight-green-svgrepo-com.svg"),T(Ze,"alt","Highlight Positive Feedback"),T(Ze,"class","logo"),T(Be,"class","action-button svelte-axxzkr"),Be.disabled=Xe=!e[0]||!e[0].transcript_list||e[8],a(Ke.src,et="./logos/highlight-red-svgrepo-com.svg")||T(Ke,"src","./logos/highlight-red-svgrepo-com.svg"),T(Ke,"alt","Highlight Critical Feedback"),T(Ke,"class","logo"),T(We,"class","action-button svelte-axxzkr"),We.disabled=ot=!e[0]||!e[0].transcript_list||e[8],a(lt.src,ct="./logos/erase-svgrepo-com.svg")||T(lt,"src","./logos/erase-svgrepo-com.svg"),T(lt,"alt","De-highlight Feedback"),T(lt,"class","logo"),T(rt,"class","action-button svelte-axxzkr"),rt.disabled=pt=!e[0]||!e[0].transcript_list||e[8]||e[1].length<=0,a(ht.src,mt="./logos/delete-svgrepo-com.svg")||T(ht,"src","./logos/delete-svgrepo-com.svg"),T(ht,"alt","Delete all Feedback"),T(ht,"class","logo"),T(ft,"class","action-button svelte-axxzkr"),ft.disabled=wt=!e[0]||!e[0].transcript_list||e[8]||e[1].length<=0,T(Se,"class","row centered spaced"),T(_e,"class","centered"),L(_e,"height","100%"),L(_e,"width","100%"),T($e,"id","feedback-highlight-panel"),T($e,"class","column spaced padded  svelte-axxzkr"),T(A,"id","transcript-buttons-area"),T(A,"class","row centered spaced bordered svelte-axxzkr"),T(n,"id","left-panel"),T(n,"class","column spaced svelte-axxzkr"),T(yt,"id","media-player-area"),T(yt,"class","bordered centered svelte-axxzkr"),L(Tt,"font-weight","bold"),L(Tt,"text-decoration","underline"),T(St,"id","feedback-details-area"),T(St,"class","bordered padded spaced svelte-axxzkr"),L(St,"overflow-y","auto"),T(xt,"id","right-panel"),T(xt,"class","column spaced svelte-axxzkr"),T(t,"div",""),T(t,"class","row spaced svelte-axxzkr"),T(t,"id","feedback-selector-page")},m(o,l){b(o,t,l),m(t,n),m(n,s),m(s,i),le(r,i,null),m(s,d),m(s,u),Ot.m(u,null),m(u,p),m(u,g),m(g,f),m(u,y),m(u,S),m(S,z),m(s,N),Mt.m(s,null),m(n,R),m(n,A),m(A,E),m(E,O),m(E,P),m(E,j),m(j,M),m(M,I),m(I,H),m(I,U),m(I,B),m(B,Z),e[25](Z),m(B,Q),m(B,G),m(G,V),m(G,Y),m(B,K),Dt&&Dt.m(B,null),m(M,ee),m(M,se),m(se,oe),m(se,ae),m(se,de),m(de,ue),e[30](ue),m(de,pe),m(de,ge),m(ge,fe),m(ge,me),m(de,ke),It&&It.m(de,null),m(A,ve),m(A,$e),m($e,xe),m($e,ye),m($e,_e),m(_e,Se),m(Se,Te),m(Te,ze),m(Te,Me),m(Te,De),m(Te,Ie),m(Se,Ue),m(Se,Be),m(Be,Ze),m(Be,Qe),m(Be,Ge),m(Be,Ve),m(Se,Ye),m(Se,We),m(We,Ke),m(We,tt),m(We,nt),m(We,st),m(Se,it),m(Se,rt),m(rt,lt),m(rt,at),m(rt,dt),m(rt,ut),m(Se,gt),m(Se,ft),m(ft,ht),m(ft,bt),m(ft,kt),m(ft,vt),m(t,$t),m(t,xt),m(xt,yt),Bt.m(yt,null),m(xt,_t),m(xt,St),m(St,Tt),m(St,zt),Zt&&Zt.m(St,null),qt=!0,Lt||(Ft=[_(g,"click",e[20]),_(S,"click",e[21]),_(Z,"change",e[24]),_(Z,"change",e[26]),_(G,"click",e[27]),_(ue,"change",e[29]),_(ue,"change",e[31]),_(ge,"click",e[32]),_(Te,"click",e[34]),_(Be,"click",e[35]),_(We,"click",e[36]),_(rt,"click",e[37]),_(ft,"click",e[38])],Lt=!0)},p(e,t){const n={};!l&&1024&t[0]&&(l=!0,n.progress=e[10],J((()=>l=!1))),!c&&512&t[0]&&(c=!0,n.status=e[9],J((()=>c=!1))),r.$set(n),(!qt||256&t[0])&&C(i,"invisible",!1===e[8]),Et===(Et=At(e))&&Ot?Ot.p(e,t):(Ot.d(1),Ot=Et(e),Ot&&(Ot.c(),Ot.m(u,p))),(!qt||2&t[0]&&v!==(v=!e[1]||e[1].length<=0))&&(g.disabled=v),(!qt||2&t[0]&&F!==(F=!e[1]||e[1].length<=0))&&(S.disabled=F),jt===(jt=Pt(e))&&Mt?Mt.p(e,t):(Mt.d(1),Mt=jt(e),Mt&&(Mt.c(),Mt.m(s,null))),(!qt||272&t[0]&&W!==(W=e[8]||!e[4]||0===e[4].length))&&(G.disabled=W),e[0].video||e[0].audio?Dt?Dt.p(e,t):(Dt=Re(e),Dt.c(),Dt.m(B,null)):Dt&&(Dt.d(1),Dt=null),(!qt||320&t[0]&&be!==(be=e[8]||!e[6]||0===e[6].length))&&(ge.disabled=be),e[0].transcript_list&&e[0].transcript_list.length>0?It?It.p(e,t):(It=Ae(e),It.c(),It.m(de,null)):It&&(It.d(1),It=null),(!qt||257&t[0]&&He!==(He=!e[0]||!e[0].transcript_list||e[8]))&&(Te.disabled=He),(!qt||257&t[0]&&Xe!==(Xe=!e[0]||!e[0].transcript_list||e[8]))&&(Be.disabled=Xe),(!qt||257&t[0]&&ot!==(ot=!e[0]||!e[0].transcript_list||e[8]))&&(We.disabled=ot),(!qt||259&t[0]&&pt!==(pt=!e[0]||!e[0].transcript_list||e[8]||e[1].length<=0))&&(rt.disabled=pt),(!qt||259&t[0]&&wt!==(wt=!e[0]||!e[0].transcript_list||e[8]||e[1].length<=0))&&(ft.disabled=wt),Ut===(Ut=Ht(e))&&Bt?Bt.p(e,t):(Bt.d(1),Bt=Ut(e),Bt&&(Bt.c(),Bt.m(yt,null))),e[0]&&e[0].transcript_list?Zt?Zt.p(e,t):(Zt=je(e),Zt.c(),Zt.m(St,null)):Zt&&(Zt.d(1),Zt=null)},i(e){qt||(te(r.$$.fragment,e),qt=!0)},o(e){ne(r.$$.fragment,e),qt=!1},d(n){n&&k(t),ce(r),Ot.d(),Mt.d(),e[25](null),Dt&&Dt.d(),e[30](null),It&&It.d(),Bt.d(),Zt&&Zt.d(),Lt=!1,o(Ft)}}}async function Ue(e){try{const t=await fetch("/fetch_audio",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({audio_path:e})}),n=await t.blob();return URL.createObjectURL(n)}catch(e){console.error(e)}}async function Be(e){if(!(await fetch("/embed_transcript",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transcript:e})})).ok)throw new Error("Failed to embed transcript list")}async function Ze(e){const t=new FormData;t.append("file",e);const n=await fetch("/extract_audio_from_video",{method:"POST",body:t});if(!n.ok)return null;const s=await n.json();return[s.audiopath,s.videopath]}async function Je(e){const t=await fetch("/simplify_transcript",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transcript:e})});if(!t.ok)throw new Error("Failed to simplify transcript string");return(await t.json()).simplified_transcript}async function Qe(e){const t=await fetch("/transcript_to_list",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transcript:e})});if(!t.ok)throw new Error("Failed to convert transcript string to list of excerpts");return(await t.json()).transcript_list}async function Ge(e){let t=[],n=function(e){let t="";for(let n=0;n<e.length;n++){let s=e[n],o=s.id,i=s.start_timestamp,r=s.end_timestamp,l=s.dialogue;"speaker"in s&&""!=s.speaker?t+=`${o}\n${i} --\x3e ${r}\n${s.speaker}: ${l}\n\n`:t+=`${o}\n${i} --\x3e ${r}\n${l}\n\n`}return t}(e);const s=await fetch("/autodetect_feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transcript:n})});if(!s.ok)throw new Error("Failed to detect feedback");return t=(await s.json()).feedback_list,console.log(t),t}function Ve(e,t){t=parseInt(t);for(let n=0;n<e.length;n++){let s=e[n];if(s.id===t)return s}return console.log("Error: Can't find excerpt with id",t),null}const Xe=(e,t)=>(e[t.speaker]=!0,e),Ye=(e,t)=>(e[t.speaker]=(e[t.speaker]||0)+1,e),We=e=>"positive"===e.type,Ke=e=>"critical"===e.type;function et(e,t,n){let s,o,i,r,l,c,a,{recording:d={}}=t,{feedback_list:u=[]}=t,p=0,g=!1,f="",h=0;async function m(){let e=await fetch("/delete_recording_media",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recording:d})}),t=await e.json();return"message"in t&&console.log(t.message),t.message}async function b(){if(r){for(const e of r)if(console.log(e.type),e.type.includes("video")){if((d||"video"in d||"audio"in d||"transcript_list"in d)&&(d.video||d.audio)){if(!window.confirm("Uploading a new video will overwrite this current media. Do you want to proceed?"))return;await m(),d.audio&&(n(0,d.audio=null,d),n(0,d.audio_path=null,d),n(0,d)),d.video&&(n(0,d.video=null,d),n(0,d.video_path=null,d),n(0,d)),await $e(d),await fe("FeedbackSelector: Remove media",d)}let t=URL.createObjectURL(e);if(n(9,f="Uploading video..."),n(10,h=50),[i,o]=await Ze(e),!i||!o)throw i=null,o=null,new Error("Failed to extract audio from video");let s=await Ue(i),r="",l=[];n(9,f="Done!"),n(10,h=100),pe(1500),n(10,h=0);let c={video:t,video_path:o,audio:s,audio_path:i,transcript:r,transcript_list:l};d&&"transcript_list"in d&&d.transcript_list?(n(0,d.video=t,d),n(0,d.video_path=o,d),n(0,d.audio=s,d),n(0,d.audio_path=i,d),n(0,d),n(0,d)):n(0,d=c),i=null,o=null}else if(e.type.includes("audio")){if((d||"audio"in d||"video"in d||"transcript_list"in d)&&(d.audio||d.video)){if(!window.confirm("Uploading a new audio will overwrite this current media. Do you want to proceed?"))return;await m(),d.audio&&(n(0,d.audio=null,d),n(0,d.audio_path=null,d),n(0,d)),d.video&&(n(0,d.video=null,d),n(0,d.video_path=null,d),n(0,d)),await $e(d),await fe("FeedbackSelector: Remove media",d)}let t=URL.createObjectURL(e);n(9,f="Uploading audio..."),n(10,h=50);const s=new FormData;s.append("audio",e);const r=await fetch("/download_mic",{method:"POST",body:s});if(!r.ok)throw i=null,o=null,new Error("Failed to save uploaded audio");let l=await r.json();i=l.filepath;let c="",a=[];n(9,f="Done!"),n(10,h=100),await pe(1500),n(10,h=0);let u={video:null,video_path:null,audio:t,audio_path:i,transcript:c,transcript_list:a};d&&"transcript_list"in d&&d.transcript_list?(n(0,d.audio=t,d),n(0,d.audio_path=i,d),n(0,d),n(0,d)):n(0,d=u),i=null,o=null}n(4,r=null),n(5,l.value="",l)}console.log("Recording",d),n(10,h=0),n(9,f="")}async function k(){if(c){for(const e of c)if(console.log(e.type),e.name.endsWith(".srt")){if((d||"transcript"in d||"transcript_list"in d)&&d.transcript_list&&d.transcript_list.length>0){if(!window.confirm("Uploading a new transcript will overwrite this current transcript. Do you want to proceed?"))return;$(),n(1,u=[]),n(0,d.transcript_list=[],d),n(0,d.transcript="",d),n(0,d),await $e(d),await fe("FeedbackSelector: Remove transcript",d)}let t=new FileReader;t.onload=async function(e){console.log(undefined),n(8,g=!0);let t=e.target.result;console.log(t),n(9,f="Cleaning transcript..."),n(10,h=30);let s=await Je(t);await pe(1500);let o=await Qe(s),i={video:null,video_path:null,audio:null,audio_path:null,transcript:s,transcript_list:o};d&&("video"in d&&d.video||"audio"in d&&d.audio)?(n(0,d.transcript_list=o,d),n(0,d),n(0,d.transcript=s,d),n(0,d),n(0,d),n(0,d)):n(0,d=i),n(9,f="Saving transcript as a database (this may take a while) ... "),n(10,h=60),await Be(o),await $e(d),console.log("Transcript list embedded"),n(9,f="Done!"),n(10,h=100),await pe(500),n(10,h=0),n(8,g=!1)},t.readAsText(e)}n(6,c=null),n(7,a.value="",a)}console.log("Recording",d),n(10,h=0),n(9,f="")}function v(e){const t=window.getSelection().toString();if(""===t.trim())return alert("Please highlight text in the transcript with your mouse to add as feedback."),"Error: No text highlighted";if(t){let s={quote:t,type:e,done:!1,speaker:null,dialogue_id:null},o=function(e,t){console.log(t);for(let n=0;n<e.length;n++){let s=e[n],o=s.dialogue;if(s.speaker&&(o=s.speaker+": "+o),o.includes(t))return s}return null}(d.transcript_list,t);return o?(s.id=u.length+1,s.dialogue_id=o.id,s.speaker=o.speaker,s.excerpt_reference=o,s.chatbot_messages=[{role:"system",content:"You are an expert senior interior designer who is tasked to assist less experienced interior designers like students and junior interior designers with their work by answering their questions on a wide range of interior design topics. "}],u.push(s),n(1,u),n(0,d),y([s]),s):(console.log("Error: Corresponding transcript excerpt not found"),alert("Error: Corresponding transcript excerpt not found. Feedback not added."),"Error: Corresponding transcript excerpt not found for selection: "+t)}return alert("Please highlight text in the transcript with your mouse to add as feedback."),"Error: No text highlighted"}function w(){const e=window.getSelection().toString();if(""===e.trim())return alert("Please highlight the feedback you want to remove using your mouse."),"Error: No text highlighted";if(e)for(let t=0;t<u.length;t++){let s=u[t];if(s.quote.includes(e)){let e=parseInt(s.dialogue_id),o=s.quote;return u.splice(t,1),n(1,u),x(e,o),s}}return"Error: Feedback not found for selection: "+e}function $(){for(let e=0;e<u.length;e++){let t=u[e];x(parseInt(t.dialogue_id),t.quote),u.splice(e,1),n(1,u)}}function x(e,t){for(let s=0;s<d.transcript_list.length;s++){let o=d.transcript_list[s];if(o.id===e){let e=o.dialogue,s=e.indexOf("<mark"),i=e.indexOf("</mark>")+7,r=e.slice(0,s)+t+e.slice(i);o.dialogue=r,o.dialogue=o.dialogue,n(0,d);break}}}function y(e){for(let t=0;t<e.length;t++){let n=e[t],s=n.type;if("positive"!=n.type&&"critical"!=n.type)continue;let o,i=parseInt(n.dialogue_id);for(let e=0;e<d.transcript_list.length;e++){let t=d.transcript_list[e];if(t.id===i){o=t;break}}if(!o){console.log("Error: Corresponding transcript excerpt not found");continue}let r=o.dialogue,l=r.indexOf(n.quote),c=l+n.quote.length,a=r.slice(0,l)+`<mark class="${s}" style="background-color:${"positive"===s?"lightgreen":"lightcoral"};">${n.quote}</mark>`+r.slice(c);o.dialogue=a}n(0,d)}P((async()=>{console.log(d)}));return e.$$set=e=>{"recording"in e&&n(0,d=e.recording),"feedback_list"in e&&n(1,u=e.feedback_list)},[d,u,p,s,r,l,c,a,g,f,h,m,b,k,v,w,$,y,function(e){h=e,n(10,h)},function(e){f=e,n(9,f)},async()=>{p>0?n(2,p--,p):n(2,p=u.length-1),me(u[p]),await fe("FeedbackSelector: Traverse to previous feedback",u[p])},async()=>{p<u.length-1?n(2,p++,p):n(2,p=0),me(u[p]),await fe("FeedbackSelector: Traverse to next feedback",u[p])},async e=>{he(e.start_timestamp,s),await fe("FeedbackSelector: Seeked to start timestamp",e.start_timestamp)},async e=>{he(e.end_timestamp,s),await fe("FeedbackSelector: Seeked to end timestamp",e.end_timestamp)},function(){r=this.value,n(4,r)},function(e){D[e?"unshift":"push"]((()=>{l=e,n(5,l)}))},async e=>{n(4,r=e.target.files),console.log(r),await fe("FeedbackSelector: Select media file",r)},async()=>{n(8,g=!0),await b(),n(8,g=!1),await $e(d),await fe("FeedbackSelector: Upload media",d)},async()=>{window.confirm("This cannot be undone. Do you want to proceed?")&&(await m(),d.audio&&(n(0,d.audio=null,d),n(0,d.audio_path=null,d),n(0,d)),d.video&&(n(0,d.video=null,d),n(0,d.video_path=null,d),n(0,d)),await $e(d),await fe("FeedbackSelector: Remove media",d))},function(){c=this.value,n(6,c)},function(e){D[e?"unshift":"push"]((()=>{a=e,n(7,a)}))},async e=>{n(6,c=e.target.files),await fe("FeedbackSelector: Select transcript file",c)},async()=>{n(8,g=!0),await k(),n(8,g=!1),console.log(d),await fe("FeedbackSelector: Upload transcript",d)},async()=>{window.confirm("This cannot be undone. Do you want to proceed?")&&($(),n(1,u=[]),n(0,d.transcript_list=[],d),n(0,d.transcript="",d),n(0,d),await $e(d),await fe("FeedbackSelector: Remove transcript",d))},async()=>{if(u.length>0){if(!window.confirm("Auto-detecting again will clear all feedback highlighted. Do you want to proceed?"))return}n(8,g=!0),n(10,h=0);let e=d.transcript_list,t=Math.ceil(e.length/4),s=[e.slice(0,t),e.slice(t,2*t),e.slice(2*t,3*t),e.slice(3*t,e.length)];n(9,f="Detecting feedback in transcript ...");for(let e=0;e<s.length;e++){let t=await Ge(s[e]);n(1,u=u.concat(t)),n(10,h=20*(e+1)),await pe(250)}n(1,u),console.log(u);for(let e=0;e<u.length;e++){n(1,u[e].id=e+1,u);let t=u[e].dialogue_id,s=Ve(d.transcript_list,t);n(1,u[e].excerpt_reference=s,u)}n(1,u),n(9,f="Highlighting feedback ..."),y(u),await xe(u),await $e(d),await pe(500),n(10,h=100),console.log("Feedback: "+u[0]),n(8,g=!1),n(10,h=0),n(9,f=""),await fe("FeedbackSelector: Auto-detect feedback",u)},async()=>{let e=v("positive");await xe(u),await $e(d),await fe("FeedbackSelector: Add positive feedback",e)},async()=>{let e=v("critical");await xe(u),await $e(d),await fe("FeedbackSelector: Add critical feedback",e)},async()=>{let e=w();await xe(u),await $e(d),await fe("FeedbackSelector: Remove feedback",e)},async()=>{$(),await xe(u),await $e(d),await fe("FeedbackSelector: Removed all feedback",u)},function(e){D[e?"unshift":"push"]((()=>{s=e,n(3,s)}))},function(e){D[e?"unshift":"push"]((()=>{s=e,n(3,s)}))},function(e){D[e?"unshift":"push"]((()=>{s=e,n(3,s)}))}]}class tt extends ue{constructor(e){super(),de(this,e,et,He,r,{recording:0,feedback_list:1},null,[-1,-1,-1])}}function nt(t){let n,s,i,r,l,c,a;return{c(){n=w("div"),s=w("input"),i=x(),r=w("span"),l=$(t[0]),T(s,"type","range"),T(s,"min",t[1]),T(s,"max",t[2]),T(s,"step",t[3]),T(s,"id","rangeSlider"),T(s,"class","svelte-ohnqtn"),T(r,"id","sliderValue"),T(n,"class","centered spaced"),L(n,"width","100%"),L(n,"height","100%")},m(e,o){b(e,n,o),m(n,s),q(s,t[0]),m(n,i),m(n,r),m(r,l),c||(a=[_(s,"change",t[4]),_(s,"input",t[4])],c=!0)},p(e,[t]){2&t&&T(s,"min",e[1]),4&t&&T(s,"max",e[2]),8&t&&T(s,"step",e[3]),1&t&&q(s,e[0]),1&t&&z(l,e[0])},i:e,o:e,d(e){e&&k(n),c=!1,o(a)}}}function st(e,t,n){let{min:s=0}=t,{max:o=2}=t,{step:i=.1}=t,{value:r=1}=t;return e.$$set=e=>{"min"in e&&n(1,s=e.min),"max"in e&&n(2,o=e.max),"step"in e&&n(3,i=e.step),"value"in e&&n(0,r=e.value)},[r,s,o,i,function(){r=function(e){return""===e?null:+e}(this.value),n(0,r)}]}class ot extends ue{constructor(e){super(),de(this,e,st,nt,r,{min:1,max:2,step:3,value:0})}}function it(e,t,n){const s=e.slice();return s[18]=t[n],s}function rt(e,t,n){const s=e.slice();return s[18]=t[n],s}function lt(e,t,n){const s=e.slice();return s[10]=t[n],s}function ct(e,t,n){const s=e.slice();return s[13]=t[n],s[15]=n,s}function at(e,t,n){const s=e.slice();return s[16]=t[n],s[15]=n,s}function dt(e,t,n){const s=e.slice();return s[7]=t[n],s}function ut(e){let t,n,s,o;const i=[ht,ft,gt],r=[];function l(e,t){return"table"===e[0]?0:"list"===e[0]?1:2}return t=l(e),n=r[t]=i[t](e),{c(){n.c(),s=y()},m(e,n){r[t].m(e,n),b(e,s,n),o=!0},p(e,o){let c=t;t=l(e),t===c?r[t].p(e,o):(K(),ne(r[c],1,1,(()=>{r[c]=null})),ee(),n=r[t],n?n.p(e,o):(n=r[t]=i[t](e),n.c()),te(n,1),n.m(s.parentNode,s))},i(e){o||(te(n),o=!0)},o(e){ne(n),o=!1},d(e){r[t].d(e),e&&k(s)}}}function pt(e){let t,n,s=e[1],o=[];for(let t=0;t<s.length;t+=1)o[t]=Pt(dt(e,s,t));const i=e=>ne(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=y()},m(e,s){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,s);b(e,t,s),n=!0},p(e,n){if(34&n){let r;for(s=e[1],r=0;r<s.length;r+=1){const i=dt(e,s,r);o[r]?(o[r].p(i,n),te(o[r],1)):(o[r]=Pt(i),o[r].c(),te(o[r],1),o[r].m(t.parentNode,t))}for(K(),r=s.length;r<o.length;r+=1)i(r);ee()}},i(e){if(!n){for(let e=0;e<s.length;e+=1)te(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)ne(o[e]);n=!1},d(e){v(o,e),e&&k(t)}}}function gt(e){let n,s,o;const i=[e[6]];var r=e[5][e[0]];function l(e){let n={$$slots:{default:[kt]},$$scope:{ctx:e}};for(let e=0;e<i.length;e+=1)n=t(n,i[e]);return{props:n}}return r&&(n=A(r,l(e))),{c(){n&&re(n.$$.fragment),s=y()},m(e,t){n&&le(n,e,t),b(e,s,t),o=!0},p(e,t){const o=64&t?se(i,[oe(e[6])]):{};if(8388706&t&&(o.$$scope={dirty:t,ctx:e}),33&t&&r!==(r=e[5][e[0]])){if(n){K();const e=n;ne(e.$$.fragment,1,0,(()=>{ce(e,1)})),ee()}r?(n=A(r,l(e)),re(n.$$.fragment),te(n.$$.fragment,1),le(n,s.parentNode,s)):n=null}else r&&n.$set(o)},i(e){o||(n&&te(n.$$.fragment,e),o=!0)},o(e){n&&ne(n.$$.fragment,e),o=!1},d(e){e&&k(s),n&&ce(n,e)}}}function ft(e){let t,n,s,o;const i=[wt,vt],r=[];function l(e,t){return e[4]?0:1}return t=l(e),n=r[t]=i[t](e),{c(){n.c(),s=y()},m(e,n){r[t].m(e,n),b(e,s,n),o=!0},p(e,o){let c=t;t=l(e),t===c?r[t].p(e,o):(K(),ne(r[c],1,1,(()=>{r[c]=null})),ee(),n=r[t],n?n.p(e,o):(n=r[t]=i[t](e),n.c()),te(n,1),n.m(s.parentNode,s))},i(e){o||(te(n),o=!0)},o(e){ne(n),o=!1},d(e){r[t].d(e),e&&k(s)}}}function ht(e){let t,n,s;var o=e[5].table;function i(e){return{props:{$$slots:{default:[Ot]},$$scope:{ctx:e}}}}return o&&(t=A(o,i(e))),{c(){t&&re(t.$$.fragment),n=y()},m(e,o){t&&le(t,e,o),b(e,n,o),s=!0},p(e,s){const r={};if(8388716&s&&(r.$$scope={dirty:s,ctx:e}),32&s&&o!==(o=e[5].table)){if(t){K();const e=t;ne(e.$$.fragment,1,0,(()=>{ce(e,1)})),ee()}o?(t=A(o,i(e)),re(t.$$.fragment),te(t.$$.fragment,1),le(t,n.parentNode,n)):t=null}else o&&t.$set(r)},i(e){s||(t&&te(t.$$.fragment,e),s=!0)},o(e){t&&ne(t.$$.fragment,e),s=!1},d(e){e&&k(n),t&&ce(t,e)}}}function mt(t){let n,s=t[6].raw+"";return{c(){n=$(s)},m(e,t){b(e,n,t)},p(e,t){64&t&&s!==(s=e[6].raw+"")&&z(n,s)},i:e,o:e,d(e){e&&k(n)}}}function bt(e){let t,n;return t=new Dt({props:{tokens:e[1],renderers:e[5]}}),{c(){re(t.$$.fragment)},m(e,s){le(t,e,s),n=!0},p(e,n){const s={};2&n&&(s.tokens=e[1]),32&n&&(s.renderers=e[5]),t.$set(s)},i(e){n||(te(t.$$.fragment,e),n=!0)},o(e){ne(t.$$.fragment,e),n=!1},d(e){ce(t,e)}}}function kt(e){let t,n,s,o;const i=[bt,mt],r=[];function l(e,t){return e[1]?0:1}return t=l(e),n=r[t]=i[t](e),{c(){n.c(),s=y()},m(e,n){r[t].m(e,n),b(e,s,n),o=!0},p(e,o){let c=t;t=l(e),t===c?r[t].p(e,o):(K(),ne(r[c],1,1,(()=>{r[c]=null})),ee(),n=r[t],n?n.p(e,o):(n=r[t]=i[t](e),n.c()),te(n,1),n.m(s.parentNode,s))},i(e){o||(te(n),o=!0)},o(e){ne(n),o=!1},d(e){r[t].d(e),e&&k(s)}}}function vt(e){let n,s,o;const i=[{ordered:e[4]},e[6]];var r=e[5].list;function l(e){let n={$$slots:{default:[yt]},$$scope:{ctx:e}};for(let e=0;e<i.length;e+=1)n=t(n,i[e]);return{props:n}}return r&&(n=A(r,l(e))),{c(){n&&re(n.$$.fragment),s=y()},m(e,t){n&&le(n,e,t),b(e,s,t),o=!0},p(e,t){const o=80&t?se(i,[16&t&&{ordered:e[4]},64&t&&oe(e[6])]):{};if(8388704&t&&(o.$$scope={dirty:t,ctx:e}),32&t&&r!==(r=e[5].list)){if(n){K();const e=n;ne(e.$$.fragment,1,0,(()=>{ce(e,1)})),ee()}r?(n=A(r,l(e)),re(n.$$.fragment),te(n.$$.fragment,1),le(n,s.parentNode,s)):n=null}else r&&n.$set(o)},i(e){o||(n&&te(n.$$.fragment,e),o=!0)},o(e){n&&ne(n.$$.fragment,e),o=!1},d(e){e&&k(s),n&&ce(n,e)}}}function wt(e){let n,s,o;const i=[{ordered:e[4]},e[6]];var r=e[5].list;function l(e){let n={$$slots:{default:[Tt]},$$scope:{ctx:e}};for(let e=0;e<i.length;e+=1)n=t(n,i[e]);return{props:n}}return r&&(n=A(r,l(e))),{c(){n&&re(n.$$.fragment),s=y()},m(e,t){n&&le(n,e,t),b(e,s,t),o=!0},p(e,t){const o=80&t?se(i,[16&t&&{ordered:e[4]},64&t&&oe(e[6])]):{};if(8388704&t&&(o.$$scope={dirty:t,ctx:e}),32&t&&r!==(r=e[5].list)){if(n){K();const e=n;ne(e.$$.fragment,1,0,(()=>{ce(e,1)})),ee()}r?(n=A(r,l(e)),re(n.$$.fragment),te(n.$$.fragment,1),le(n,s.parentNode,s)):n=null}else r&&n.$set(o)},i(e){o||(n&&te(n.$$.fragment,e),o=!0)},o(e){n&&ne(n.$$.fragment,e),o=!1},d(e){e&&k(s),n&&ce(n,e)}}}function $t(e){let t,n,s;return t=new Dt({props:{tokens:e[18].tokens,renderers:e[5]}}),{c(){re(t.$$.fragment),n=x()},m(e,o){le(t,e,o),b(e,n,o),s=!0},p(e,n){const s={};64&n&&(s.tokens=e[18].tokens),32&n&&(s.renderers=e[5]),t.$set(s)},i(e){s||(te(t.$$.fragment,e),s=!0)},o(e){ne(t.$$.fragment,e),s=!1},d(e){ce(t,e),e&&k(n)}}}function xt(e){let n,s,o;const i=[e[18]];var r=e[5].unorderedlistitem||e[5].listitem;function l(e){let n={$$slots:{default:[$t]},$$scope:{ctx:e}};for(let e=0;e<i.length;e+=1)n=t(n,i[e]);return{props:n}}return r&&(n=A(r,l(e))),{c(){n&&re(n.$$.fragment),s=y()},m(e,t){n&&le(n,e,t),b(e,s,t),o=!0},p(e,t){const o=64&t?se(i,[oe(e[18])]):{};if(8388704&t&&(o.$$scope={dirty:t,ctx:e}),32&t&&r!==(r=e[5].unorderedlistitem||e[5].listitem)){if(n){K();const e=n;ne(e.$$.fragment,1,0,(()=>{ce(e,1)})),ee()}r?(n=A(r,l(e)),re(n.$$.fragment),te(n.$$.fragment,1),le(n,s.parentNode,s)):n=null}else r&&n.$set(o)},i(e){o||(n&&te(n.$$.fragment,e),o=!0)},o(e){n&&ne(n.$$.fragment,e),o=!1},d(e){e&&k(s),n&&ce(n,e)}}}function yt(e){let t,n,s=e[6].items,o=[];for(let t=0;t<s.length;t+=1)o[t]=xt(it(e,s,t));const i=e=>ne(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=y()},m(e,s){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,s);b(e,t,s),n=!0},p(e,n){if(96&n){let r;for(s=e[6].items,r=0;r<s.length;r+=1){const i=it(e,s,r);o[r]?(o[r].p(i,n),te(o[r],1)):(o[r]=xt(i),o[r].c(),te(o[r],1),o[r].m(t.parentNode,t))}for(K(),r=s.length;r<o.length;r+=1)i(r);ee()}},i(e){if(!n){for(let e=0;e<s.length;e+=1)te(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)ne(o[e]);n=!1},d(e){v(o,e),e&&k(t)}}}function _t(e){let t,n,s;return t=new Dt({props:{tokens:e[18].tokens,renderers:e[5]}}),{c(){re(t.$$.fragment),n=x()},m(e,o){le(t,e,o),b(e,n,o),s=!0},p(e,n){const s={};64&n&&(s.tokens=e[18].tokens),32&n&&(s.renderers=e[5]),t.$set(s)},i(e){s||(te(t.$$.fragment,e),s=!0)},o(e){ne(t.$$.fragment,e),s=!1},d(e){ce(t,e),e&&k(n)}}}function St(e){let n,s,o;const i=[e[18]];var r=e[5].orderedlistitem||e[5].listitem;function l(e){let n={$$slots:{default:[_t]},$$scope:{ctx:e}};for(let e=0;e<i.length;e+=1)n=t(n,i[e]);return{props:n}}return r&&(n=A(r,l(e))),{c(){n&&re(n.$$.fragment),s=y()},m(e,t){n&&le(n,e,t),b(e,s,t),o=!0},p(e,t){const o=64&t?se(i,[oe(e[18])]):{};if(8388704&t&&(o.$$scope={dirty:t,ctx:e}),32&t&&r!==(r=e[5].orderedlistitem||e[5].listitem)){if(n){K();const e=n;ne(e.$$.fragment,1,0,(()=>{ce(e,1)})),ee()}r?(n=A(r,l(e)),re(n.$$.fragment),te(n.$$.fragment,1),le(n,s.parentNode,s)):n=null}else r&&n.$set(o)},i(e){o||(n&&te(n.$$.fragment,e),o=!0)},o(e){n&&ne(n.$$.fragment,e),o=!1},d(e){e&&k(s),n&&ce(n,e)}}}function Tt(e){let t,n,s=e[6].items,o=[];for(let t=0;t<s.length;t+=1)o[t]=St(rt(e,s,t));const i=e=>ne(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=y()},m(e,s){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,s);b(e,t,s),n=!0},p(e,n){if(96&n){let r;for(s=e[6].items,r=0;r<s.length;r+=1){const i=rt(e,s,r);o[r]?(o[r].p(i,n),te(o[r],1)):(o[r]=St(i),o[r].c(),te(o[r],1),o[r].m(t.parentNode,t))}for(K(),r=s.length;r<o.length;r+=1)i(r);ee()}},i(e){if(!n){for(let e=0;e<s.length;e+=1)te(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)ne(o[e]);n=!1},d(e){v(o,e),e&&k(t)}}}function zt(e){let t,n,s;return t=new Dt({props:{tokens:e[16].tokens,renderers:e[5]}}),{c(){re(t.$$.fragment),n=x()},m(e,o){le(t,e,o),b(e,n,o),s=!0},p(e,n){const s={};4&n&&(s.tokens=e[16].tokens),32&n&&(s.renderers=e[5]),t.$set(s)},i(e){s||(te(t.$$.fragment,e),s=!0)},o(e){ne(t.$$.fragment,e),s=!1},d(e){ce(t,e),e&&k(n)}}}function qt(e){let t,n,s;var o=e[5].tablecell;function i(e){return{props:{header:!0,align:e[6].align[e[15]]||"center",$$slots:{default:[zt]},$$scope:{ctx:e}}}}return o&&(t=A(o,i(e))),{c(){t&&re(t.$$.fragment),n=y()},m(e,o){t&&le(t,e,o),b(e,n,o),s=!0},p(e,s){const r={};if(64&s&&(r.align=e[6].align[e[15]]||"center"),8388644&s&&(r.$$scope={dirty:s,ctx:e}),32&s&&o!==(o=e[5].tablecell)){if(t){K();const e=t;ne(e.$$.fragment,1,0,(()=>{ce(e,1)})),ee()}o?(t=A(o,i(e)),re(t.$$.fragment),te(t.$$.fragment,1),le(t,n.parentNode,n)):t=null}else o&&t.$set(r)},i(e){s||(t&&te(t.$$.fragment,e),s=!0)},o(e){t&&ne(t.$$.fragment,e),s=!1},d(e){e&&k(n),t&&ce(t,e)}}}function Lt(e){let t,n,s=e[2],o=[];for(let t=0;t<s.length;t+=1)o[t]=qt(at(e,s,t));const i=e=>ne(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=y()},m(e,s){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,s);b(e,t,s),n=!0},p(e,n){if(100&n){let r;for(s=e[2],r=0;r<s.length;r+=1){const i=at(e,s,r);o[r]?(o[r].p(i,n),te(o[r],1)):(o[r]=qt(i),o[r].c(),te(o[r],1),o[r].m(t.parentNode,t))}for(K(),r=s.length;r<o.length;r+=1)i(r);ee()}},i(e){if(!n){for(let e=0;e<s.length;e+=1)te(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)ne(o[e]);n=!1},d(e){v(o,e),e&&k(t)}}}function Ft(e){let t,n,s;var o=e[5].tablerow;function i(e){return{props:{$$slots:{default:[Lt]},$$scope:{ctx:e}}}}return o&&(t=A(o,i(e))),{c(){t&&re(t.$$.fragment),n=y()},m(e,o){t&&le(t,e,o),b(e,n,o),s=!0},p(e,s){const r={};if(8388708&s&&(r.$$scope={dirty:s,ctx:e}),32&s&&o!==(o=e[5].tablerow)){if(t){K();const e=t;ne(e.$$.fragment,1,0,(()=>{ce(e,1)})),ee()}o?(t=A(o,i(e)),re(t.$$.fragment),te(t.$$.fragment,1),le(t,n.parentNode,n)):t=null}else o&&t.$set(r)},i(e){s||(t&&te(t.$$.fragment,e),s=!0)},o(e){t&&ne(t.$$.fragment,e),s=!1},d(e){e&&k(n),t&&ce(t,e)}}}function Nt(e){let t,n;return t=new Dt({props:{tokens:e[13].tokens,renderers:e[5]}}),{c(){re(t.$$.fragment)},m(e,s){le(t,e,s),n=!0},p(e,n){const s={};8&n&&(s.tokens=e[13].tokens),32&n&&(s.renderers=e[5]),t.$set(s)},i(e){n||(te(t.$$.fragment,e),n=!0)},o(e){ne(t.$$.fragment,e),n=!1},d(e){ce(t,e)}}}function Ct(e){let t,n,s;var o=e[5].tablecell;function i(e){return{props:{header:!1,align:e[6].align[e[15]]||"center",$$slots:{default:[Nt]},$$scope:{ctx:e}}}}return o&&(t=A(o,i(e))),{c(){t&&re(t.$$.fragment),n=y()},m(e,o){t&&le(t,e,o),b(e,n,o),s=!0},p(e,s){const r={};if(64&s&&(r.align=e[6].align[e[15]]||"center"),8388648&s&&(r.$$scope={dirty:s,ctx:e}),32&s&&o!==(o=e[5].tablecell)){if(t){K();const e=t;ne(e.$$.fragment,1,0,(()=>{ce(e,1)})),ee()}o?(t=A(o,i(e)),re(t.$$.fragment),te(t.$$.fragment,1),le(t,n.parentNode,n)):t=null}else o&&t.$set(r)},i(e){s||(t&&te(t.$$.fragment,e),s=!0)},o(e){t&&ne(t.$$.fragment,e),s=!1},d(e){e&&k(n),t&&ce(t,e)}}}function Rt(e){let t,n,s=e[10],o=[];for(let t=0;t<s.length;t+=1)o[t]=Ct(ct(e,s,t));const i=e=>ne(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=x()},m(e,s){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,s);b(e,t,s),n=!0},p(e,n){if(104&n){let r;for(s=e[10],r=0;r<s.length;r+=1){const i=ct(e,s,r);o[r]?(o[r].p(i,n),te(o[r],1)):(o[r]=Ct(i),o[r].c(),te(o[r],1),o[r].m(t.parentNode,t))}for(K(),r=s.length;r<o.length;r+=1)i(r);ee()}},i(e){if(!n){for(let e=0;e<s.length;e+=1)te(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)ne(o[e]);n=!1},d(e){v(o,e),e&&k(t)}}}function At(e){let t,n,s;var o=e[5].tablerow;function i(e){return{props:{$$slots:{default:[Rt]},$$scope:{ctx:e}}}}return o&&(t=A(o,i(e))),{c(){t&&re(t.$$.fragment),n=y()},m(e,o){t&&le(t,e,o),b(e,n,o),s=!0},p(e,s){const r={};if(8388712&s&&(r.$$scope={dirty:s,ctx:e}),32&s&&o!==(o=e[5].tablerow)){if(t){K();const e=t;ne(e.$$.fragment,1,0,(()=>{ce(e,1)})),ee()}o?(t=A(o,i(e)),re(t.$$.fragment),te(t.$$.fragment,1),le(t,n.parentNode,n)):t=null}else o&&t.$set(r)},i(e){s||(t&&te(t.$$.fragment,e),s=!0)},o(e){t&&ne(t.$$.fragment,e),s=!1},d(e){e&&k(n),t&&ce(t,e)}}}function Et(e){let t,n,s=e[3],o=[];for(let t=0;t<s.length;t+=1)o[t]=At(lt(e,s,t));const i=e=>ne(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=y()},m(e,s){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,s);b(e,t,s),n=!0},p(e,n){if(104&n){let r;for(s=e[3],r=0;r<s.length;r+=1){const i=lt(e,s,r);o[r]?(o[r].p(i,n),te(o[r],1)):(o[r]=At(i),o[r].c(),te(o[r],1),o[r].m(t.parentNode,t))}for(K(),r=s.length;r<o.length;r+=1)i(r);ee()}},i(e){if(!n){for(let e=0;e<s.length;e+=1)te(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)ne(o[e]);n=!1},d(e){v(o,e),e&&k(t)}}}function Ot(e){let t,n,s,o,i;var r=e[5].tablehead;function l(e){return{props:{$$slots:{default:[Ft]},$$scope:{ctx:e}}}}r&&(t=A(r,l(e)));var c=e[5].tablebody;function a(e){return{props:{$$slots:{default:[Et]},$$scope:{ctx:e}}}}return c&&(s=A(c,a(e))),{c(){t&&re(t.$$.fragment),n=x(),s&&re(s.$$.fragment),o=y()},m(e,r){t&&le(t,e,r),b(e,n,r),s&&le(s,e,r),b(e,o,r),i=!0},p(e,i){const d={};if(8388708&i&&(d.$$scope={dirty:i,ctx:e}),32&i&&r!==(r=e[5].tablehead)){if(t){K();const e=t;ne(e.$$.fragment,1,0,(()=>{ce(e,1)})),ee()}r?(t=A(r,l(e)),re(t.$$.fragment),te(t.$$.fragment,1),le(t,n.parentNode,n)):t=null}else r&&t.$set(d);const u={};if(8388712&i&&(u.$$scope={dirty:i,ctx:e}),32&i&&c!==(c=e[5].tablebody)){if(s){K();const e=s;ne(e.$$.fragment,1,0,(()=>{ce(e,1)})),ee()}c?(s=A(c,a(e)),re(s.$$.fragment),te(s.$$.fragment,1),le(s,o.parentNode,o)):s=null}else c&&s.$set(u)},i(e){i||(t&&te(t.$$.fragment,e),s&&te(s.$$.fragment,e),i=!0)},o(e){t&&ne(t.$$.fragment,e),s&&ne(s.$$.fragment,e),i=!1},d(e){t&&ce(t,e),e&&k(n),e&&k(o),s&&ce(s,e)}}}function Pt(e){let n,s;const o=[e[7],{renderers:e[5]}];let i={};for(let e=0;e<o.length;e+=1)i=t(i,o[e]);return n=new Dt({props:i}),{c(){re(n.$$.fragment)},m(e,t){le(n,e,t),s=!0},p(e,t){const s=34&t?se(o,[2&t&&oe(e[7]),32&t&&{renderers:e[5]}]):{};n.$set(s)},i(e){s||(te(n.$$.fragment,e),s=!0)},o(e){ne(n.$$.fragment,e),s=!1},d(e){ce(n,e)}}}function jt(e){let t,n,s,o;const i=[pt,ut],r=[];function l(e,t){return e[0]?e[5][e[0]]?1:-1:0}return~(t=l(e))&&(n=r[t]=i[t](e)),{c(){n&&n.c(),s=y()},m(e,n){~t&&r[t].m(e,n),b(e,s,n),o=!0},p(e,[o]){let c=t;t=l(e),t===c?~t&&r[t].p(e,o):(n&&(K(),ne(r[c],1,1,(()=>{r[c]=null})),ee()),~t?(n=r[t],n?n.p(e,o):(n=r[t]=i[t](e),n.c()),te(n,1),n.m(s.parentNode,s)):n=null)},i(e){o||(te(n),o=!0)},o(e){ne(n),o=!1},d(e){~t&&r[t].d(e),e&&k(s)}}}function Mt(e,n,s){const o=["type","tokens","header","rows","ordered","renderers"];let i=h(n,o),{type:r}=n,{tokens:l}=n,{header:c}=n,{rows:a}=n,{ordered:d=!1}=n,{renderers:u}=n;return function(){const e=console.warn;console.warn=t=>{t.includes("unknown prop")||t.includes("unexpected slot")||e(t)},P((()=>{console.warn=e}))}(),e.$$set=e=>{n=t(t({},n),function(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}(e)),s(6,i=h(n,o)),"type"in e&&s(0,r=e.type),"tokens"in e&&s(1,l=e.tokens),"header"in e&&s(2,c=e.header),"rows"in e&&s(3,a=e.rows),"ordered"in e&&s(4,d=e.ordered),"renderers"in e&&s(5,u=e.renderers)},[r,l,c,a,d,u,i]}let Dt=class extends ue{constructor(e){super(),de(this,e,Mt,jt,r,{type:0,tokens:1,header:2,rows:3,ordered:4,renderers:5})}};function It(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let Ht={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const Ut=/[&<>"']/,Bt=new RegExp(Ut.source,"g"),Zt=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Jt=new RegExp(Zt.source,"g"),Qt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Gt=e=>Qt[e];function Vt(e,t){if(t){if(Ut.test(e))return e.replace(Bt,Gt)}else if(Zt.test(e))return e.replace(Jt,Gt);return e}const Xt=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function Yt(e){return e.replace(Xt,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const Wt=/(^|[^\[])\^/g;function Kt(e,t){e="string"==typeof e?e:e.source,t=t||"";const n={replace:(t,s)=>(s=(s=s.source||s).replace(Wt,"$1"),e=e.replace(t,s),n),getRegex:()=>new RegExp(e,t)};return n}const en=/[^\w:]/g,tn=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function nn(e,t,n){if(e){let e;try{e=decodeURIComponent(Yt(n)).replace(en,"").toLowerCase()}catch(e){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!tn.test(n)&&(n=function(e,t){sn[" "+e]||(on.test(e)?sn[" "+e]=e+"/":sn[" "+e]=dn(e,"/",!0));e=sn[" "+e];const n=-1===e.indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(rn,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(ln,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}const sn={},on=/^[^:]+:\/*[^/]*$/,rn=/^([^:]+:)[\s\S]*$/,ln=/^([^:]+:\/*[^/]*)[\s\S]*$/;const cn={exec:function(){}};function an(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let s=!1,o=t;for(;--o>=0&&"\\"===n[o];)s=!s;return s?"|":" |"})).split(/ \|/);let s=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;s<n.length;s++)n[s]=n[s].trim().replace(/\\\|/g,"|");return n}function dn(e,t,n){const s=e.length;if(0===s)return"";let o=0;for(;o<s;){const i=e.charAt(s-o-1);if(i!==t||n){if(i===t||!n)break;o++}else o++}return e.slice(0,s-o)}function un(e,t){if(t<1)return"";let n="";for(;t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}function pn(e,t,n,s){const o=t.href,i=t.title?Vt(t.title):null,r=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){s.state.inLink=!0;const e={type:"link",raw:n,href:o,title:i,text:r,tokens:s.inlineTokens(r)};return s.state.inLink=!1,e}return{type:"image",raw:n,href:o,title:i,text:Vt(r)}}class gn{constructor(e){this.options=e||Ht}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:dn(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const s=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=s.length?e.slice(s.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=dn(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=t[0].replace(/^ *>[ \t]?/gm,""),n=this.lexer.state.top;this.lexer.state.top=!0;const s=this.lexer.blockTokens(e);return this.lexer.state.top=n,{type:"blockquote",raw:t[0],tokens:s,text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,s,o,i,r,l,c,a,d,u,p,g,f=t[1].trim();const h=f.length>1,m={type:"list",raw:"",ordered:h,start:h?+f.slice(0,-1):"",loose:!1,items:[]};f=h?`\\d{1,9}\\${f.slice(-1)}`:`\\${f}`,this.options.pedantic&&(f=h?f:"[*+-]");const b=new RegExp(`^( {0,3}${f})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;e&&(g=!1,t=b.exec(e))&&!this.rules.block.hr.test(e);){if(n=t[0],e=e.substring(n.length),a=t[2].split("\n",1)[0].replace(/^\t+/,(e=>" ".repeat(3*e.length))),d=e.split("\n",1)[0],this.options.pedantic?(i=2,p=a.trimLeft()):(i=t[2].search(/[^ ]/),i=i>4?1:i,p=a.slice(i),i+=t[1].length),l=!1,!a&&/^ *$/.test(d)&&(n+=d+"\n",e=e.substring(d.length+1),g=!0),!g){const t=new RegExp(`^ {0,${Math.min(3,i-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),s=new RegExp(`^ {0,${Math.min(3,i-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),o=new RegExp(`^ {0,${Math.min(3,i-1)}}(?:\`\`\`|~~~)`),r=new RegExp(`^ {0,${Math.min(3,i-1)}}#`);for(;e&&(u=e.split("\n",1)[0],d=u,this.options.pedantic&&(d=d.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!o.test(d))&&!r.test(d)&&!t.test(d)&&!s.test(e);){if(d.search(/[^ ]/)>=i||!d.trim())p+="\n"+d.slice(i);else{if(l)break;if(a.search(/[^ ]/)>=4)break;if(o.test(a))break;if(r.test(a))break;if(s.test(a))break;p+="\n"+d}l||d.trim()||(l=!0),n+=u+"\n",e=e.substring(u.length+1),a=d.slice(i)}}m.loose||(c?m.loose=!0:/\n *\n *$/.test(n)&&(c=!0)),this.options.gfm&&(s=/^\[[ xX]\] /.exec(p),s&&(o="[ ] "!==s[0],p=p.replace(/^\[[ xX]\] +/,""))),m.items.push({type:"list_item",raw:n,task:!!s,checked:o,loose:!1,text:p}),m.raw+=n}m.items[m.items.length-1].raw=n.trimRight(),m.items[m.items.length-1].text=p.trimRight(),m.raw=m.raw.trimRight();const k=m.items.length;for(r=0;r<k;r++)if(this.lexer.state.top=!1,m.items[r].tokens=this.lexer.blockTokens(m.items[r].text,[]),!m.loose){const e=m.items[r].tokens.filter((e=>"space"===e.type)),t=e.length>0&&e.some((e=>/\n.*\n/.test(e.raw)));m.loose=t}if(m.loose)for(r=0;r<k;r++)m.items[r].loose=!0;return m}}html(e){const t=this.rules.block.html.exec(e);if(t){const e={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){const n=this.options.sanitizer?this.options.sanitizer(t[0]):Vt(t[0]);e.type="paragraph",e.text=n,e.tokens=this.lexer.inline(n)}return e}}def(e){const t=this.rules.block.def.exec(e);if(t){const e=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",s=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:s}}}table(e){const t=this.rules.block.table.exec(e);if(t){const e={type:"table",header:an(t[1]).map((e=>({text:e}))),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(e.header.length===e.align.length){e.raw=t[0];let n,s,o,i,r=e.align.length;for(n=0;n<r;n++)/^ *-+: *$/.test(e.align[n])?e.align[n]="right":/^ *:-+: *$/.test(e.align[n])?e.align[n]="center":/^ *:-+ *$/.test(e.align[n])?e.align[n]="left":e.align[n]=null;for(r=e.rows.length,n=0;n<r;n++)e.rows[n]=an(e.rows[n],e.header.length).map((e=>({text:e})));for(r=e.header.length,s=0;s<r;s++)e.header[s].tokens=this.lexer.inline(e.header[s].text);for(r=e.rows.length,s=0;s<r;s++)for(i=e.rows[s],o=0;o<i.length;o++)i[o].tokens=this.lexer.inline(i[o].text);return e}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Vt(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):Vt(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=dn(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;const n=e.length;let s=0,o=0;for(;o<n;o++)if("\\"===e[o])o++;else if(e[o]===t[0])s++;else if(e[o]===t[1]&&(s--,s<0))return o;return-1}(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],s="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],s=e[3])}else s=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),pn(t,{href:n?n.replace(this.rules.inline._escapes,"$1"):n,title:s?s.replace(this.rules.inline._escapes,"$1"):s},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\s+/g," ");if(e=t[e.toLowerCase()],!e){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return pn(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let s=this.rules.inline.emStrong.lDelim.exec(e);if(!s)return;if(s[3]&&n.match(/[\p{L}\p{N}]/u))return;const o=s[1]||s[2]||"";if(!o||o&&(""===n||this.rules.inline.punctuation.exec(n))){const n=s[0].length-1;let o,i,r=n,l=0;const c="*"===s[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(c.lastIndex=0,t=t.slice(-1*e.length+n);null!=(s=c.exec(t));){if(o=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!o)continue;if(i=o.length,s[3]||s[4]){r+=i;continue}if((s[5]||s[6])&&n%3&&!((n+i)%3)){l+=i;continue}if(r-=i,r>0)continue;i=Math.min(i,i+r+l);const t=e.slice(0,n+s.index+(s[0].length-o.length)+i);if(Math.min(n,i)%2){const e=t.slice(1,-1);return{type:"em",raw:t,text:e,tokens:this.lexer.inlineTokens(e)}}const c=t.slice(2,-2);return{type:"strong",raw:t,text:c,tokens:this.lexer.inlineTokens(c)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),s=/^ /.test(e)&&/ $/.test(e);return n&&s&&(e=e.substring(1,e.length-1)),e=Vt(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let e,s;return"@"===n[2]?(e=Vt(this.options.mangle?t(n[1]):n[1]),s="mailto:"+e):(e=Vt(n[1]),s=e),{type:"link",raw:n[0],text:e,href:s,tokens:[{type:"text",raw:e,text:e}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let e,s;if("@"===n[2])e=Vt(this.options.mangle?t(n[0]):n[0]),s="mailto:"+e;else{let t;do{t=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(t!==n[0]);e=Vt(n[0]),s="www."===n[1]?"http://"+n[0]:n[0]}return{type:"link",raw:n[0],text:e,href:s,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let e;return e=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):Vt(n[0]):n[0]:Vt(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:e}}}}const fn={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:cn,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};fn.def=Kt(fn.def).replace("label",fn._label).replace("title",fn._title).getRegex(),fn.bullet=/(?:[*+-]|\d{1,9}[.)])/,fn.listItemStart=Kt(/^( *)(bull) */).replace("bull",fn.bullet).getRegex(),fn.list=Kt(fn.list).replace(/bull/g,fn.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+fn.def.source+")").getRegex(),fn._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",fn._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,fn.html=Kt(fn.html,"i").replace("comment",fn._comment).replace("tag",fn._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),fn.paragraph=Kt(fn._paragraph).replace("hr",fn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",fn._tag).getRegex(),fn.blockquote=Kt(fn.blockquote).replace("paragraph",fn.paragraph).getRegex(),fn.normal={...fn},fn.gfm={...fn.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},fn.gfm.table=Kt(fn.gfm.table).replace("hr",fn.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",fn._tag).getRegex(),fn.gfm.paragraph=Kt(fn._paragraph).replace("hr",fn.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",fn.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",fn._tag).getRegex(),fn.pedantic={...fn.normal,html:Kt("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",fn._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:cn,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Kt(fn.normal._paragraph).replace("hr",fn.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",fn.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const hn={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:cn,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:cn,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function mn(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function bn(e){let t,n,s="";const o=e.length;for(t=0;t<o;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),s+="&#"+n+";";return s}hn._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",hn.punctuation=Kt(hn.punctuation).replace(/punctuation/g,hn._punctuation).getRegex(),hn.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,hn.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,hn._comment=Kt(fn._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),hn.emStrong.lDelim=Kt(hn.emStrong.lDelim).replace(/punct/g,hn._punctuation).getRegex(),hn.emStrong.rDelimAst=Kt(hn.emStrong.rDelimAst,"g").replace(/punct/g,hn._punctuation).getRegex(),hn.emStrong.rDelimUnd=Kt(hn.emStrong.rDelimUnd,"g").replace(/punct/g,hn._punctuation).getRegex(),hn._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,hn._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,hn._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,hn.autolink=Kt(hn.autolink).replace("scheme",hn._scheme).replace("email",hn._email).getRegex(),hn._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,hn.tag=Kt(hn.tag).replace("comment",hn._comment).replace("attribute",hn._attribute).getRegex(),hn._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,hn._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,hn._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,hn.link=Kt(hn.link).replace("label",hn._label).replace("href",hn._href).replace("title",hn._title).getRegex(),hn.reflink=Kt(hn.reflink).replace("label",hn._label).replace("ref",fn._label).getRegex(),hn.nolink=Kt(hn.nolink).replace("ref",fn._label).getRegex(),hn.reflinkSearch=Kt(hn.reflinkSearch,"g").replace("reflink",hn.reflink).replace("nolink",hn.nolink).getRegex(),hn.normal={...hn},hn.pedantic={...hn.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Kt(/^!?\[(label)\]\((.*?)\)/).replace("label",hn._label).getRegex(),reflink:Kt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",hn._label).getRegex()},hn.gfm={...hn.normal,escape:Kt(hn.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},hn.gfm.url=Kt(hn.gfm.url,"i").replace("email",hn.gfm._extended_email).getRegex(),hn.breaks={...hn.gfm,br:Kt(hn.br).replace("{2,}","*").getRegex(),text:Kt(hn.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class kn{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Ht,this.options.tokenizer=this.options.tokenizer||new gn,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:fn.normal,inline:hn.normal};this.options.pedantic?(t.block=fn.pedantic,t.inline=hn.pedantic):this.options.gfm&&(t.block=fn.gfm,this.options.breaks?t.inline=hn.breaks:t.inline=hn.gfm),this.tokenizer.rules=t}static get rules(){return{block:fn,inline:hn}}static lex(e,t){return new kn(t).lex(e)}static lexInline(e,t){return new kn(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let n,s,o,i;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,((e,t,n)=>t+"    ".repeat(n.length)));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((s=>!!(n=s.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);else if(n=this.tokenizer.code(e))e=e.substring(n.raw.length),s=t[t.length-1],!s||"paragraph"!==s.type&&"text"!==s.type?t.push(n):(s.raw+="\n"+n.raw,s.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=s.text);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.list(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.def(e))e=e.substring(n.raw.length),s=t[t.length-1],!s||"paragraph"!==s.type&&"text"!==s.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(s.raw+="\n"+n.raw,s.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=s.text);else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),t.push(n);else{if(o=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const n=e.slice(1);let s;this.options.extensions.startBlock.forEach((function(e){s=e.call({lexer:this},n),"number"==typeof s&&s>=0&&(t=Math.min(t,s))})),t<1/0&&t>=0&&(o=e.substring(0,t+1))}if(this.state.top&&(n=this.tokenizer.paragraph(o)))s=t[t.length-1],i&&"paragraph"===s.type?(s.raw+="\n"+n.raw,s.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(n),i=o.length!==e.length,e=e.substring(n.raw.length);else if(n=this.tokenizer.text(e))e=e.substring(n.raw.length),s=t[t.length-1],s&&"text"===s.type?(s.raw+="\n"+n.raw,s.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,s,o,i,r,l,c=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(i=this.tokenizer.rules.inline.reflinkSearch.exec(c));)e.includes(i[0].slice(i[0].lastIndexOf("[")+1,-1))&&(c=c.slice(0,i.index)+"["+un("a",i[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(i=this.tokenizer.rules.inline.blockSkip.exec(c));)c=c.slice(0,i.index)+"["+un("a",i[0].length-2)+"]"+c.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(i=this.tokenizer.rules.inline.escapedEmSt.exec(c));)c=c.slice(0,i.index+i[0].length-2)+"++"+c.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(r||(l=""),r=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((s=>!!(n=s.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),s=t[t.length-1],s&&"text"===n.type&&"text"===s.type?(s.raw+=n.raw,s.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),s=t[t.length-1],s&&"text"===n.type&&"text"===s.type?(s.raw+=n.raw,s.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,c,l))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e,bn))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e,bn))){if(o=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const n=e.slice(1);let s;this.options.extensions.startInline.forEach((function(e){s=e.call({lexer:this},n),"number"==typeof s&&s>=0&&(t=Math.min(t,s))})),t<1/0&&t>=0&&(o=e.substring(0,t+1))}if(n=this.tokenizer.inlineText(o,mn))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(l=n.raw.slice(-1)),r=!0,s=t[t.length-1],s&&"text"===s.type?(s.raw+=n.raw,s.text+=n.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(n.raw.length),t.push(n);return t}}class vn{constructor(e){this.options=e||Ht}code(e,t,n){const s=(t||"").match(/\S*/)[0];if(this.options.highlight){const t=this.options.highlight(e,s);null!=t&&t!==e&&(n=!0,e=t)}return e=e.replace(/\n$/,"")+"\n",s?'<pre><code class="'+this.options.langPrefix+Vt(s)+'">'+(n?e:Vt(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:Vt(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e){return e}heading(e,t,n,s){if(this.options.headerIds){return`<h${t} id="${this.options.headerPrefix+s.slug(n)}">${e}</h${t}>\n`}return`<h${t}>${e}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){const s=t?"ol":"ul";return"<"+s+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+s+">\n"}listitem(e){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){if(null===(e=nn(this.options.sanitize,this.options.baseUrl,e)))return n;let s='<a href="'+e+'"';return t&&(s+=' title="'+t+'"'),s+=">"+n+"</a>",s}image(e,t,n){if(null===(e=nn(this.options.sanitize,this.options.baseUrl,e)))return n;let s=`<img src="${e}" alt="${n}"`;return t&&(s+=` title="${t}"`),s+=this.options.xhtml?"/>":">",s}text(e){return e}}class wn{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class $n{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,s=0;if(this.seen.hasOwnProperty(n)){s=this.seen[e];do{s++,n=e+"-"+s}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=s,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}}class xn{constructor(e){this.options=e||Ht,this.options.renderer=this.options.renderer||new vn,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new wn,this.slugger=new $n}static parse(e,t){return new xn(t).parse(e)}static parseInline(e,t){return new xn(t).parseInline(e)}parse(e,t=!0){let n,s,o,i,r,l,c,a,d,u,p,g,f,h,m,b,k,v,w,$="";const x=e.length;for(n=0;n<x;n++)if(u=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[u.type]&&(w=this.options.extensions.renderers[u.type].call({parser:this},u),!1!==w||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(u.type)))$+=w||"";else switch(u.type){case"space":continue;case"hr":$+=this.renderer.hr();continue;case"heading":$+=this.renderer.heading(this.parseInline(u.tokens),u.depth,Yt(this.parseInline(u.tokens,this.textRenderer)),this.slugger);continue;case"code":$+=this.renderer.code(u.text,u.lang,u.escaped);continue;case"table":for(a="",c="",i=u.header.length,s=0;s<i;s++)c+=this.renderer.tablecell(this.parseInline(u.header[s].tokens),{header:!0,align:u.align[s]});for(a+=this.renderer.tablerow(c),d="",i=u.rows.length,s=0;s<i;s++){for(l=u.rows[s],c="",r=l.length,o=0;o<r;o++)c+=this.renderer.tablecell(this.parseInline(l[o].tokens),{header:!1,align:u.align[o]});d+=this.renderer.tablerow(c)}$+=this.renderer.table(a,d);continue;case"blockquote":d=this.parse(u.tokens),$+=this.renderer.blockquote(d);continue;case"list":for(p=u.ordered,g=u.start,f=u.loose,i=u.items.length,d="",s=0;s<i;s++)m=u.items[s],b=m.checked,k=m.task,h="",m.task&&(v=this.renderer.checkbox(b),f?m.tokens.length>0&&"paragraph"===m.tokens[0].type?(m.tokens[0].text=v+" "+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&"text"===m.tokens[0].tokens[0].type&&(m.tokens[0].tokens[0].text=v+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:v}):h+=v),h+=this.parse(m.tokens,f),d+=this.renderer.listitem(h,k,b);$+=this.renderer.list(d,p,g);continue;case"html":$+=this.renderer.html(u.text);continue;case"paragraph":$+=this.renderer.paragraph(this.parseInline(u.tokens));continue;case"text":for(d=u.tokens?this.parseInline(u.tokens):u.text;n+1<x&&"text"===e[n+1].type;)u=e[++n],d+="\n"+(u.tokens?this.parseInline(u.tokens):u.text);$+=t?this.renderer.paragraph(d):d;continue;default:{const e='Token with "'+u.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return $}parseInline(e,t){t=t||this.renderer;let n,s,o,i="";const r=e.length;for(n=0;n<r;n++)if(s=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]&&(o=this.options.extensions.renderers[s.type].call({parser:this},s),!1!==o||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)))i+=o||"";else switch(s.type){case"escape":case"text":i+=t.text(s.text);break;case"html":i+=t.html(s.text);break;case"link":i+=t.link(s.href,s.title,this.parseInline(s.tokens,t));break;case"image":i+=t.image(s.href,s.title,s.text);break;case"strong":i+=t.strong(this.parseInline(s.tokens,t));break;case"em":i+=t.em(this.parseInline(s.tokens,t));break;case"codespan":i+=t.codespan(s.text);break;case"br":i+=t.br();break;case"del":i+=t.del(this.parseInline(s.tokens,t));break;default:{const e='Token with "'+s.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return i}}class yn{constructor(e){this.options=e||Ht}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(e){return e}postprocess(e){return e}}function _n(e,t){return(n,s,o)=>{"function"==typeof s&&(o=s,s=null);const i={...s},r=function(e,t,n){return s=>{if(s.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const e="<p>An error occurred:</p><pre>"+Vt(s.message+"",!0)+"</pre>";return t?Promise.resolve(e):n?void n(null,e):e}if(t)return Promise.reject(s);if(!n)throw s;n(s)}}((s={...Sn.defaults,...i}).silent,s.async,o);if(null==n)return r(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof n)return r(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(function(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}(s),s.hooks&&(s.hooks.options=s),o){const i=s.highlight;let l;try{s.hooks&&(n=s.hooks.preprocess(n)),l=e(n,s)}catch(e){return r(e)}const c=function(e){let n;if(!e)try{s.walkTokens&&Sn.walkTokens(l,s.walkTokens),n=t(l,s),s.hooks&&(n=s.hooks.postprocess(n))}catch(t){e=t}return s.highlight=i,e?r(e):o(null,n)};if(!i||i.length<3)return c();if(delete s.highlight,!l.length)return c();let a=0;return Sn.walkTokens(l,(function(e){"code"===e.type&&(a++,setTimeout((()=>{i(e.text,e.lang,(function(t,n){if(t)return c(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),a--,0===a&&c()}))}),0))})),void(0===a&&c())}if(s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(n):n).then((t=>e(t,s))).then((e=>s.walkTokens?Promise.all(Sn.walkTokens(e,s.walkTokens)).then((()=>e)):e)).then((e=>t(e,s))).then((e=>s.hooks?s.hooks.postprocess(e):e)).catch(r);try{s.hooks&&(n=s.hooks.preprocess(n));const o=e(n,s);s.walkTokens&&Sn.walkTokens(o,s.walkTokens);let i=t(o,s);return s.hooks&&(i=s.hooks.postprocess(i)),i}catch(e){return r(e)}}}function Sn(e,t,n){return _n(kn.lex,xn.parse)(e,t,n)}Sn.options=Sn.setOptions=function(e){var t;return Sn.defaults={...Sn.defaults,...e},t=Sn.defaults,Ht=t,Sn},Sn.getDefaults=It,Sn.defaults=Ht,Sn.use=function(...e){const t=Sn.defaults.extensions||{renderers:{},childTokens:{}};e.forEach((e=>{const n={...e};if(n.async=Sn.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if(e.renderer){const n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let s=e.renderer.apply(this,t);return!1===s&&(s=n.apply(this,t)),s}:e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");t[e.level]?t[e.level].unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),n.extensions=t),e.renderer){const t=Sn.defaults.renderer||new vn;for(const n in e.renderer){const s=t[n];t[n]=(...o)=>{let i=e.renderer[n].apply(t,o);return!1===i&&(i=s.apply(t,o)),i}}n.renderer=t}if(e.tokenizer){const t=Sn.defaults.tokenizer||new gn;for(const n in e.tokenizer){const s=t[n];t[n]=(...o)=>{let i=e.tokenizer[n].apply(t,o);return!1===i&&(i=s.apply(t,o)),i}}n.tokenizer=t}if(e.hooks){const t=Sn.defaults.hooks||new yn;for(const n in e.hooks){const s=t[n];yn.passThroughHooks.has(n)?t[n]=o=>{if(Sn.defaults.async)return Promise.resolve(e.hooks[n].call(t,o)).then((e=>s.call(t,e)));const i=e.hooks[n].call(t,o);return s.call(t,i)}:t[n]=(...o)=>{let i=e.hooks[n].apply(t,o);return!1===i&&(i=s.apply(t,o)),i}}n.hooks=t}if(e.walkTokens){const t=Sn.defaults.walkTokens;n.walkTokens=function(n){let s=[];return s.push(e.walkTokens.call(this,n)),t&&(s=s.concat(t.call(this,n))),s}}Sn.setOptions(n)}))},Sn.walkTokens=function(e,t){let n=[];for(const s of e)switch(n=n.concat(t.call(Sn,s)),s.type){case"table":for(const e of s.header)n=n.concat(Sn.walkTokens(e.tokens,t));for(const e of s.rows)for(const s of e)n=n.concat(Sn.walkTokens(s.tokens,t));break;case"list":n=n.concat(Sn.walkTokens(s.items,t));break;default:Sn.defaults.extensions&&Sn.defaults.extensions.childTokens&&Sn.defaults.extensions.childTokens[s.type]?Sn.defaults.extensions.childTokens[s.type].forEach((function(e){n=n.concat(Sn.walkTokens(s[e],t))})):s.tokens&&(n=n.concat(Sn.walkTokens(s.tokens,t)))}return n},Sn.parseInline=_n(kn.lexInline,xn.parseInline),Sn.Parser=xn,Sn.parser=xn.parse,Sn.Renderer=vn,Sn.TextRenderer=wn,Sn.Lexer=kn,Sn.lexer=kn.lex,Sn.Tokenizer=gn,Sn.Slugger=$n,Sn.Hooks=yn,Sn.parse=Sn,Sn.options,Sn.setOptions,Sn.use,Sn.walkTokens,Sn.parseInline,xn.parse,kn.lex;const Tn={};function zn(t){let n;return{c(){n=$(t[1])},m(e,t){b(e,n,t)},p(e,t){2&t&&z(n,e[1])},i:e,o:e,d(e){e&&k(n)}}}function qn(e){let t,n;const s=e[5].default,o=d(s,e,e[4],null);return{c(){t=w("h6"),o&&o.c(),T(t,"id",e[2])},m(e,s){b(e,t,s),o&&o.m(t,null),n=!0},p(e,i){o&&o.p&&(!n||16&i)&&g(o,s,e,e[4],n?p(s,e[4],i,null):f(e[4]),null),(!n||4&i)&&T(t,"id",e[2])},i(e){n||(te(o,e),n=!0)},o(e){ne(o,e),n=!1},d(e){e&&k(t),o&&o.d(e)}}}function Ln(e){let t,n;const s=e[5].default,o=d(s,e,e[4],null);return{c(){t=w("h5"),o&&o.c(),T(t,"id",e[2])},m(e,s){b(e,t,s),o&&o.m(t,null),n=!0},p(e,i){o&&o.p&&(!n||16&i)&&g(o,s,e,e[4],n?p(s,e[4],i,null):f(e[4]),null),(!n||4&i)&&T(t,"id",e[2])},i(e){n||(te(o,e),n=!0)},o(e){ne(o,e),n=!1},d(e){e&&k(t),o&&o.d(e)}}}function Fn(e){let t,n;const s=e[5].default,o=d(s,e,e[4],null);return{c(){t=w("h4"),o&&o.c(),T(t,"id",e[2])},m(e,s){b(e,t,s),o&&o.m(t,null),n=!0},p(e,i){o&&o.p&&(!n||16&i)&&g(o,s,e,e[4],n?p(s,e[4],i,null):f(e[4]),null),(!n||4&i)&&T(t,"id",e[2])},i(e){n||(te(o,e),n=!0)},o(e){ne(o,e),n=!1},d(e){e&&k(t),o&&o.d(e)}}}function Nn(e){let t,n;const s=e[5].default,o=d(s,e,e[4],null);return{c(){t=w("h3"),o&&o.c(),T(t,"id",e[2])},m(e,s){b(e,t,s),o&&o.m(t,null),n=!0},p(e,i){o&&o.p&&(!n||16&i)&&g(o,s,e,e[4],n?p(s,e[4],i,null):f(e[4]),null),(!n||4&i)&&T(t,"id",e[2])},i(e){n||(te(o,e),n=!0)},o(e){ne(o,e),n=!1},d(e){e&&k(t),o&&o.d(e)}}}function Cn(e){let t,n;const s=e[5].default,o=d(s,e,e[4],null);return{c(){t=w("h2"),o&&o.c(),T(t,"id",e[2])},m(e,s){b(e,t,s),o&&o.m(t,null),n=!0},p(e,i){o&&o.p&&(!n||16&i)&&g(o,s,e,e[4],n?p(s,e[4],i,null):f(e[4]),null),(!n||4&i)&&T(t,"id",e[2])},i(e){n||(te(o,e),n=!0)},o(e){ne(o,e),n=!1},d(e){e&&k(t),o&&o.d(e)}}}function Rn(e){let t,n;const s=e[5].default,o=d(s,e,e[4],null);return{c(){t=w("h1"),o&&o.c(),T(t,"id",e[2])},m(e,s){b(e,t,s),o&&o.m(t,null),n=!0},p(e,i){o&&o.p&&(!n||16&i)&&g(o,s,e,e[4],n?p(s,e[4],i,null):f(e[4]),null),(!n||4&i)&&T(t,"id",e[2])},i(e){n||(te(o,e),n=!0)},o(e){ne(o,e),n=!1},d(e){e&&k(t),o&&o.d(e)}}}function An(e){let t,n,s,o;const i=[Rn,Cn,Nn,Fn,Ln,qn,zn],r=[];function l(e,t){return 1===e[0]?0:2===e[0]?1:3===e[0]?2:4===e[0]?3:5===e[0]?4:6===e[0]?5:6}return t=l(e),n=r[t]=i[t](e),{c(){n.c(),s=y()},m(e,n){r[t].m(e,n),b(e,s,n),o=!0},p(e,[o]){let c=t;t=l(e),t===c?r[t].p(e,o):(K(),ne(r[c],1,1,(()=>{r[c]=null})),ee(),n=r[t],n?n.p(e,o):(n=r[t]=i[t](e),n.c()),te(n,1),n.m(s.parentNode,s))},i(e){o||(te(n),o=!0)},o(e){ne(n),o=!1},d(e){r[t].d(e),e&&k(s)}}}function En(e,t,n){let s,{$$slots:o={},$$scope:i}=t,{depth:r}=t,{raw:l}=t,{text:c}=t;const{slug:a,getOptions:d}=function(e){return O().$$.context.get(e)}(Tn),u=d();return e.$$set=e=>{"depth"in e&&n(0,r=e.depth),"raw"in e&&n(1,l=e.raw),"text"in e&&n(3,c=e.text),"$$scope"in e&&n(4,i=e.$$scope)},e.$$.update=()=>{8&e.$$.dirty&&n(2,s=u.headerIds?u.headerPrefix+a(c):void 0)},[r,l,s,c,i,o]}function On(e){let t,n;const s=e[1].default,o=d(s,e,e[0],null);return{c(){t=w("p"),o&&o.c()},m(e,s){b(e,t,s),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&g(o,s,e,e[0],n?p(s,e[0],t,null):f(e[0]),null)},i(e){n||(te(o,e),n=!0)},o(e){ne(o,e),n=!1},d(e){e&&k(t),o&&o.d(e)}}}function Pn(e,t,n){let{$$slots:s={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,s]}function jn(e){let t;const n=e[3].default,s=d(n,e,e[2],null);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,[o]){s&&s.p&&(!t||4&o)&&g(s,n,e,e[2],t?p(n,e[2],o,null):f(e[2]),null)},i(e){t||(te(s,e),t=!0)},o(e){ne(s,e),t=!1},d(e){s&&s.d(e)}}}function Mn(e,t,n){let{$$slots:s={},$$scope:o}=t,{text:i}=t,{raw:r}=t;return e.$$set=e=>{"text"in e&&n(0,i=e.text),"raw"in e&&n(1,r=e.raw),"$$scope"in e&&n(2,o=e.$$scope)},[i,r,o,s]}function Dn(t){let n,s;return{c(){n=w("img"),a(n.src,s=t[0])||T(n,"src",s),T(n,"title",t[1]),T(n,"alt",t[2])},m(e,t){b(e,n,t)},p(e,[t]){1&t&&!a(n.src,s=e[0])&&T(n,"src",s),2&t&&T(n,"title",e[1]),4&t&&T(n,"alt",e[2])},i:e,o:e,d(e){e&&k(n)}}}function In(e,t,n){let{href:s=""}=t,{title:o}=t,{text:i=""}=t;return e.$$set=e=>{"href"in e&&n(0,s=e.href),"title"in e&&n(1,o=e.title),"text"in e&&n(2,i=e.text)},[s,o,i]}function Hn(e){let t,n;const s=e[3].default,o=d(s,e,e[2],null);return{c(){t=w("a"),o&&o.c(),T(t,"href",e[0]),T(t,"title",e[1])},m(e,s){b(e,t,s),o&&o.m(t,null),n=!0},p(e,[i]){o&&o.p&&(!n||4&i)&&g(o,s,e,e[2],n?p(s,e[2],i,null):f(e[2]),null),(!n||1&i)&&T(t,"href",e[0]),(!n||2&i)&&T(t,"title",e[1])},i(e){n||(te(o,e),n=!0)},o(e){ne(o,e),n=!1},d(e){e&&k(t),o&&o.d(e)}}}function Un(e,t,n){let{$$slots:s={},$$scope:o}=t,{href:i=""}=t,{title:r}=t;return e.$$set=e=>{"href"in e&&n(0,i=e.href),"title"in e&&n(1,r=e.title),"$$scope"in e&&n(2,o=e.$$scope)},[i,r,o,s]}function Bn(e){let t,n;const s=e[1].default,o=d(s,e,e[0],null);return{c(){t=w("em"),o&&o.c()},m(e,s){b(e,t,s),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&g(o,s,e,e[0],n?p(s,e[0],t,null):f(e[0]),null)},i(e){n||(te(o,e),n=!0)},o(e){ne(o,e),n=!1},d(e){e&&k(t),o&&o.d(e)}}}function Zn(e,t,n){let{$$slots:s={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,s]}function Jn(e){let t,n;const s=e[1].default,o=d(s,e,e[0],null);return{c(){t=w("del"),o&&o.c()},m(e,s){b(e,t,s),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&g(o,s,e,e[0],n?p(s,e[0],t,null):f(e[0]),null)},i(e){n||(te(o,e),n=!0)},o(e){ne(o,e),n=!1},d(e){e&&k(t),o&&o.d(e)}}}function Qn(e,t,n){let{$$slots:s={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,s]}function Gn(t){let n,s,o=t[0].replace(/`/g,"")+"";return{c(){n=w("code"),s=$(o)},m(e,t){b(e,n,t),m(n,s)},p(e,[t]){1&t&&o!==(o=e[0].replace(/`/g,"")+"")&&z(s,o)},i:e,o:e,d(e){e&&k(n)}}}function Vn(e,t,n){let{raw:s}=t;return e.$$set=e=>{"raw"in e&&n(0,s=e.raw)},[s]}function Xn(e){let t,n;const s=e[1].default,o=d(s,e,e[0],null);return{c(){t=w("strong"),o&&o.c()},m(e,s){b(e,t,s),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&g(o,s,e,e[0],n?p(s,e[0],t,null):f(e[0]),null)},i(e){n||(te(o,e),n=!0)},o(e){ne(o,e),n=!1},d(e){e&&k(t),o&&o.d(e)}}}function Yn(e,t,n){let{$$slots:s={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,s]}function Wn(e){let t,n;const s=e[1].default,o=d(s,e,e[0],null);return{c(){t=w("table"),o&&o.c()},m(e,s){b(e,t,s),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&g(o,s,e,e[0],n?p(s,e[0],t,null):f(e[0]),null)},i(e){n||(te(o,e),n=!0)},o(e){ne(o,e),n=!1},d(e){e&&k(t),o&&o.d(e)}}}function Kn(e,t,n){let{$$slots:s={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,s]}function es(e){let t,n;const s=e[1].default,o=d(s,e,e[0],null);return{c(){t=w("thead"),o&&o.c()},m(e,s){b(e,t,s),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&g(o,s,e,e[0],n?p(s,e[0],t,null):f(e[0]),null)},i(e){n||(te(o,e),n=!0)},o(e){ne(o,e),n=!1},d(e){e&&k(t),o&&o.d(e)}}}function ts(e,t,n){let{$$slots:s={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,s]}function ns(e){let t,n;const s=e[1].default,o=d(s,e,e[0],null);return{c(){t=w("tbody"),o&&o.c()},m(e,s){b(e,t,s),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&g(o,s,e,e[0],n?p(s,e[0],t,null):f(e[0]),null)},i(e){n||(te(o,e),n=!0)},o(e){ne(o,e),n=!1},d(e){e&&k(t),o&&o.d(e)}}}function ss(e,t,n){let{$$slots:s={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,s]}function os(e){let t,n;const s=e[1].default,o=d(s,e,e[0],null);return{c(){t=w("tr"),o&&o.c()},m(e,s){b(e,t,s),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&g(o,s,e,e[0],n?p(s,e[0],t,null):f(e[0]),null)},i(e){n||(te(o,e),n=!0)},o(e){ne(o,e),n=!1},d(e){e&&k(t),o&&o.d(e)}}}function is(e,t,n){let{$$slots:s={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,s]}function rs(e){let t,n;const s=e[3].default,o=d(s,e,e[2],null);return{c(){t=w("td"),o&&o.c(),T(t,"align",e[1])},m(e,s){b(e,t,s),o&&o.m(t,null),n=!0},p(e,i){o&&o.p&&(!n||4&i)&&g(o,s,e,e[2],n?p(s,e[2],i,null):f(e[2]),null),(!n||2&i)&&T(t,"align",e[1])},i(e){n||(te(o,e),n=!0)},o(e){ne(o,e),n=!1},d(e){e&&k(t),o&&o.d(e)}}}function ls(e){let t,n;const s=e[3].default,o=d(s,e,e[2],null);return{c(){t=w("th"),o&&o.c(),T(t,"align",e[1])},m(e,s){b(e,t,s),o&&o.m(t,null),n=!0},p(e,i){o&&o.p&&(!n||4&i)&&g(o,s,e,e[2],n?p(s,e[2],i,null):f(e[2]),null),(!n||2&i)&&T(t,"align",e[1])},i(e){n||(te(o,e),n=!0)},o(e){ne(o,e),n=!1},d(e){e&&k(t),o&&o.d(e)}}}function cs(e){let t,n,s,o;const i=[ls,rs],r=[];function l(e,t){return e[0]?0:1}return t=l(e),n=r[t]=i[t](e),{c(){n.c(),s=y()},m(e,n){r[t].m(e,n),b(e,s,n),o=!0},p(e,[o]){let c=t;t=l(e),t===c?r[t].p(e,o):(K(),ne(r[c],1,1,(()=>{r[c]=null})),ee(),n=r[t],n?n.p(e,o):(n=r[t]=i[t](e),n.c()),te(n,1),n.m(s.parentNode,s))},i(e){o||(te(n),o=!0)},o(e){ne(n),o=!1},d(e){r[t].d(e),e&&k(s)}}}function as(e,t,n){let{$$slots:s={},$$scope:o}=t,{header:i}=t,{align:r}=t;return e.$$set=e=>{"header"in e&&n(0,i=e.header),"align"in e&&n(1,r=e.align),"$$scope"in e&&n(2,o=e.$$scope)},[i,r,o,s]}function ds(e){let t,n;const s=e[3].default,o=d(s,e,e[2],null);return{c(){t=w("ul"),o&&o.c()},m(e,s){b(e,t,s),o&&o.m(t,null),n=!0},p(e,t){o&&o.p&&(!n||4&t)&&g(o,s,e,e[2],n?p(s,e[2],t,null):f(e[2]),null)},i(e){n||(te(o,e),n=!0)},o(e){ne(o,e),n=!1},d(e){e&&k(t),o&&o.d(e)}}}function us(e){let t,n;const s=e[3].default,o=d(s,e,e[2],null);return{c(){t=w("ol"),o&&o.c(),T(t,"start",e[1])},m(e,s){b(e,t,s),o&&o.m(t,null),n=!0},p(e,i){o&&o.p&&(!n||4&i)&&g(o,s,e,e[2],n?p(s,e[2],i,null):f(e[2]),null),(!n||2&i)&&T(t,"start",e[1])},i(e){n||(te(o,e),n=!0)},o(e){ne(o,e),n=!1},d(e){e&&k(t),o&&o.d(e)}}}function ps(e){let t,n,s,o;const i=[us,ds],r=[];function l(e,t){return e[0]?0:1}return t=l(e),n=r[t]=i[t](e),{c(){n.c(),s=y()},m(e,n){r[t].m(e,n),b(e,s,n),o=!0},p(e,[o]){let c=t;t=l(e),t===c?r[t].p(e,o):(K(),ne(r[c],1,1,(()=>{r[c]=null})),ee(),n=r[t],n?n.p(e,o):(n=r[t]=i[t](e),n.c()),te(n,1),n.m(s.parentNode,s))},i(e){o||(te(n),o=!0)},o(e){ne(n),o=!1},d(e){r[t].d(e),e&&k(s)}}}function gs(e,t,n){let{$$slots:s={},$$scope:o}=t,{ordered:i}=t,{start:r}=t;return e.$$set=e=>{"ordered"in e&&n(0,i=e.ordered),"start"in e&&n(1,r=e.start),"$$scope"in e&&n(2,o=e.$$scope)},[i,r,o,s]}function fs(e){let t,n;const s=e[1].default,o=d(s,e,e[0],null);return{c(){t=w("li"),o&&o.c()},m(e,s){b(e,t,s),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&g(o,s,e,e[0],n?p(s,e[0],t,null):f(e[0]),null)},i(e){n||(te(o,e),n=!0)},o(e){ne(o,e),n=!1},d(e){e&&k(t),o&&o.d(e)}}}function hs(e,t,n){let{$$slots:s={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,s]}function ms(t){let n;return{c(){n=w("hr")},m(e,t){b(e,n,t)},p:e,i:e,o:e,d(e){e&&k(n)}}}function bs(t){let n,s;return{c(){n=new R(!1),s=y(),n.a=s},m(e,o){n.m(t[0],e,o),b(e,s,o)},p(e,[t]){1&t&&n.p(e[0])},i:e,o:e,d(e){e&&k(s),e&&n.d()}}}function ks(e,t,n){let{text:s}=t;return e.$$set=e=>{"text"in e&&n(0,s=e.text)},[s]}function vs(e){let t,n;const s=e[1].default,o=d(s,e,e[0],null);return{c(){t=w("blockquote"),o&&o.c()},m(e,s){b(e,t,s),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&g(o,s,e,e[0],n?p(s,e[0],t,null):f(e[0]),null)},i(e){n||(te(o,e),n=!0)},o(e){ne(o,e),n=!1},d(e){e&&k(t),o&&o.d(e)}}}function ws(e,t,n){let{$$slots:s={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,s]}function $s(t){let n,s,o;return{c(){n=w("pre"),s=w("code"),o=$(t[1]),T(n,"class",t[0])},m(e,t){b(e,n,t),m(n,s),m(s,o)},p(e,[t]){2&t&&z(o,e[1]),1&t&&T(n,"class",e[0])},i:e,o:e,d(e){e&&k(n)}}}function xs(e,t,n){let{lang:s}=t,{text:o}=t;return e.$$set=e=>{"lang"in e&&n(0,s=e.lang),"text"in e&&n(1,o=e.text)},[s,o]}function ys(e){let t,n;const s=e[1].default,o=d(s,e,e[0],null);return{c(){t=w("br"),o&&o.c()},m(e,s){b(e,t,s),o&&o.m(e,s),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&g(o,s,e,e[0],n?p(s,e[0],t,null):f(e[0]),null)},i(e){n||(te(o,e),n=!0)},o(e){ne(o,e),n=!1},d(e){e&&k(t),o&&o.d(e)}}}function _s(e,t,n){let{$$slots:s={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,s]}const Ss={heading:class extends ue{constructor(e){super(),de(this,e,En,An,r,{depth:0,raw:1,text:3})}},paragraph:class extends ue{constructor(e){super(),de(this,e,Pn,On,r,{})}},text:class extends ue{constructor(e){super(),de(this,e,Mn,jn,r,{text:0,raw:1})}},image:class extends ue{constructor(e){super(),de(this,e,In,Dn,r,{href:0,title:1,text:2})}},link:class extends ue{constructor(e){super(),de(this,e,Un,Hn,r,{href:0,title:1})}},em:class extends ue{constructor(e){super(),de(this,e,Zn,Bn,r,{})}},strong:class extends ue{constructor(e){super(),de(this,e,Yn,Xn,r,{})}},codespan:class extends ue{constructor(e){super(),de(this,e,Vn,Gn,r,{raw:0})}},del:class extends ue{constructor(e){super(),de(this,e,Qn,Jn,r,{})}},table:class extends ue{constructor(e){super(),de(this,e,Kn,Wn,r,{})}},tablehead:class extends ue{constructor(e){super(),de(this,e,ts,es,r,{})}},tablebody:class extends ue{constructor(e){super(),de(this,e,ss,ns,r,{})}},tablerow:class extends ue{constructor(e){super(),de(this,e,is,os,r,{})}},tablecell:class extends ue{constructor(e){super(),de(this,e,as,cs,r,{header:0,align:1})}},list:class extends ue{constructor(e){super(),de(this,e,gs,ps,r,{ordered:0,start:1})}},orderedlistitem:null,unorderedlistitem:null,listitem:class extends ue{constructor(e){super(),de(this,e,hs,fs,r,{})}},hr:class extends ue{constructor(e){super(),de(this,e,null,ms,r,{})}},html:class extends ue{constructor(e){super(),de(this,e,ks,bs,r,{text:0})}},blockquote:class extends ue{constructor(e){super(),de(this,e,ws,vs,r,{})}},code:class extends ue{constructor(e){super(),de(this,e,xs,$s,r,{lang:0,text:1})}},br:class extends ue{constructor(e){super(),de(this,e,_s,ys,r,{})}}},Ts={baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,xhtml:!1};function zs(e){let t,n;return t=new Dt({props:{tokens:e[0],renderers:e[1]}}),{c(){re(t.$$.fragment)},m(e,s){le(t,e,s),n=!0},p(e,[n]){const s={};1&n&&(s.tokens=e[0]),2&n&&(s.renderers=e[1]),t.$set(s)},i(e){n||(te(t.$$.fragment,e),n=!0)},o(e){ne(t.$$.fragment,e),n=!1},d(e){ce(t,e)}}}function qs(e,t,n){let s,o,i,r,{source:l=[]}=t,{renderers:c={}}=t,{options:a={}}=t,{isInline:d=!1}=t;const u=j();let p,g,f;return function(e,t){O().$$.context.set(e,t)}(Tn,{slug:e=>o?o.slug(e):"",getOptions:()=>i}),P((()=>{n(7,f=!0)})),e.$$set=e=>{"source"in e&&n(2,l=e.source),"renderers"in e&&n(3,c=e.renderers),"options"in e&&n(4,a=e.options),"isInline"in e&&n(5,d=e.isInline)},e.$$.update=()=>{4&e.$$.dirty&&n(8,s=Array.isArray(l)),4&e.$$.dirty&&(o=l?new $n:void 0),16&e.$$.dirty&&n(9,i={...Ts,...a}),869&e.$$.dirty&&(s?n(0,p=l):(n(6,g=new kn(i)),n(0,p=d?g.inlineTokens(l):g.lex(l)),u("parsed",{tokens:p}))),8&e.$$.dirty&&n(1,r={...Ss,...c}),385&e.$$.dirty&&f&&!s&&u("parsed",{tokens:p})},[p,r,l,c,a,d,g,f,s,i]}class Ls extends ue{constructor(e){super(),de(this,e,qs,zs,r,{source:2,renderers:3,options:4,isInline:5})}}function Fs(e,t,n){const s=e.slice();return s[158]=t[n],s}function Ns(e,t,n){const s=e.slice();return s[161]=t[n],s[147]=n,s}function Cs(e,t,n){const s=e.slice();return s[161]=t[n],s[147]=n,s}function Rs(e,t,n){const s=e.slice();return s[151]=t[n],s[147]=n,s}function As(e,t,n){const s=e.slice();return s[153]=t[n],s}function Es(e,t,n){const s=e.slice();return s[148]=t[n],s}function Os(e,t,n){const s=e.slice();return s[153]=t[n],s}function Ps(e,t,n){const s=e.slice();return s[145]=t[n],s[147]=n,s}function js(e,t,n){const s=e.slice();return s[164]=t[n],s[147]=n,s}function Ms(e,t,n){const s=e.slice();return s[166]=t[n],s[170]=t,s[147]=n,s}function Ds(e,t,n){const s=e.slice();return s[166]=t[n],s[169]=t,s[147]=n,s}function Is(e,t,n){const s=e.slice();return s[166]=t[n],s[168]=t,s[147]=n,s}function Hs(e,t,n){const s=e.slice();return s[166]=t[n],s[167]=t,s[147]=n,s}function Us(e,t,n){const s=e.slice();return s[164]=t[n],s[147]=n,s}function Bs(e){let t,n,s,o,i=e[164]+"";function r(){return e[49](e[147])}return{c(){t=w("button"),n=$(i),T(t,"class","tab svelte-qzsvuf"),C(t,"active",e[147]===e[17]),C(t,"right-bordered",e[147]<e[35].length-1)},m(e,i){b(e,t,i),m(t,n),s||(o=_(t,"click",r),s=!0)},p(n,s){e=n,131072&s[0]&&C(t,"active",e[147]===e[17])},d(e){e&&k(t),s=!1,o()}}}function Zs(e){let t;function n(e,t){return"grid"===e[5][e[17]]?Gs:Qs}let s=n(e),o=s(e);return{c(){o.c(),t=y()},m(e,n){o.m(e,n),b(e,t,n)},p(e,i){s===(s=n(e))&&o?o.p(e,i):(o.d(1),o=s(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&k(t)}}}function Js(e){let t;function n(e,t){return"grid"===e[5][e[17]]?$o:wo}let s=n(e),o=s(e);return{c(){o.c(),t=y()},m(e,n){o.m(e,n),b(e,t,n)},p(e,i){s===(s=n(e))&&o?o.p(e,i):(o.d(1),o=s(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&k(t)}}}function Qs(e){let t,n,s,i,r,l,c,a,d,u,p,g,f,h,$,y,S,z,q,F,N;function C(e,t){return e[31]&&"id"===e[30]?Xs:Vs}let R=C(e),A=R(e);function E(e,t){return e[31]&&"quote"===e[30]?Ws:Ys}let O=E(e),P=O(e);function j(e,t){return e[31]&&"speaker"===e[30]?eo:Ks}let M=j(e),D=M(e),I=e[0],H=[];for(let t=0;t<I.length;t+=1)H[t]=ao(Ms(e,I,t));return{c(){t=w("div"),n=w("div"),s=w("span"),i=w("strong"),i.textContent="ID",r=x(),l=w("button"),A.c(),c=x(),a=w("span"),d=w("strong"),d.textContent="Feedback",u=x(),p=w("button"),P.c(),g=x(),f=w("span"),h=w("strong"),h.textContent="Speaker",$=x(),y=w("button"),D.c(),S=x(),z=w("span"),z.innerHTML="<strong>Actions</strong>",q=x();for(let e=0;e<H.length;e+=1)H[e].c();T(l,"class","action-button"),T(s,"class","centered row id-col svelte-qzsvuf"),L(s,"gap","0.4rem"),T(p,"class","action-button"),T(a,"class","centered row spaced feedback-col svelte-qzsvuf"),T(y,"class","action-button"),T(f,"class","centered row spaced speaker-col svelte-qzsvuf"),T(z,"id","feedback-buttons"),T(z,"class","centered row actions-col svelte-qzsvuf"),T(n,"class","feedback-header row svelte-qzsvuf"),T(t,"class","column"),L(t,"overflow-y","auto")},m(o,k){b(o,t,k),m(t,n),m(n,s),m(s,i),m(s,r),m(s,l),A.m(l,null),m(n,c),m(n,a),m(a,d),m(a,u),m(a,p),P.m(p,null),m(n,g),m(n,f),m(f,h),m(f,$),m(f,y),D.m(y,null),m(n,S),m(n,z),m(t,q);for(let e=0;e<H.length;e+=1)H[e]&&H[e].m(t,null);F||(N=[_(l,"click",e[82]),_(p,"click",e[83]),_(y,"click",e[84])],F=!0)},p(e,n){if(R!==(R=C(e))&&(A.d(1),A=R(e),A&&(A.c(),A.m(l,null))),O!==(O=E(e))&&(P.d(1),P=O(e),P&&(P.c(),P.m(p,null))),M!==(M=j(e))&&(D.d(1),D=M(e),D&&(D.c(),D.m(y,null))),362513&n[0]|2240&n[1]){let s;for(I=e[0],s=0;s<I.length;s+=1){const o=Ms(e,I,s);H[s]?H[s].p(o,n):(H[s]=ao(o),H[s].c(),H[s].m(t,null))}for(;s<H.length;s+=1)H[s].d(1);H.length=I.length}},d(e){e&&k(t),A.d(),P.d(),D.d(),v(H,e),F=!1,o(N)}}}function Gs(e){let t,n=e[0],s=[];for(let t=0;t<n.length;t+=1)s[t]=vo(Ds(e,n,t));return{c(){t=w("div");for(let e=0;e<s.length;e+=1)s[e].c();T(t,"class","grid svelte-qzsvuf"),L(t,"overflow-y","auto")},m(e,n){b(e,t,n);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,null)},p(e,o){if(362513&o[0]|2240&o[1]){let i;for(n=e[0],i=0;i<n.length;i+=1){const r=Ds(e,n,i);s[i]?s[i].p(r,o):(s[i]=vo(r),s[i].c(),s[i].m(t,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}},d(e){e&&k(t),v(s,e)}}}function Vs(e){let t,n;return{c(){t=w("img"),L(t,"height","1rem"),L(t,"width","1rem"),a(t.src,n="./logos/descending-sort-svgrepo-com.svg")||T(t,"src","./logos/descending-sort-svgrepo-com.svg"),T(t,"alt","Sort descending"),T(t,"class","mini-icon")},m(e,n){b(e,t,n)},d(e){e&&k(t)}}}function Xs(e){let t,n;return{c(){t=w("img"),L(t,"height","1rem"),L(t,"width","1rem"),a(t.src,n="./logos/ascending-sort-svgrepo-com.svg")||T(t,"src","./logos/ascending-sort-svgrepo-com.svg"),T(t,"alt","Sort ascending"),T(t,"class","mini-icon")},m(e,n){b(e,t,n)},d(e){e&&k(t)}}}function Ys(e){let t,n;return{c(){t=w("img"),L(t,"height","1rem"),L(t,"width","1rem"),a(t.src,n="./logos/descending-sort-svgrepo-com.svg")||T(t,"src","./logos/descending-sort-svgrepo-com.svg"),T(t,"alt","Sort descending"),T(t,"class","mini-icon")},m(e,n){b(e,t,n)},d(e){e&&k(t)}}}function Ws(e){let t,n;return{c(){t=w("img"),L(t,"height","1rem"),L(t,"width","1rem"),a(t.src,n="./logos/ascending-sort-svgrepo-com.svg")||T(t,"src","./logos/ascending-sort-svgrepo-com.svg"),T(t,"alt","Sort ascending"),T(t,"class","mini-icon")},m(e,n){b(e,t,n)},d(e){e&&k(t)}}}function Ks(e){let t,n;return{c(){t=w("img"),L(t,"height","1rem"),L(t,"width","1rem"),a(t.src,n="./logos/descending-sort-svgrepo-com.svg")||T(t,"src","./logos/descending-sort-svgrepo-com.svg"),T(t,"alt","Sort descending"),T(t,"class","mini-icon")},m(e,n){b(e,t,n)},d(e){e&&k(t)}}}function eo(e){let t,n;return{c(){t=w("img"),L(t,"height","1rem"),L(t,"width","1rem"),a(t.src,n="./logos/ascending-sort-svgrepo-com.svg")||T(t,"src","./logos/ascending-sort-svgrepo-com.svg"),T(t,"alt","Sort ascending"),T(t,"class","mini-icon")},m(e,n){b(e,t,n)},d(e){e&&k(t)}}}function to(e){let t,n,s,i,r,l,c,a,d,u,p,g,f,h,v,y,S,q,L,F,N,R,A,E,O=e[166].id+"",P=(e[166].speaker?e[166].speaker:"Unknown")+"";function j(e,t){return"excerpt_reference"in e[166]?so:no}let M=j(e),D=M(e);function I(){return e[85](e[166])}function H(e,t){return e[166].positivised_quote&&e[166].show_paraphrased?lo:ro}let U=H(e),B=U(e);function Z(){return e[88](e[166],e[170],e[147])}function J(){return e[89](e[166])}function Q(){return e[90](e[166])}function G(){return e[91](e[166])}function V(...t){return e[92](e[166],...t)}return{c(){t=w("div"),n=w("span"),s=w("strong"),i=$(O),r=x(),l=w("div"),c=w("span"),a=w("span"),D.c(),d=x(),B.c(),u=x(),p=w("span"),g=$(P),f=x(),h=w("div"),v=w("button"),v.innerHTML='<img src="./logos/ai-positive-paraphrase.png" alt="Paraphrase positively" class="action-icon"/>\n                                                Positivize',y=x(),S=w("button"),S.innerHTML='<img src="./logos/select-context.svg" alt="Select feedback as context" style="height: 3.3rem; width: 3.3rem;"/>\n                                                Select Context',q=x(),L=w("button"),L.innerHTML='<img src="./logos/note-svgrepo-com.svg" alt="Remove feedback" class="action-icon"/>\n                                                Add Note',F=x(),N=w("button"),N.innerHTML='<img src="./logos/delete-svgrepo-com.svg" alt="Remove feedback" class="action-icon"/>\n                                                Delete',R=x(),T(n,"class","id-col svelte-qzsvuf"),T(a,"class","timestamp svelte-qzsvuf"),T(c,"class",""),T(l,"class","column feedback-col svelte-qzsvuf"),T(p,"class","centered speaker-col svelte-qzsvuf"),T(v,"class","action-button"),T(S,"class","action-button centered column"),T(L,"class","action-button"),T(N,"class","action-button"),T(h,"id","feedback-buttons"),T(h,"class","row centered spaced actions-col svelte-qzsvuf"),T(t,"class","feedback-row row bordered padded svelte-qzsvuf"),C(t,"done",e[166].done),C(t,"selected",e[166]===e[15])},m(e,o){b(e,t,o),m(t,n),m(n,s),m(s,i),m(t,r),m(t,l),m(l,c),m(c,a),D.m(a,null),m(c,d),B.m(c,null),m(t,u),m(t,p),m(p,g),m(t,f),m(t,h),m(h,v),m(h,y),m(h,S),m(h,q),m(h,L),m(h,F),m(h,N),m(t,R),A||(E=[_(a,"click",I),_(v,"click",Z),_(S,"click",J),_(L,"click",Q),_(N,"click",G),_(t,"click",V)],A=!0)},p(n,s){e=n,1&s[0]&&O!==(O=e[166].id+"")&&z(i,O),M===(M=j(e))&&D?D.p(e,s):(D.d(1),D=M(e),D&&(D.c(),D.m(a,null))),U===(U=H(e))&&B?B.p(e,s):(B.d(1),B=U(e),B&&(B.c(),B.m(c,null))),1&s[0]&&P!==(P=(e[166].speaker?e[166].speaker:"Unknown")+"")&&z(g,P),1&s[0]&&C(t,"done",e[166].done),32769&s[0]&&C(t,"selected",e[166]===e[15])},d(e){e&&k(t),D.d(),B.d(),A=!1,o(E)}}}function no(t){let n;return{c(){n=$("[00:00:00]")},m(e,t){b(e,n,t)},p:e,d(e){e&&k(n)}}}function so(e){let t;function n(e,t){return"start_timestamp"in e[166].excerpt_reference?io:oo}let s=n(e),o=s(e);return{c(){o.c(),t=y()},m(e,n){o.m(e,n),b(e,t,n)},p(e,i){s===(s=n(e))&&o?o.p(e,i):(o.d(1),o=s(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&k(t)}}}function oo(t){let n;return{c(){n=$("[00:00:00]")},m(e,t){b(e,n,t)},p:e,d(e){e&&k(n)}}}function io(e){let t,n,s,o=e[166].excerpt_reference.start_timestamp+"";return{c(){t=$("["),n=$(o),s=$("]")},m(e,o){b(e,t,o),b(e,n,o),b(e,s,o)},p(e,t){1&t[0]&&o!==(o=e[166].excerpt_reference.start_timestamp+"")&&z(n,o)},d(e){e&&k(t),e&&k(n),e&&k(s)}}}function ro(e){let t,n,s,o,i=e[166].quote+"",r=e[166].positivised_quote&&!e[166].show_paraphrased&&co(e);return{c(){t=$('"'),n=$(i),s=$('" '),r&&r.c(),o=y()},m(e,i){b(e,t,i),b(e,n,i),b(e,s,i),r&&r.m(e,i),b(e,o,i)},p(e,t){1&t[0]&&i!==(i=e[166].quote+"")&&z(n,i),e[166].positivised_quote&&!e[166].show_paraphrased?r?r.p(e,t):(r=co(e),r.c(),r.m(o.parentNode,o)):r&&(r.d(1),r=null)},d(e){e&&k(t),e&&k(n),e&&k(s),r&&r.d(e),e&&k(o)}}}function lo(e){let t,n,s,o,i,r,l,c=e[166].positivised_quote+"";function a(){return e[86](e[166])}return{c(){t=w("strong"),t.textContent="(Paraphrased Feedback)",n=$(' "'),s=$(c),o=$('" \n                                                    '),i=w("span"),i.textContent="(View original quote)",T(i,"class","clickable svelte-qzsvuf")},m(e,c){b(e,t,c),b(e,n,c),b(e,s,c),b(e,o,c),b(e,i,c),r||(l=_(i,"click",a),r=!0)},p(t,n){e=t,1&n[0]&&c!==(c=e[166].positivised_quote+"")&&z(s,c)},d(e){e&&k(t),e&&k(n),e&&k(s),e&&k(o),e&&k(i),r=!1,l()}}}function co(e){let t,n,s;function o(){return e[87](e[166])}return{c(){t=w("span"),t.textContent="(View paraphrased quote)",T(t,"class","clickable svelte-qzsvuf")},m(e,i){b(e,t,i),n||(s=_(t,"click",o),n=!0)},p(t,n){e=t},d(e){e&&k(t),n=!1,s()}}}function ao(e){let t,n="positive"===e[166].type&&to(e);return{c(){n&&n.c(),t=y()},m(e,s){n&&n.m(e,s),b(e,t,s)},p(e,s){"positive"===e[166].type?n?n.p(e,s):(n=to(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&k(t)}}}function uo(e){let t,n,s,i,r,l,c,a,d,u,p,g,f,h,v,y,S,q,L,F,N,R,A,E,O,P,j,M,D,I=e[166].id+"",H=e[166].speaker+"";function U(e,t){return"excerpt_reference"in e[166]?go:po}let B=U(e),Z=B(e);function J(){return e[74](e[166])}function Q(){return e[75](e[166],e[169],e[147])}function G(){return e[76](e[166])}function V(){return e[77](e[166])}function X(){return e[78](e[166])}function Y(e,t){return e[166].positivised_quote&&e[166].show_paraphrased?bo:mo}let W=Y(e),K=W(e);function ee(...t){return e[81](e[166],...t)}return{c(){t=w("div"),n=w("div"),s=w("small"),Z.c(),i=x(),r=w("div"),l=w("button"),l.innerHTML='<img src="./logos/ai-positive-paraphrase.png" alt="Paraphrase positively" class="mini-icon"/>',c=x(),a=w("button"),a.innerHTML='<img src="./logos/select-context.svg" alt="Select feedback as context" style="height: 2.3rem; width: 2.3rem;"/>',d=x(),u=w("button"),u.innerHTML='<img src="./logos/note-svgrepo-com.svg" alt="Add note" class="mini-icon"/>',p=x(),g=w("button"),g.innerHTML='<img src="./logos/delete-svgrepo-com.svg" alt="Paraphrase positively" style="height: 2rem; width: 2rem;"/>',f=x(),h=w("br"),v=x(),y=w("strong"),S=$("F#"),q=$(I),L=$(":"),F=x(),K.c(),N=x(),R=w("br"),A=x(),E=w("span"),O=$("- "),P=$(H),j=x(),T(s,"class","timestamp svelte-qzsvuf"),T(l,"class","action-button"),T(a,"class","action-button"),T(u,"class","action-button"),T(g,"class","action-button"),T(r,"class","row spaced"),T(n,"class","note-header row space-between"),T(t,"class","positive-feedback-note svelte-qzsvuf"),C(t,"selected",e[166]===e[15])},m(e,o){b(e,t,o),m(t,n),m(n,s),Z.m(s,null),m(n,i),m(n,r),m(r,l),m(r,c),m(r,a),m(r,d),m(r,u),m(r,p),m(r,g),m(t,f),m(t,h),m(t,v),m(t,y),m(y,S),m(y,q),m(y,L),m(t,F),K.m(t,null),m(t,N),m(t,R),m(t,A),m(t,E),m(E,O),m(E,P),m(t,j),M||(D=[_(s,"click",J),_(l,"click",Q),_(a,"click",G),_(u,"click",V),_(g,"click",X),_(t,"click",ee)],M=!0)},p(n,o){B===(B=U(e=n))&&Z?Z.p(e,o):(Z.d(1),Z=B(e),Z&&(Z.c(),Z.m(s,null))),1&o[0]&&I!==(I=e[166].id+"")&&z(q,I),W===(W=Y(e))&&K?K.p(e,o):(K.d(1),K=W(e),K&&(K.c(),K.m(t,N))),1&o[0]&&H!==(H=e[166].speaker+"")&&z(P,H),32769&o[0]&&C(t,"selected",e[166]===e[15])},d(e){e&&k(t),Z.d(),K.d(),M=!1,o(D)}}}function po(t){let n;return{c(){n=$("[00:00:00]")},m(e,t){b(e,n,t)},p:e,d(e){e&&k(n)}}}function go(e){let t;function n(e,t){return"start_timestamp"in e[166].excerpt_reference?ho:fo}let s=n(e),o=s(e);return{c(){o.c(),t=y()},m(e,n){o.m(e,n),b(e,t,n)},p(e,i){s===(s=n(e))&&o?o.p(e,i):(o.d(1),o=s(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&k(t)}}}function fo(t){let n;return{c(){n=$("[00:00:00]")},m(e,t){b(e,n,t)},p:e,d(e){e&&k(n)}}}function ho(e){let t,n,s,o=e[166].excerpt_reference.start_timestamp+"";return{c(){t=$("["),n=$(o),s=$("]")},m(e,o){b(e,t,o),b(e,n,o),b(e,s,o)},p(e,t){1&t[0]&&o!==(o=e[166].excerpt_reference.start_timestamp+"")&&z(n,o)},d(e){e&&k(t),e&&k(n),e&&k(s)}}}function mo(e){let t,n,s,o,i=e[166].quote+"",r=e[166].positivised_quote&&!e[166].show_paraphrased&&ko(e);return{c(){t=$('"'),n=$(i),s=$('" '),r&&r.c(),o=y()},m(e,i){b(e,t,i),b(e,n,i),b(e,s,i),r&&r.m(e,i),b(e,o,i)},p(e,t){1&t[0]&&i!==(i=e[166].quote+"")&&z(n,i),e[166].positivised_quote&&!e[166].show_paraphrased?r?r.p(e,t):(r=ko(e),r.c(),r.m(o.parentNode,o)):r&&(r.d(1),r=null)},d(e){e&&k(t),e&&k(n),e&&k(s),r&&r.d(e),e&&k(o)}}}function bo(e){let t,n,s,o,i,r,l,c=e[166].positivised_quote+"";function a(){return e[79](e[166])}return{c(){t=w("strong"),t.textContent="(Paraphrased Feedback)",n=$(' "'),s=$(c),o=$('" \n                                            '),i=w("span"),i.textContent="(View original quote)",T(i,"class","clickable svelte-qzsvuf")},m(e,c){b(e,t,c),b(e,n,c),b(e,s,c),b(e,o,c),b(e,i,c),r||(l=_(i,"click",a),r=!0)},p(t,n){e=t,1&n[0]&&c!==(c=e[166].positivised_quote+"")&&z(s,c)},d(e){e&&k(t),e&&k(n),e&&k(s),e&&k(o),e&&k(i),r=!1,l()}}}function ko(e){let t,n,s;function o(){return e[80](e[166])}return{c(){t=w("span"),t.textContent="(View paraphrased quote)",T(t,"class","clickable svelte-qzsvuf")},m(e,i){b(e,t,i),n||(s=_(t,"click",o),n=!0)},p(t,n){e=t},d(e){e&&k(t),n=!1,s()}}}function vo(e){let t,n="positive"===e[166].type&&uo(e);return{c(){n&&n.c(),t=y()},m(e,s){n&&n.m(e,s),b(e,t,s)},p(e,s){"positive"===e[166].type?n?n.p(e,s):(n=uo(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&k(t)}}}function wo(e){let t,n,s,i,r,l,c,d,u,p,g,f,h,$,y,S,z,q,F,N,C,R,A,E,O,P,j,M,D;function I(e,t){return e[31]&&"id"===e[30]?yo:xo}let H=I(e),U=H(e);function B(e,t){return e[31]&&"quote"===e[30]?So:_o}let Z=B(e),J=Z(e);function Q(e,t){return e[31]&&"speaker"===e[30]?zo:To}let G=Q(e),V=G(e),X=e[0],Y=[];for(let t=0;t<X.length;t+=1)Y[t]=Oo(Is(e,X,t));return{c(){t=w("div"),n=w("div"),s=w("span"),i=w("strong"),i.textContent="ID",r=x(),l=w("button"),U.c(),c=x(),d=w("span"),u=w("strong"),u.textContent="Feedback",p=x(),g=w("button"),J.c(),f=x(),h=w("span"),$=w("strong"),$.textContent="Speaker",y=x(),S=w("button"),V.c(),z=x(),q=w("span"),q.innerHTML="<strong>Actions</strong>",F=x(),N=w("span"),C=w("strong"),C.textContent="Done?",R=x(),A=w("button"),E=w("img"),j=x();for(let e=0;e<Y.length;e+=1)Y[e].c();T(l,"class","action-button"),T(s,"class","centered row id-col svelte-qzsvuf"),L(s,"gap","0.4rem"),T(g,"class","action-button"),T(d,"class","centered row spaced feedback-col svelte-qzsvuf"),T(S,"class","action-button"),T(h,"class","centered row spaced speaker-col svelte-qzsvuf"),T(q,"id","feedback-buttons"),T(q,"class","centered row actions-col svelte-qzsvuf"),L(E,"height","1rem"),L(E,"width","1rem"),a(E.src,O=e[31]&&"done"===e[30]?"./logos/ascending-sort-svgrepo-com.svg":"./logos/descending-sort-svgrepo-com.svg")||T(E,"src",O),T(E,"alt",P=e[31]&&"done"===e[30]?"Sort ascending":"Sort descending"),T(E,"class","mini-icon"),T(A,"class","action-button"),T(N,"class","centered row spaced done-col svelte-qzsvuf"),T(n,"class","feedback-header row svelte-qzsvuf"),T(t,"class","column"),L(t,"overflow-y","auto")},m(o,a){b(o,t,a),m(t,n),m(n,s),m(s,i),m(s,r),m(s,l),U.m(l,null),m(n,c),m(n,d),m(d,u),m(d,p),m(d,g),J.m(g,null),m(n,f),m(n,h),m(h,$),m(h,y),m(h,S),V.m(S,null),m(n,z),m(n,q),m(n,F),m(n,N),m(N,C),m(N,R),m(N,A),m(A,E),m(t,j);for(let e=0;e<Y.length;e+=1)Y[e]&&Y[e].m(t,null);M||(D=[_(l,"click",e[61]),_(g,"click",e[62]),_(S,"click",e[63]),_(A,"click",e[64])],M=!0)},p(e,n){if(H!==(H=I(e))&&(U.d(1),U=H(e),U&&(U.c(),U.m(l,null))),Z!==(Z=B(e))&&(J.d(1),J=Z(e),J&&(J.c(),J.m(g,null))),G!==(G=Q(e))&&(V.d(1),V=G(e),V&&(V.c(),V.m(S,null))),1073741824&n[0]|1&n[1]&&!a(E.src,O=e[31]&&"done"===e[30]?"./logos/ascending-sort-svgrepo-com.svg":"./logos/descending-sort-svgrepo-com.svg")&&T(E,"src",O),1073741824&n[0]|1&n[1]&&P!==(P=e[31]&&"done"===e[30]?"Sort ascending":"Sort descending")&&T(E,"alt",P),362513&n[0]|2240&n[1]){let s;for(X=e[0],s=0;s<X.length;s+=1){const o=Is(e,X,s);Y[s]?Y[s].p(o,n):(Y[s]=Oo(o),Y[s].c(),Y[s].m(t,null))}for(;s<Y.length;s+=1)Y[s].d(1);Y.length=X.length}},d(e){e&&k(t),U.d(),J.d(),V.d(),v(Y,e),M=!1,o(D)}}}function $o(e){let t,n=e[0],s=[];for(let t=0;t<n.length;t+=1)s[t]=Zo(Hs(e,n,t));return{c(){t=w("div");for(let e=0;e<s.length;e+=1)s[e].c();T(t,"class","grid svelte-qzsvuf"),L(t,"overflow-y","auto")},m(e,n){b(e,t,n);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,null)},p(e,o){if(362513&o[0]|2240&o[1]){let i;for(n=e[0],i=0;i<n.length;i+=1){const r=Hs(e,n,i);s[i]?s[i].p(r,o):(s[i]=Zo(r),s[i].c(),s[i].m(t,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}},d(e){e&&k(t),v(s,e)}}}function xo(e){let t,n;return{c(){t=w("img"),L(t,"height","1rem"),L(t,"width","1rem"),a(t.src,n="./logos/descending-sort-svgrepo-com.svg")||T(t,"src","./logos/descending-sort-svgrepo-com.svg"),T(t,"alt","Sort descending"),T(t,"class","mini-icon")},m(e,n){b(e,t,n)},d(e){e&&k(t)}}}function yo(e){let t,n;return{c(){t=w("img"),L(t,"height","1rem"),L(t,"width","1rem"),a(t.src,n="./logos/ascending-sort-svgrepo-com.svg")||T(t,"src","./logos/ascending-sort-svgrepo-com.svg"),T(t,"alt","Sort ascending"),T(t,"class","mini-icon")},m(e,n){b(e,t,n)},d(e){e&&k(t)}}}function _o(e){let t,n;return{c(){t=w("img"),L(t,"height","1rem"),L(t,"width","1rem"),a(t.src,n="./logos/descending-sort-svgrepo-com.svg")||T(t,"src","./logos/descending-sort-svgrepo-com.svg"),T(t,"alt","Sort descending"),T(t,"class","mini-icon")},m(e,n){b(e,t,n)},d(e){e&&k(t)}}}function So(e){let t,n;return{c(){t=w("img"),L(t,"height","1rem"),L(t,"width","1rem"),a(t.src,n="./logos/ascending-sort-svgrepo-com.svg")||T(t,"src","./logos/ascending-sort-svgrepo-com.svg"),T(t,"alt","Sort ascending"),T(t,"class","mini-icon")},m(e,n){b(e,t,n)},d(e){e&&k(t)}}}function To(e){let t,n;return{c(){t=w("img"),L(t,"height","1rem"),L(t,"width","1rem"),a(t.src,n="./logos/descending-sort-svgrepo-com.svg")||T(t,"src","./logos/descending-sort-svgrepo-com.svg"),T(t,"alt","Sort descending"),T(t,"class","mini-icon")},m(e,n){b(e,t,n)},d(e){e&&k(t)}}}function zo(e){let t,n;return{c(){t=w("img"),L(t,"height","1rem"),L(t,"width","1rem"),a(t.src,n="./logos/ascending-sort-svgrepo-com.svg")||T(t,"src","./logos/ascending-sort-svgrepo-com.svg"),T(t,"alt","Sort ascending"),T(t,"class","mini-icon")},m(e,n){b(e,t,n)},d(e){e&&k(t)}}}function qo(e){let t,n,s,i,r,l,c,a,d,u,p,g,f,h,v,y,S,q,L,F,N,R,A,E,O,P,j,M=e[166].id+"",D=(e[166].speaker?e[166].speaker:"Unknown")+"";function I(e,t){return"excerpt_reference"in e[166]?Fo:Lo}let H=I(e),U=H(e);function B(){return e[65](e[166])}function Z(e,t){return e[166].positivised_quote&&e[166].show_paraphrased?Ao:Ro}let J=Z(e),Q=J(e);function G(){return e[68](e[166],e[168],e[147])}function V(){return e[69](e[166])}function X(){return e[70](e[166])}function Y(){return e[71](e[166])}function W(){e[72].call(E,e[168],e[147])}function K(...t){return e[73](e[166],...t)}return{c(){t=w("div"),n=w("span"),s=w("strong"),i=$(M),r=x(),l=w("div"),c=w("span"),a=w("span"),U.c(),d=x(),Q.c(),u=x(),p=w("span"),g=$(D),f=x(),h=w("div"),v=w("button"),v.innerHTML='<img src="./logos/ai-positive-paraphrase.png" alt="Paraphrase positively" class="action-icon"/>\n                                                Positivize',y=x(),S=w("button"),S.innerHTML='<img src="./logos/select-context.svg" alt="Select feedback as context" style="height: 3.3rem; width: 3.3rem;"/>\n                                                Select Context',q=x(),L=w("button"),L.innerHTML='<img src="./logos/note-svgrepo-com.svg" alt="Remove feedback" class="action-icon"/>\n                                                Add Note',F=x(),N=w("button"),N.innerHTML='<img src="./logos/delete-svgrepo-com.svg" alt="Remove feedback" class="action-icon"/>\n                                                Delete',R=x(),A=w("span"),E=w("input"),O=x(),T(n,"class","id-col svelte-qzsvuf"),T(a,"class","timestamp svelte-qzsvuf"),T(c,"class",""),T(l,"class","column feedback-col svelte-qzsvuf"),T(p,"class","centered speaker-col svelte-qzsvuf"),T(v,"class","action-button"),T(S,"class","action-button centered column"),T(L,"class","action-button"),T(N,"class","action-button"),T(h,"id","feedback-buttons"),T(h,"class","row centered spaced actions-col svelte-qzsvuf"),T(E,"type","checkbox"),T(A,"class","centered done-col svelte-qzsvuf"),T(t,"class","feedback-row row bordered padded svelte-qzsvuf"),C(t,"done",e[166].done),C(t,"selected",e[166]===e[15])},m(o,k){b(o,t,k),m(t,n),m(n,s),m(s,i),m(t,r),m(t,l),m(l,c),m(c,a),U.m(a,null),m(c,d),Q.m(c,null),m(t,u),m(t,p),m(p,g),m(t,f),m(t,h),m(h,v),m(h,y),m(h,S),m(h,q),m(h,L),m(h,F),m(h,N),m(t,R),m(t,A),m(A,E),E.checked=e[166].done,m(t,O),P||(j=[_(a,"click",B),_(v,"click",G),_(S,"click",V),_(L,"click",X),_(N,"click",Y),_(E,"change",W),_(t,"click",K)],P=!0)},p(n,s){e=n,1&s[0]&&M!==(M=e[166].id+"")&&z(i,M),H===(H=I(e))&&U?U.p(e,s):(U.d(1),U=H(e),U&&(U.c(),U.m(a,null))),J===(J=Z(e))&&Q?Q.p(e,s):(Q.d(1),Q=J(e),Q&&(Q.c(),Q.m(c,null))),1&s[0]&&D!==(D=(e[166].speaker?e[166].speaker:"Unknown")+"")&&z(g,D),1&s[0]&&(E.checked=e[166].done),1&s[0]&&C(t,"done",e[166].done),32769&s[0]&&C(t,"selected",e[166]===e[15])},d(e){e&&k(t),U.d(),Q.d(),P=!1,o(j)}}}function Lo(t){let n;return{c(){n=$("[00:00:00]")},m(e,t){b(e,n,t)},p:e,d(e){e&&k(n)}}}function Fo(e){let t;function n(e,t){return"start_timestamp"in e[166].excerpt_reference?Co:No}let s=n(e),o=s(e);return{c(){o.c(),t=y()},m(e,n){o.m(e,n),b(e,t,n)},p(e,i){s===(s=n(e))&&o?o.p(e,i):(o.d(1),o=s(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&k(t)}}}function No(t){let n;return{c(){n=$("[00:00:00]")},m(e,t){b(e,n,t)},p:e,d(e){e&&k(n)}}}function Co(e){let t,n,s,o=e[166].excerpt_reference.start_timestamp+"";return{c(){t=$("["),n=$(o),s=$("]")},m(e,o){b(e,t,o),b(e,n,o),b(e,s,o)},p(e,t){1&t[0]&&o!==(o=e[166].excerpt_reference.start_timestamp+"")&&z(n,o)},d(e){e&&k(t),e&&k(n),e&&k(s)}}}function Ro(e){let t,n,s,o,i=e[166].quote+"",r=e[166].positivised_quote&&!e[166].show_paraphrased&&Eo(e);return{c(){t=$('"'),n=$(i),s=$('" '),r&&r.c(),o=y()},m(e,i){b(e,t,i),b(e,n,i),b(e,s,i),r&&r.m(e,i),b(e,o,i)},p(e,t){1&t[0]&&i!==(i=e[166].quote+"")&&z(n,i),e[166].positivised_quote&&!e[166].show_paraphrased?r?r.p(e,t):(r=Eo(e),r.c(),r.m(o.parentNode,o)):r&&(r.d(1),r=null)},d(e){e&&k(t),e&&k(n),e&&k(s),r&&r.d(e),e&&k(o)}}}function Ao(e){let t,n,s,o,i,r,l,c=e[166].positivised_quote+"";function a(){return e[66](e[166])}return{c(){t=w("strong"),t.textContent="(Paraphrased Feedback)",n=$(' "'),s=$(c),o=$('" \n                                                    '),i=w("span"),i.textContent="(View original quote)",T(i,"class","clickable svelte-qzsvuf")},m(e,c){b(e,t,c),b(e,n,c),b(e,s,c),b(e,o,c),b(e,i,c),r||(l=_(i,"click",a),r=!0)},p(t,n){e=t,1&n[0]&&c!==(c=e[166].positivised_quote+"")&&z(s,c)},d(e){e&&k(t),e&&k(n),e&&k(s),e&&k(o),e&&k(i),r=!1,l()}}}function Eo(e){let t,n,s;function o(){return e[67](e[166])}return{c(){t=w("span"),t.textContent="(View paraphrased quote)",T(t,"class","clickable svelte-qzsvuf")},m(e,i){b(e,t,i),n||(s=_(t,"click",o),n=!0)},p(t,n){e=t},d(e){e&&k(t),n=!1,s()}}}function Oo(e){let t,n="critical"===e[166].type&&qo(e);return{c(){n&&n.c(),t=y()},m(e,s){n&&n.m(e,s),b(e,t,s)},p(e,s){"critical"===e[166].type?n?n.p(e,s):(n=qo(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&k(t)}}}function Po(e){let t,n,s,i,r,l,c,a,d,u,p,g,f,h,v,y,S,q,L,F,N,R,A,E,O,P,j,M,D,I,H,U,B=e[166].id+"",Z=e[166].speaker+"";function J(e,t){return"excerpt_reference"in e[166]?Mo:jo}let Q=J(e),G=Q(e);function V(){return e[52](e[166])}function X(){return e[53](e[166],e[167],e[147])}function Y(){return e[54](e[166])}function W(){return e[55](e[166])}function K(){return e[56](e[166])}function ee(){e[57].call(v,e[167],e[147])}function te(e,t){return e[166].positivised_quote&&e[166].show_paraphrased?Uo:Ho}let ne=te(e),se=ne(e);function oe(...t){return e[60](e[166],...t)}return{c(){t=w("div"),n=w("div"),s=w("small"),G.c(),i=x(),r=w("div"),l=w("button"),l.innerHTML='<img src="./logos/ai-positive-paraphrase.png" alt="Paraphrase positively" class="mini-icon"/>',c=x(),a=w("button"),a.innerHTML='<img src="./logos/select-context.svg" alt="Select feedback as context" style="height: 2.3rem; width: 2.3rem;"/>',d=x(),u=w("button"),u.innerHTML='<img src="./logos/note-svgrepo-com.svg" alt="Add note" class="mini-icon"/>',p=x(),g=w("button"),g.innerHTML='<img src="./logos/delete-svgrepo-com.svg" alt="Remove critical feedback" style="height: 2rem; width: 2rem;"/>',f=x(),h=w("span"),v=w("input"),y=x(),S=w("br"),q=x(),L=w("strong"),F=$("F#"),N=$(B),R=$(":"),A=x(),se.c(),E=x(),O=w("br"),P=x(),j=w("span"),M=$("- "),D=$(Z),I=x(),T(s,"class","timestamp svelte-qzsvuf"),T(l,"class","action-button"),T(a,"class","action-button"),T(u,"class","action-button"),T(g,"class","action-button"),T(v,"type","checkbox"),T(h,"class","centered"),T(r,"class","row spaced"),T(n,"class","note-header row space-between"),T(t,"class","critical-feedback-note svelte-qzsvuf"),C(t,"done",e[166].done),C(t,"selected",e[166]===e[15])},m(o,k){b(o,t,k),m(t,n),m(n,s),G.m(s,null),m(n,i),m(n,r),m(r,l),m(r,c),m(r,a),m(r,d),m(r,u),m(r,p),m(r,g),m(r,f),m(r,h),m(h,v),v.checked=e[166].done,m(t,y),m(t,S),m(t,q),m(t,L),m(L,F),m(L,N),m(L,R),m(t,A),se.m(t,null),m(t,E),m(t,O),m(t,P),m(t,j),m(j,M),m(j,D),m(t,I),H||(U=[_(s,"click",V),_(l,"click",X),_(a,"click",Y),_(u,"click",W),_(g,"click",K),_(v,"change",ee),_(t,"click",oe)],H=!0)},p(n,o){Q===(Q=J(e=n))&&G?G.p(e,o):(G.d(1),G=Q(e),G&&(G.c(),G.m(s,null))),1&o[0]&&(v.checked=e[166].done),1&o[0]&&B!==(B=e[166].id+"")&&z(N,B),ne===(ne=te(e))&&se?se.p(e,o):(se.d(1),se=ne(e),se&&(se.c(),se.m(t,E))),1&o[0]&&Z!==(Z=e[166].speaker+"")&&z(D,Z),1&o[0]&&C(t,"done",e[166].done),32769&o[0]&&C(t,"selected",e[166]===e[15])},d(e){e&&k(t),G.d(),se.d(),H=!1,o(U)}}}function jo(t){let n;return{c(){n=$("[00:00:00]")},m(e,t){b(e,n,t)},p:e,d(e){e&&k(n)}}}function Mo(e){let t;function n(e,t){return"start_timestamp"in e[166].excerpt_reference?Io:Do}let s=n(e),o=s(e);return{c(){o.c(),t=y()},m(e,n){o.m(e,n),b(e,t,n)},p(e,i){s===(s=n(e))&&o?o.p(e,i):(o.d(1),o=s(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&k(t)}}}function Do(t){let n;return{c(){n=$("[00:00:00]")},m(e,t){b(e,n,t)},p:e,d(e){e&&k(n)}}}function Io(e){let t,n,s,o=e[166].excerpt_reference.start_timestamp+"";return{c(){t=$("["),n=$(o),s=$("]")},m(e,o){b(e,t,o),b(e,n,o),b(e,s,o)},p(e,t){1&t[0]&&o!==(o=e[166].excerpt_reference.start_timestamp+"")&&z(n,o)},d(e){e&&k(t),e&&k(n),e&&k(s)}}}function Ho(e){let t,n,s,o,i=e[166].quote+"",r=e[166].positivised_quote&&!e[166].show_paraphrased&&Bo(e);return{c(){t=$('"'),n=$(i),s=$('" '),r&&r.c(),o=y()},m(e,i){b(e,t,i),b(e,n,i),b(e,s,i),r&&r.m(e,i),b(e,o,i)},p(e,t){1&t[0]&&i!==(i=e[166].quote+"")&&z(n,i),e[166].positivised_quote&&!e[166].show_paraphrased?r?r.p(e,t):(r=Bo(e),r.c(),r.m(o.parentNode,o)):r&&(r.d(1),r=null)},d(e){e&&k(t),e&&k(n),e&&k(s),r&&r.d(e),e&&k(o)}}}function Uo(e){let t,n,s,o,i,r,l,c=e[166].positivised_quote+"";function a(){return e[58](e[166])}return{c(){t=w("strong"),t.textContent="(Paraphrased Feedback)",n=$(' "'),s=$(c),o=$('" \n                                            '),i=w("span"),i.textContent="(View original quote)",T(i,"class","clickable svelte-qzsvuf")},m(e,c){b(e,t,c),b(e,n,c),b(e,s,c),b(e,o,c),b(e,i,c),r||(l=_(i,"click",a),r=!0)},p(t,n){e=t,1&n[0]&&c!==(c=e[166].positivised_quote+"")&&z(s,c)},d(e){e&&k(t),e&&k(n),e&&k(s),e&&k(o),e&&k(i),r=!1,l()}}}function Bo(e){let t,n,s;function o(){return e[59](e[166])}return{c(){t=w("span"),t.textContent="(View paraphrased quote)",T(t,"class","clickable svelte-qzsvuf")},m(e,i){b(e,t,i),n||(s=_(t,"click",o),n=!0)},p(t,n){e=t},d(e){e&&k(t),n=!1,s()}}}function Zo(e){let t,n="critical"===e[166].type&&Po(e);return{c(){n&&n.c(),t=y()},m(e,s){n&&n.m(e,s),b(e,t,s)},p(e,s){"critical"===e[166].type?n?n.p(e,s):(n=Po(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&k(t)}}}function Jo(e){let t,n,s,o,i=e[164]+"";function r(){return e[93](e[147])}return{c(){t=w("button"),n=$(i),T(t,"class","tab svelte-qzsvuf"),C(t,"active",e[147]===e[16]),C(t,"right-bordered",e[147]<e[36].length-1)},m(e,i){b(e,t,i),m(t,n),s||(o=_(t,"click",r),s=!0)},p(n,s){e=n,65536&s[0]&&C(t,"active",e[147]===e[16])},d(e){e&&k(t),s=!1,o()}}}function Qo(e){let t,n,s,i,r,l,c,a,d,u,p,g,f,h,v,$,y,S,z,q,F,N;const R=[Yo,Xo],A=[];function E(e,t){return e[3].length>0?0:1}l=E(e),c=A[l]=R[l](e);let O=e[32]&&Ko(e);const P=[ti,ei],j=[];function M(e,t){return 16&t[0]&&(y=null),null==y&&(y=!!(Object.keys(e[4]).length>0)),y?0:1}return S=M(e,[-1,-1,-1,-1,-1,-1]),z=j[S]=P[S](e),{c(){t=w("div"),n=w("div"),s=w("div"),s.innerHTML='<span style="text-decoration: underline;"><strong>My Notes</strong></span>',i=x(),r=w("div"),c.c(),a=x(),O&&O.c(),d=x(),u=w("div"),p=w("button"),p.innerHTML='<img src="./logos/note-svgrepo-com.svg" alt="Add Note" class="action-icon"/>\n                                    Add Note',g=x(),f=w("button"),f.innerHTML='<img src="./logos/delete-svgrepo-com.svg" alt="Delete all notes" class="action-icon"/>\n                                    Delete all',h=x(),v=w("div"),v.innerHTML='<span style="text-decoration: underline;"><strong>My Feedback Notes</strong></span>',$=x(),z.c(),T(s,"class","row centered"),L(s,"width","100%"),L(s,"height","auto"),T(r,"class","column bordered"),L(r,"width","100%"),L(r,"height","auto"),C(r,"centered",e[3].length<=0),T(p,"class","action-button centered column"),T(f,"class","action-button centered column"),T(u,"class","row centered spaced"),T(n,"class","column centered spaced padded"),L(n,"width","100%"),L(n,"height","auto"),T(v,"class","row centered"),L(v,"width","100%"),L(v,"height","auto"),T(t,"class","column spaced padded"),L(t,"width","100%"),L(t,"height","100%"),L(t,"overflow-y","auto")},m(o,c){b(o,t,c),m(t,n),m(n,s),m(n,i),m(n,r),A[l].m(r,null),m(r,a),O&&O.m(r,null),m(n,d),m(n,u),m(u,p),m(u,g),m(u,f),m(t,h),m(t,v),m(t,$),j[S].m(t,null),q=!0,F||(N=[_(p,"click",e[134]),_(f,"click",e[135])],F=!0)},p(e,n){let s=l;l=E(e),l===s?A[l].p(e,n):(K(),ne(A[s],1,1,(()=>{A[s]=null})),ee(),c=A[l],c?c.p(e,n):(c=A[l]=R[l](e),c.c()),te(c,1),c.m(r,a)),e[32]?O?O.p(e,n):(O=Ko(e),O.c(),O.m(r,null)):O&&(O.d(1),O=null),(!q||8&n[0])&&C(r,"centered",e[3].length<=0);let o=S;S=M(e,n),S===o?j[S].p(e,n):(K(),ne(j[o],1,1,(()=>{j[o]=null})),ee(),z=j[S],z?z.p(e,n):(z=j[S]=P[S](e),z.c()),te(z,1),z.m(t,null))},i(e){q||(te(c),te(z),q=!0)},o(e){ne(c),ne(z),q=!1},d(e){e&&k(t),A[l].d(),O&&O.d(),j[S].d(),F=!1,o(N)}}}function Go(e){let t,n,s,i,r,l,c,d,u,p,g,f,h,$,y,S,z,q=Object.keys(e[34]),N=[];for(let t=0;t<q.length;t+=1)N[t]=li(Os(e,q,t));const R=[ai,ci],A=[];function E(e,t){return e[7]?1:0}return h=E(e),$=A[h]=R[h](e),{c(){t=w("div"),n=w("div"),s=w("div"),i=w("span"),i.textContent="Model:",r=x(),l=w("select");for(let e=0;e<N.length;e+=1)N[e].c();c=x(),d=w("button"),u=w("img"),f=x(),$.c(),void 0===e[8]&&Z((()=>e[99].call(l))),T(s,"class","row spaced centered"),L(s,"height","auto"),L(s,"width","100%"),C(s,"gone",e[7]),T(u,"class","action-icon"),a(u.src,p=e[7]?"./logos/exit-svgrepo-com.svg":"./logos/settings-svgrepo-com.svg")||T(u,"src",p),T(u,"alt",g=e[7]?"Exit chatbot settings":"Open chatbot settings"),L(u,"width","2.5rem"),L(u,"height","2.5rem"),T(d,"class","action-button"),T(n,"id","chatbot-header"),T(n,"class","padded row space-between svelte-qzsvuf"),T(t,"id","chatbot-tab-content"),T(t,"class","column svelte-qzsvuf")},m(o,a){b(o,t,a),m(t,n),m(n,s),m(s,i),m(s,r),m(s,l);for(let e=0;e<N.length;e+=1)N[e]&&N[e].m(l,null);F(l,e[8],!0),m(n,c),m(n,d),m(d,u),m(t,f),A[h].m(t,null),y=!0,S||(z=[_(l,"change",e[99]),_(d,"click",e[100])],S=!0)},p(e,n){if(8&n[1]){let t;for(q=Object.keys(e[34]),t=0;t<q.length;t+=1){const s=Os(e,q,t);N[t]?N[t].p(s,n):(N[t]=li(s),N[t].c(),N[t].m(l,null))}for(;t<N.length;t+=1)N[t].d(1);N.length=q.length}256&n[0]|8&n[1]&&F(l,e[8]),(!y||128&n[0])&&C(s,"gone",e[7]),(!y||128&n[0]&&!a(u.src,p=e[7]?"./logos/exit-svgrepo-com.svg":"./logos/settings-svgrepo-com.svg"))&&T(u,"src",p),(!y||128&n[0]&&g!==(g=e[7]?"Exit chatbot settings":"Open chatbot settings"))&&T(u,"alt",g);let o=h;h=E(e),h===o?A[h].p(e,n):(K(),ne(A[o],1,1,(()=>{A[o]=null})),ee(),$=A[h],$?$.p(e,n):($=A[h]=R[h](e),$.c()),te($,1),$.m(t,null))},i(e){y||(te($),y=!0)},o(e){ne($),y=!1},d(e){e&&k(t),v(N,e),A[h].d(),S=!1,o(z)}}}function Vo(t){let n,s,o,i;function r(e,t){return e[6]&&e[6].video?zi:e[6]&&e[6].audio?Ti:Si}let l=r(t),c=l(t),a=t[6]&&t[6].transcript&&qi(t);return{c(){n=w("div"),s=w("div"),c.c(),o=x(),i=w("div"),a&&a.c(),T(s,"id","media-player-area"),T(s,"class","bordered svelte-qzsvuf"),T(i,"id","transcript-area"),T(i,"class","column bordered spaced svelte-qzsvuf"),T(n,"class","column padded spaced"),L(n,"width","100%"),L(n,"height","100%")},m(e,t){b(e,n,t),m(n,s),c.m(s,null),m(n,o),m(n,i),a&&a.m(i,null)},p(e,t){l===(l=r(e))&&c?c.p(e,t):(c.d(1),c=l(e),c&&(c.c(),c.m(s,null))),e[6]&&e[6].transcript?a?a.p(e,t):(a=qi(e),a.c(),a.m(i,null)):a&&(a.d(1),a=null)},i:e,o:e,d(e){e&&k(n),c.d(),a&&a.d()}}}function Xo(t){let n;return{c(){n=w("div"),n.innerHTML="<span>No notes added. Feel free to add a note.</span>",T(n,"class","row padded space-between centered")},m(e,t){b(e,n,t)},p:e,i:e,o:e,d(e){e&&k(n)}}}function Yo(e){let t,n,s=e[3],o=[];for(let t=0;t<s.length;t+=1)o[t]=Wo(Cs(e,s,t));const i=e=>ne(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=y()},m(e,s){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,s);b(e,t,s),n=!0},p(e,n){if(8&n[0]|65536&n[1]){let r;for(s=e[3],r=0;r<s.length;r+=1){const i=Cs(e,s,r);o[r]?(o[r].p(i,n),te(o[r],1)):(o[r]=Wo(i),o[r].c(),te(o[r],1),o[r].m(t.parentNode,t))}for(K(),r=s.length;r<o.length;r+=1)i(r);ee()}},i(e){if(!n){for(let e=0;e<s.length;e+=1)te(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)ne(o[e]);n=!1},d(e){v(o,e),e&&k(t)}}}function Wo(e){let t,n,s,o,i,r,l,c,a,d;function u(){return e[130](e[147],e[161])}return s=new Ls({props:{source:e[161]}}),{c(){t=w("div"),n=w("div"),re(s.$$.fragment),o=x(),i=w("div"),r=w("button"),r.innerHTML='<img src="./logos/delete-x-svgrepo-com.svg" alt="Delete note" class="mini-icon"/>',l=x(),L(n,"width","95%"),L(n,"align-items","flex-start"),T(r,"class","action-button"),T(i,"class","row spaced"),L(i,"width","5%"),L(i,"align-items","flex-start"),T(t,"class","row padded bordered space-between")},m(e,p){b(e,t,p),m(t,n),le(s,n,null),m(t,o),m(t,i),m(i,r),m(t,l),c=!0,a||(d=_(r,"click",u),a=!0)},p(t,n){e=t;const o={};8&n[0]&&(o.source=e[161]),s.$set(o)},i(e){c||(te(s.$$.fragment,e),c=!0)},o(e){ne(s.$$.fragment,e),c=!1},d(e){e&&k(t),ce(s),a=!1,d()}}}function Ko(e){let t,n,s,i,r,l,c,a,d;return{c(){t=w("div"),n=w("input"),s=x(),i=w("div"),r=w("button"),r.innerHTML='<img src="./logos/check-svgrepo-com.svg" alt="Confirm adding note" class="mini-icon"/>',l=x(),c=w("button"),c.innerHTML='<img src="./logos/delete-x-svgrepo-com.svg" alt="Cancel adding note" class="mini-icon"/>',T(n,"class","note-input svelte-qzsvuf"),T(n,"type","text"),T(n,"placeholder","Enter your note here"),T(r,"class","action-button"),T(c,"class","action-button"),T(i,"class","row spaced"),T(t,"class","row padded bordered space-between"),L(t,"width","100%"),L(t,"height","auto")},m(o,u){b(o,t,u),m(t,n),q(n,e[33]),m(t,s),m(t,i),m(i,r),m(i,l),m(i,c),a||(d=[_(n,"input",e[131]),_(r,"click",e[132]),_(c,"click",e[133])],a=!0)},p(e,t){4&t[1]&&n.value!==e[33]&&q(n,e[33])},d(e){e&&k(t),a=!1,o(d)}}}function ei(t){let n;return{c(){n=w("div"),n.innerHTML='<div class="row space-between centered" style="width:100%; height:auto;"><span>No feedback notes added. Feel free to add notes on your feedback by clicking &quot;Add Note&quot; on any of the critical feedback.</span></div>',T(n,"class","column centered spaced padded"),L(n,"width","100%"),L(n,"height","auto")},m(e,t){b(e,n,t)},p:e,i:e,o:e,d(e){e&&k(n)}}}function ti(e){let t,n,s=Object.keys(e[4]).map(Number).sort(Ri),o=[];for(let t=0;t<s.length;t+=1)o[t]=ri(Fs(e,s,t));const i=e=>ne(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=y()},m(e,s){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,s);b(e,t,s),n=!0},p(e,n){if(17&n[0]|196612&n[1]){let r;for(s=Object.keys(e[4]).map(Number).sort(Ri),r=0;r<s.length;r+=1){const i=Fs(e,s,r);o[r]?(o[r].p(i,n),te(o[r],1)):(o[r]=ri(i),o[r].c(),te(o[r],1),o[r].m(t.parentNode,t))}for(K(),r=s.length;r<o.length;r+=1)i(r);ee()}},i(e){if(!n){for(let e=0;e<s.length;e+=1)te(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)ne(o[e]);n=!1},d(e){v(o,e),e&&k(t)}}}function ni(t){let n;return{c(){n=w("div"),n.innerHTML="<span>No notes added. Feel free to add a note.</span>",T(n,"class","row padded centered space-between")},m(e,t){b(e,n,t)},p:e,i:e,o:e,d(e){e&&k(n)}}}function si(e){let t,n,s=e[4][e[158]].notes,o=[];for(let t=0;t<s.length;t+=1)o[t]=oi(Ns(e,s,t));const i=e=>ne(o[e],1,1,(()=>{o[e]=null}));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=y()},m(e,s){for(let t=0;t<o.length;t+=1)o[t]&&o[t].m(e,s);b(e,t,s),n=!0},p(e,n){if(16&n[0]|65536&n[1]){let r;for(s=e[4][e[158]].notes,r=0;r<s.length;r+=1){const i=Ns(e,s,r);o[r]?(o[r].p(i,n),te(o[r],1)):(o[r]=oi(i),o[r].c(),te(o[r],1),o[r].m(t.parentNode,t))}for(K(),r=s.length;r<o.length;r+=1)i(r);ee()}},i(e){if(!n){for(let e=0;e<s.length;e+=1)te(o[e]);n=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)ne(o[e]);n=!1},d(e){v(o,e),e&&k(t)}}}function oi(e){let t,n,s,o,i,r,l,c,d,u,p,g,f;function h(){return e[137](e[147],e[158],e[161])}return s=new Ls({props:{source:e[161]}}),{c(){t=w("div"),n=w("div"),re(s.$$.fragment),o=x(),i=w("div"),r=w("button"),l=w("img"),u=x(),L(n,"width","95%"),L(n,"align-items","flex-start"),a(l.src,c="./logos/delete-x-svgrepo-com.svg")||T(l,"src","./logos/delete-x-svgrepo-com.svg"),T(l,"alt",d="Delete note from Feedback ID"+e[158]),T(l,"class","mini-icon"),T(r,"class","action-button"),T(i,"class","row space-between"),L(i,"width","5%"),L(i,"align-items","flex-start"),T(t,"class","row padded bordered space-between")},m(e,c){b(e,t,c),m(t,n),le(s,n,null),m(t,o),m(t,i),m(i,r),m(r,l),m(t,u),p=!0,g||(f=_(r,"click",h),g=!0)},p(t,n){e=t;const o={};16&n[0]&&(o.source=e[161]),s.$set(o),(!p||16&n[0]&&d!==(d="Delete note from Feedback ID"+e[158]))&&T(l,"alt",d)},i(e){p||(te(s.$$.fragment,e),p=!0)},o(e){ne(s.$$.fragment,e),p=!1},d(e){e&&k(t),ce(s),g=!1,f()}}}function ii(e){let t,n,s,i,r,l,c,a,d;function u(){return e[139](e[158])}function p(){return e[140](e[158])}return{c(){t=w("div"),n=w("input"),s=x(),i=w("div"),r=w("button"),r.innerHTML='<img src="./logos/check-svgrepo-com.svg" alt="Confirm adding note" class="mini-icon"/>',l=x(),c=w("button"),c.innerHTML='<img src="./logos/delete-x-svgrepo-com.svg" alt="Cancel adding note" class="mini-icon"/>',T(n,"class","note-input svelte-qzsvuf"),T(n,"type","text"),T(n,"placeholder","Enter your note here"),T(r,"class","action-button"),T(c,"class","action-button"),T(i,"class","row spaced"),T(t,"class","row padded bordered space-between"),L(t,"width","100%"),L(t,"height","auto")},m(o,g){b(o,t,g),m(t,n),q(n,e[33]),m(t,s),m(t,i),m(i,r),m(i,l),m(i,c),a||(d=[_(n,"input",e[138]),_(r,"click",u),_(c,"click",p)],a=!0)},p(t,s){e=t,4&s[1]&&n.value!==e[33]&&q(n,e[33])},d(e){e&&k(t),a=!1,o(d)}}}function ri(e){let t,n,s,i,r,l,c,a,d,u,p,g,f,h,v,y,S,q,F,N,R,A,E,O,P,j,M,D=e[158]+"",I=e[0][e[158]-1].quote.slice(0,70)+"";function H(){return e[136](e[158])}const U=[si,ni],B=[];function Z(e,t){return e[4][e[158]].notes.length>0?0:1}v=Z(e),y=B[v]=U[v](e);let J=e[4][e[158]].is_adding&&ii(e);function Q(){return e[141](e[158])}function G(){return e[142](e[158])}return{c(){t=w("div"),n=w("div"),s=w("span"),i=w("strong"),r=$("Feedback #"),l=$(D),c=$(" Notes:"),a=x(),d=$(I),u=$("..."),p=x(),g=w("button"),g.innerHTML='<img src="./logos/delete-x-svgrepo-com.svg" alt="Remove feedback notes section" class="mini-icon"/>',f=x(),h=w("div"),y.c(),S=x(),J&&J.c(),q=x(),F=w("div"),N=w("button"),N.innerHTML='<img src="./logos/note-svgrepo-com.svg" alt="Add Note" class="action-icon"/>\n                                            Add Note',R=x(),A=w("button"),A.innerHTML='<img src="./logos/delete-svgrepo-com.svg" alt="Delete all notes" class="action-icon"/>\n                                            Delete all',E=x(),T(g,"class","action-button"),T(n,"class","row space-between"),L(n,"width","100%"),L(n,"height","auto"),T(h,"class","column bordered"),L(h,"width","100%"),L(h,"height","auto"),C(h,"centered",e[4][e[158]].notes.length<=0),T(N,"class","action-button centered column"),T(A,"class","action-button centered column"),T(F,"class","row centered spaced"),T(t,"id",O="feedback-note-section-"+e[158]),T(t,"class","column centered spaced padded svelte-qzsvuf"),L(t,"width","100%"),L(t,"height","auto")},m(e,o){b(e,t,o),m(t,n),m(n,s),m(s,i),m(i,r),m(i,l),m(i,c),m(s,a),m(s,d),m(s,u),m(n,p),m(n,g),m(t,f),m(t,h),B[v].m(h,null),m(h,S),J&&J.m(h,null),m(t,q),m(t,F),m(F,N),m(F,R),m(F,A),m(t,E),P=!0,j||(M=[_(g,"click",H),_(N,"click",Q),_(A,"click",G)],j=!0)},p(n,s){e=n,(!P||16&s[0])&&D!==(D=e[158]+"")&&z(l,D),(!P||17&s[0])&&I!==(I=e[0][e[158]-1].quote.slice(0,70)+"")&&z(d,I);let o=v;v=Z(e),v===o?B[v].p(e,s):(K(),ne(B[o],1,1,(()=>{B[o]=null})),ee(),y=B[v],y?y.p(e,s):(y=B[v]=U[v](e),y.c()),te(y,1),y.m(h,S)),e[4][e[158]].is_adding?J?J.p(e,s):(J=ii(e),J.c(),J.m(h,null)):J&&(J.d(1),J=null),(!P||16&s[0])&&C(h,"centered",e[4][e[158]].notes.length<=0),(!P||16&s[0]&&O!==(O="feedback-note-section-"+e[158]))&&T(t,"id",O)},i(e){P||(te(y),P=!0)},o(e){ne(y),P=!1},d(e){e&&k(t),B[v].d(),J&&J.d(),j=!1,o(M)}}}function li(t){let n,s,o=t[153]+"";return{c(){n=w("option"),s=$(o),n.__value=t[153],n.value=n.__value},m(e,t){b(e,n,t),m(n,s)},p:e,d(e){e&&k(n)}}}function ci(e){let t,n,s,i,r,l,c,d,u,p,g,f,h,y,S,z,q,N,R,A,E,O,P,j,M,I,H,U,B,Q,G,V,X,Y,W,K,ee,se,oe,ae,de,ue,pe,ge,fe,he,me=Object.keys(e[34]),be=[];for(let t=0;t<me.length;t+=1)be[t]=di(As(e,me,t));function ke(t){e[121](t)}let ve={min:"0.0",max:"2.0",step:"0.1"};function $e(t){e[122](t)}void 0!==e[9]&&(ve.value=e[9]),h=new ot({props:ve}),D.push((()=>ie(h,"value",ke)));let xe={min:"10.0",max:"4095.0",step:"1.0"};function ye(t){e[123](t)}function _e(t){e[124](t)}void 0!==e[10]&&(xe.value=e[10]),R=new ot({props:xe}),D.push((()=>ie(R,"value",$e)));let Se={};function Te(e,t){return e[1].length>0?pi:ui}void 0!==e[28]&&(Se.progress=e[28]),void 0!==e[27]&&(Se.status=e[27]),H=new we({props:Se}),D.push((()=>ie(H,"progress",ye))),D.push((()=>ie(H,"status",_e)));let ze=Te(e),qe=ze(e);return{c(){t=w("div"),n=w("div"),s=w("span"),s.innerHTML="<strong>Configurations</strong>",i=x(),r=w("div"),l=w("span"),l.textContent="Model:",c=x(),d=w("select");for(let e=0;e<be.length;e+=1)be[e].c();u=x(),p=w("div"),g=w("span"),g.textContent="Temperature:",f=x(),re(h.$$.fragment),S=x(),z=w("div"),q=w("span"),q.textContent="Max Output Tokens:",N=x(),re(R.$$.fragment),E=x(),O=w("div"),P=w("span"),P.innerHTML="<strong>Chatbot&#39;s Documents</strong>",j=x(),M=w("div"),I=w("div"),re(H.$$.fragment),Q=x(),qe.c(),G=x(),V=w("div"),X=w("input"),Y=x(),W=w("button"),K=w("img"),se=$("\n                                            Add Document"),oe=x(),ae=w("button"),de=w("img"),pe=$("\n                                            Remove All"),void 0===e[8]&&Z((()=>e[120].call(d))),T(r,"class","row spaced centered"),L(r,"height","auto"),L(r,"width","100%"),T(p,"class","row spaced"),L(p,"height","auto"),L(p,"width","100%"),T(z,"class","row spaced"),L(z,"height","auto"),L(z,"width","100%"),T(n,"id","chatbot-configurations"),T(n,"class","column centered spaced padded bordered svelte-qzsvuf"),T(I,"class","overlay centered padded"),C(I,"invisible",!1===e[29]),T(M,"id","chatbot-rag-sources"),T(M,"class","column centered spaced padded bordered"),L(M,"width","100%"),L(M,"height","auto"),L(M,"overflow-y","auto"),T(X,"type","file"),T(X,"id","document_file_input"),T(X,"class","gone"),a(K.src,ee="./logos/add-ellipse-svgrepo-com.svg")||T(K,"src","./logos/add-ellipse-svgrepo-com.svg"),T(K,"alt","Add document"),T(K,"class","action-icon"),W.disabled=e[29],T(W,"class","centered spaced column action-button"),a(de.src,ue="./logos/delete-svgrepo-com.svg")||T(de,"src","./logos/delete-svgrepo-com.svg"),T(de,"alt","Remove all documents"),T(de,"class","action-icon"),ae.disabled=e[29],T(ae,"class","centered spaced column action-button"),T(V,"id","chatbot-rag-buttons"),T(V,"class","row centered padded spaced"),L(V,"width","100%"),L(V,"height","auto"),T(O,"id","chatbot-rag-panel"),T(O,"class","column centered spaced padded bordered svelte-qzsvuf"),T(t,"id","chatbot-settings"),T(t,"class","column padded spaced"),L(t,"width","100%"),L(t,"height","95%")},m(o,a){b(o,t,a),m(t,n),m(n,s),m(n,i),m(n,r),m(r,l),m(r,c),m(r,d);for(let e=0;e<be.length;e+=1)be[e]&&be[e].m(d,null);F(d,e[8],!0),m(n,u),m(n,p),m(p,g),m(p,f),le(h,p,null),m(n,S),m(n,z),m(z,q),m(z,N),le(R,z,null),m(t,E),m(t,O),m(O,P),m(O,j),m(O,M),m(M,I),le(H,I,null),m(M,Q),qe.m(M,null),m(O,G),m(O,V),m(V,X),e[126](X),m(V,Y),m(V,W),m(W,K),m(W,se),m(V,oe),m(V,ae),m(ae,de),m(ae,pe),ge=!0,fe||(he=[_(d,"change",e[120]),_(X,"change",e[127]),_(W,"click",e[128]),_(ae,"click",e[129])],fe=!0)},p(e,t){if(8&t[1]){let n;for(me=Object.keys(e[34]),n=0;n<me.length;n+=1){const s=As(e,me,n);be[n]?be[n].p(s,t):(be[n]=di(s),be[n].c(),be[n].m(d,null))}for(;n<be.length;n+=1)be[n].d(1);be.length=me.length}256&t[0]|8&t[1]&&F(d,e[8]);const n={};!y&&512&t[0]&&(y=!0,n.value=e[9],J((()=>y=!1))),h.$set(n);const s={};!A&&1024&t[0]&&(A=!0,s.value=e[10],J((()=>A=!1))),R.$set(s);const o={};!U&&268435456&t[0]&&(U=!0,o.progress=e[28],J((()=>U=!1))),!B&&134217728&t[0]&&(B=!0,o.status=e[27],J((()=>B=!1))),H.$set(o),(!ge||536870912&t[0])&&C(I,"invisible",!1===e[29]),ze===(ze=Te(e))&&qe?qe.p(e,t):(qe.d(1),qe=ze(e),qe&&(qe.c(),qe.m(M,null))),(!ge||536870912&t[0])&&(W.disabled=e[29]),(!ge||536870912&t[0])&&(ae.disabled=e[29])},i(e){ge||(te(h.$$.fragment,e),te(R.$$.fragment,e),te(H.$$.fragment,e),ge=!0)},o(e){ne(h.$$.fragment,e),ne(R.$$.fragment,e),ne(H.$$.fragment,e),ge=!1},d(n){n&&k(t),v(be,n),ce(h),ce(R),ce(H),qe.d(),e[126](null),fe=!1,o(he)}}}function ai(e){let t,n,s,i,r,l,c,d,u,p,g,f,h,y,z,F,N,R,A,E,O,P,j,M,I,H,U,B,Z,Q,G,V,X,Y,W,se,oe,ae,de,ue,pe,ge,fe,he,me,be,ke,ve,$e,xe,ye,_e,Se,Te,ze,qe,Le,Fe,Ne,Ce=e[2],Re=[];for(let t=0;t<Ce.length;t+=1)Re[t]=wi(Es(e,Ce,t));const Ae=e=>ne(Re[e],1,1,(()=>{Re[e]=null}));function Ee(t){e[105](t)}function Oe(t){e[106](t)}let Pe={};function je(e,t){return e[18]?xi:$i}void 0!==e[26]&&(Pe.progress=e[26]),void 0!==e[25]&&(Pe.status=e[25]),d=new we({props:Pe}),D.push((()=>ie(d,"progress",Ee))),D.push((()=>ie(d,"status",Oe)));let Me=je(e),De=Me(e);function Ie(e,t){return e[20]?_i:yi}let He=Ie(e),Ue=He(e);return{c(){t=w("div"),n=w("div"),n.innerHTML="<p><strong>assistant:</strong> Hello! How can I help you today?</p>",s=x();for(let e=0;e<Re.length;e+=1)Re[e].c();i=x(),r=w("div"),l=w("p"),l.innerHTML="<strong>assistant:</strong>",c=x(),re(d.$$.fragment),g=x(),f=w("div"),h=x(),y=w("div"),z=w("div"),F=w("div"),N=w("span"),N.innerHTML="<strong>Feedback Context:</strong>",R=x(),De.c(),E=x(),O=w("div"),P=w("span"),P.innerHTML="<strong>Suggested messages:</strong>",j=x(),M=w("div"),M.textContent="Explain feedback.",I=x(),H=w("div"),H.textContent="Brainstorm actions.",B=x(),Z=w("div"),Q=w("span"),Q.innerHTML="<strong>Refer to:</strong>",G=x(),V=w("label"),X=w("input"),Y=$(" Transcript"),W=x(),se=w("label"),oe=w("input"),ae=$(" Documents"),ue=x(),pe=w("div"),Ue.c(),fe=x(),he=w("div"),me=w("div"),be=w("label"),ke=x(),ve=w("input"),$e=x(),xe=w("button"),xe.innerHTML='<img src="./logos/image-svgrepo-com.svg" alt="Attach image" class="action-icon"/>',ye=x(),_e=w("textarea"),Se=x(),Te=w("button"),ze=w("img"),T(n,"class","assistant padded svelte-qzsvuf"),T(r,"class","assistant padded column svelte-qzsvuf"),C(r,"invisible",!1===e[24]),L(f,"height","20%"),L(f,"width","100%"),L(f,"background-color","white"),L(f,"color","white"),L(f,"cursor","default"),T(t,"id","chatbot-messages"),T(t,"class","column spaced bordered padded svelte-qzsvuf"),T(F,"id","contexts"),T(F,"class","column centered bordered svelte-qzsvuf"),T(F,"style",A=e[20]?"width:25%;":"width:33%;"),T(M,"class","suggested-message svelte-qzsvuf"),T(H,"class","suggested-message svelte-qzsvuf"),T(O,"id","suggested-messages"),T(O,"class","column centered bordered svelte-qzsvuf"),T(O,"style",U=e[20]?"width:25%;":"width:33%;"),T(X,"type","checkbox"),T(V,"class","row centered spaced"),T(oe,"type","checkbox"),T(se,"class","row centered spaced"),T(Z,"id","refer-to"),T(Z,"class","column centered bordered"),T(Z,"style",de=e[20]?"width:25%;":"width:33%;"),T(pe,"id","visual-context"),T(pe,"class","column centered bordered svelte-qzsvuf"),T(pe,"style",ge=e[20]?"width:25%;":"display:none;"),T(z,"id","chatbot-utilities"),T(z,"class","row centered spaced svelte-qzsvuf"),T(be,"for","image_upload"),L(be,"display","none"),T(ve,"accept","image/png, image/jpeg"),T(ve,"type","file"),L(ve,"display","none"),T(ve,"id","image_upload"),T(ve,"name","image_upload"),T(xe,"class","action-button centered column"),T(me,"class","column spaced"),L(_e,"width","100%"),L(_e,"height","100%"),T(_e,"placeholder","Type your message here..."),T(_e,"id","textarea"),a(ze.src,qe="./logos/send-svgrepo-com.svg")||T(ze,"src","./logos/send-svgrepo-com.svg"),T(ze,"alt","Send"),T(ze,"class","action-icon"),T(Te,"class","action-button centered column"),Te.disabled=e[24],T(he,"id","chatbot-input"),T(he,"class","row spaced centered svelte-qzsvuf"),T(y,"id","chatbot-actions"),T(y,"class","column padded spaced centered svelte-qzsvuf")},m(o,a){b(o,t,a),m(t,n),m(t,s);for(let e=0;e<Re.length;e+=1)Re[e]&&Re[e].m(t,null);m(t,i),m(t,r),m(r,l),m(r,c),le(d,r,null),m(t,g),m(t,f),b(o,h,a),b(o,y,a),m(y,z),m(z,F),m(F,N),m(F,R),De.m(F,null),m(z,E),m(z,O),m(O,P),m(O,j),m(O,M),m(O,I),m(O,H),m(z,B),m(z,Z),m(Z,Q),m(Z,G),m(Z,V),m(V,X),X.checked=e[13],m(V,Y),m(Z,W),m(Z,se),m(se,oe),oe.checked=e[14],m(se,ae),m(z,ue),m(z,pe),Ue.m(pe,null),m(y,fe),m(y,he),m(he,me),m(me,be),m(me,ke),m(me,ve),e[114](ve),m(me,$e),m(me,xe),m(he,ye),m(he,_e),q(_e,e[12]),m(he,Se),m(he,Te),m(Te,ze),Le=!0,Fe||(Ne=[_(M,"click",S(e[108])),_(H,"click",S(e[109])),_(X,"change",e[110]),_(oe,"change",e[111]),_(ve,"change",e[113]),_(ve,"change",e[115]),_(xe,"click",S(e[116])),_(_e,"input",e[117]),_(_e,"keydown",e[118]),_(Te,"click",S(e[119]))],Fe=!0)},p(e,n){if(16842780&n[0]|32768&n[1]){let s;for(Ce=e[2],s=0;s<Ce.length;s+=1){const o=Es(e,Ce,s);Re[s]?(Re[s].p(o,n),te(Re[s],1)):(Re[s]=wi(o),Re[s].c(),te(Re[s],1),Re[s].m(t,i))}for(K(),s=Ce.length;s<Re.length;s+=1)Ae(s);ee()}const s={};!u&&67108864&n[0]&&(u=!0,s.progress=e[26],J((()=>u=!1))),!p&&33554432&n[0]&&(p=!0,s.status=e[25],J((()=>p=!1))),d.$set(s),(!Le||16777216&n[0])&&C(r,"invisible",!1===e[24]),Me===(Me=je(e))&&De?De.p(e,n):(De.d(1),De=Me(e),De&&(De.c(),De.m(F,null))),(!Le||1048576&n[0]&&A!==(A=e[20]?"width:25%;":"width:33%;"))&&T(F,"style",A),(!Le||1048576&n[0]&&U!==(U=e[20]?"width:25%;":"width:33%;"))&&T(O,"style",U),8192&n[0]&&(X.checked=e[13]),16384&n[0]&&(oe.checked=e[14]),(!Le||1048576&n[0]&&de!==(de=e[20]?"width:25%;":"width:33%;"))&&T(Z,"style",de),He===(He=Ie(e))&&Ue?Ue.p(e,n):(Ue.d(1),Ue=He(e),Ue&&(Ue.c(),Ue.m(pe,null))),(!Le||1048576&n[0]&&ge!==(ge=e[20]?"width:25%;":"display:none;"))&&T(pe,"style",ge),4096&n[0]&&q(_e,e[12]),(!Le||16777216&n[0])&&(Te.disabled=e[24])},i(e){if(!Le){for(let e=0;e<Ce.length;e+=1)te(Re[e]);te(d.$$.fragment,e),Le=!0}},o(e){Re=Re.filter(Boolean);for(let e=0;e<Re.length;e+=1)ne(Re[e]);ne(d.$$.fragment,e),Le=!1},d(n){n&&k(t),v(Re,n),ce(d),n&&k(h),n&&k(y),De.d(),Ue.d(),e[114](null),Fe=!1,o(Ne)}}}function di(t){let n,s,o=t[153]+"";return{c(){n=w("option"),s=$(o),n.__value=t[153],n.value=n.__value},m(e,t){b(e,n,t),m(n,s)},p:e,d(e){e&&k(n)}}}function ui(t){let n;return{c(){n=w("span"),n.textContent="No resources available."},m(e,t){b(e,n,t)},p:e,d(e){e&&k(n)}}}function pi(e){let t,n=e[1],s=[];for(let t=0;t<n.length;t+=1)s[t]=gi(Rs(e,n,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=y()},m(e,n){for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,n);b(e,t,n)},p(e,o){if(939524098&o[0]|8192&o[1]){let i;for(n=e[1],i=0;i<n.length;i+=1){const r=Rs(e,n,i);s[i]?s[i].p(r,o):(s[i]=gi(r),s[i].c(),s[i].m(t.parentNode,t))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}},d(e){v(s,e),e&&k(t)}}}function gi(e){let t,n,s,o,i,r,l,c,d,u=e[151]+"";function p(){return e[125](e[151],e[147])}return{c(){t=w("div"),n=$(u),s=x(),o=w("button"),i=w("img"),l=x(),a(i.src,r="./logos/delete-x-svgrepo-com.svg")||T(i,"src","./logos/delete-x-svgrepo-com.svg"),T(i,"alt","Remove document"),T(i,"class","mini-icon"),o.disabled=e[29],T(o,"class","action-button"),T(t,"class","row centered spaced centered")},m(e,r){b(e,t,r),m(t,n),m(t,s),m(t,o),m(o,i),m(t,l),c||(d=_(o,"click",S(p)),c=!0)},p(t,s){e=t,2&s[0]&&u!==(u=e[151]+"")&&z(n,u),536870912&s[0]&&(o.disabled=e[29])},d(e){e&&k(t),c=!1,d()}}}function fi(e){let t,n,s,i,r,l,c,a,d,u,p,g,f,h,v,y,S,q,L,F,N,C,R,A,E,O=e[148].role+"",P="context"in e[148]&&hi(e),j="image"in e[148]&&mi(e);function M(){return e[101](e[148])}let D="context"in e[148]&&bi(e);function I(){return e[103](e[148])}let H="user"===e[148].role&&ki(e);F=new Ls({props:{source:e[148].content}});let U="image"in e[148]&&"user"===e[148].role&&vi(e);return{c(){t=w("div"),n=w("div"),s=w("div"),P&&P.c(),i=x(),j&&j.c(),r=x(),l=w("div"),c=w("button"),c.innerHTML='<small>Add to My Notes</small> \n                                                        <img src="./logos/note-svgrepo-com.svg" alt="Add to my notes" class="mini-icon"/>',a=x(),D&&D.c(),d=x(),u=w("div"),p=w("button"),p.innerHTML='<img src="./logos/copy-svgrepo-com.svg" alt="Copy note" class="mini-icon"/>',g=x(),H&&H.c(),h=x(),v=w("div"),y=w("strong"),S=$(O),q=$(":"),L=x(),re(F.$$.fragment),N=x(),U&&U.c(),T(s,"class","row spaced"),T(c,"class","action-button row spaced centered"),T(p,"class","action-button column centered"),T(u,"class","row"),T(l,"class","row spaced"),T(n,"class",f="message-header row "+("context"in e[148]||"image"in e[148]?"with-context":"no-context")+" svelte-qzsvuf"),T(t,"class",C=e[148].role+" padded column spaced svelte-qzsvuf")},m(e,o){b(e,t,o),m(t,n),m(n,s),P&&P.m(s,null),m(s,i),j&&j.m(s,null),m(n,r),m(n,l),m(l,c),m(l,a),D&&D.m(l,null),m(l,d),m(l,u),m(u,p),m(u,g),H&&H.m(u,null),m(t,h),m(t,v),m(v,y),m(y,S),m(y,q),m(v,L),le(F,v,null),m(t,N),U&&U.m(t,null),R=!0,A||(E=[_(c,"click",M),_(p,"click",I)],A=!0)},p(o,r){"context"in(e=o)[148]?P?P.p(e,r):(P=hi(e),P.c(),P.m(s,i)):P&&(P.d(1),P=null),"image"in e[148]?j?j.p(e,r):(j=mi(e),j.c(),j.m(s,null)):j&&(j.d(1),j=null),"context"in e[148]?D?D.p(e,r):(D=bi(e),D.c(),D.m(l,d)):D&&(D.d(1),D=null),"user"===e[148].role?H?H.p(e,r):(H=ki(e),H.c(),H.m(u,null)):H&&(H.d(1),H=null),(!R||4&r[0]&&f!==(f="message-header row "+("context"in e[148]||"image"in e[148]?"with-context":"no-context")+" svelte-qzsvuf"))&&T(n,"class",f),(!R||4&r[0])&&O!==(O=e[148].role+"")&&z(S,O);const c={};4&r[0]&&(c.source=e[148].content),F.$set(c),"image"in e[148]&&"user"===e[148].role?U?U.p(e,r):(U=vi(e),U.c(),U.m(t,null)):U&&(U.d(1),U=null),(!R||4&r[0]&&C!==(C=e[148].role+" padded column spaced svelte-qzsvuf"))&&T(t,"class",C)},i(e){R||(te(F.$$.fragment,e),R=!0)},o(e){ne(F.$$.fragment,e),R=!1},d(e){e&&k(t),P&&P.d(),j&&j.d(),D&&D.d(),H&&H.d(),ce(F),U&&U.d(),A=!1,o(E)}}}function hi(e){let t,n,s,o,i,r,l=e[148].context.id+"",c=(e[148].context.quote.length>40?e[148].context.quote.slice(0,40)+"...":e[148].context.quote)+"";return{c(){t=w("div"),n=w("small"),s=$("Context: F#"),o=$(l),i=x(),r=$(c),T(t,"class","context-tag feedback svelte-qzsvuf")},m(e,l){b(e,t,l),m(t,n),m(n,s),m(n,o),m(n,i),m(n,r)},p(e,t){4&t[0]&&l!==(l=e[148].context.id+"")&&z(o,l),4&t[0]&&c!==(c=(e[148].context.quote.length>40?e[148].context.quote.slice(0,40)+"...":e[148].context.quote)+"")&&z(r,c)},d(e){e&&k(t)}}}function mi(e){let t,n,s,o="user"===e[148].role?"Attached image":"Response to image";return{c(){t=w("div"),n=w("small"),s=$(o),T(t,"class","context-tag image svelte-qzsvuf")},m(e,o){b(e,t,o),m(t,n),m(n,s)},p(e,t){4&t[0]&&o!==(o="user"===e[148].role?"Attached image":"Response to image")&&z(s,o)},d(e){e&&k(t)}}}function bi(e){let t,n,s,o,i,r,l,c,d,u,p=e[148].context.id+"";function g(){return e[102](e[148])}return{c(){t=w("button"),n=w("small"),s=$("Add to F#"),o=$(p),i=$(" Notes"),r=x(),l=w("img"),a(l.src,c="./logos/note-svgrepo-com.svg")||T(l,"src","./logos/note-svgrepo-com.svg"),T(l,"alt","Add feedback note"),T(l,"class","mini-icon"),T(t,"class","action-button row spaced centered")},m(e,c){b(e,t,c),m(t,n),m(n,s),m(n,o),m(n,i),m(t,r),m(t,l),d||(u=_(t,"click",g),d=!0)},p(t,n){e=t,4&n[0]&&p!==(p=e[148].context.id+"")&&z(o,p)},d(e){e&&k(t),d=!1,u()}}}function ki(e){let t,n,s,o,i;function r(){return e[104](e[148])}return{c(){t=w("button"),n=w("img"),a(n.src,s="./logos/delete-x-svgrepo-com.svg")||T(n,"src","./logos/delete-x-svgrepo-com.svg"),T(n,"alt","Delete message"),T(n,"class","mini-icon"),t.disabled=e[24],T(t,"class","action-button column centered")},m(e,s){b(e,t,s),m(t,n),o||(i=_(t,"click",r),o=!0)},p(n,s){e=n,16777216&s[0]&&(t.disabled=e[24])},d(e){e&&k(t),o=!1,i()}}}function vi(e){let t,n,s;return{c(){t=w("div"),n=w("img"),a(n.src,s=e[148].image)||T(n,"src",s),T(n,"alt","Visual context"),L(n,"width","50%"),L(n,"height","auto"),T(t,"class","column centered"),L(t,"width","100%")},m(e,s){b(e,t,s),m(t,n)},p(e,t){4&t[0]&&!a(n.src,s=e[148].image)&&T(n,"src",s)},d(e){e&&k(t)}}}function wi(e){let t,n,s="system"!=e[148].role&&fi(e);return{c(){s&&s.c(),t=y()},m(e,o){s&&s.m(e,o),b(e,t,o),n=!0},p(e,n){"system"!=e[148].role?s?(s.p(e,n),4&n[0]&&te(s,1)):(s=fi(e),s.c(),te(s,1),s.m(t.parentNode,t)):s&&(K(),ne(s,1,1,(()=>{s=null})),ee())},i(e){n||(te(s),n=!0)},o(e){ne(s),n=!1},d(e){s&&s.d(e),e&&k(t)}}}function $i(t){let n;return{c(){n=w("span"),n.textContent="None. Add by selecting from the feedback."},m(e,t){b(e,n,t)},p:e,d(e){e&&k(n)}}}function xi(e){let t,n,s,o,i,r,l,c,a,d,u,p=e[18].id+"",g=e[18].quote.slice(0,30)+"";return{c(){t=w("div"),n=w("span"),s=$("F#"),o=$(p),i=$(":"),r=$(g),l=$("..."),c=x(),a=w("button"),a.innerHTML='<img src="./logos/delete-x-svgrepo-com.svg" alt="Remove context" class="mini-icon"/>',T(t,"class","suggested-message row  svelte-qzsvuf")},m(p,g){b(p,t,g),m(t,n),m(n,s),m(n,o),m(n,i),m(n,r),m(n,l),m(t,c),m(t,a),d||(u=_(a,"click",S(e[107])),d=!0)},p(e,t){262144&t[0]&&p!==(p=e[18].id+"")&&z(o,p),262144&t[0]&&g!==(g=e[18].quote.slice(0,30)+"")&&z(r,g)},d(e){e&&k(t),d=!1,u()}}}function yi(t){return{c:e,m:e,p:e,d:e}}function _i(e){let t,n,s,o,i,r,l,c,d;return{c(){t=w("span"),t.innerHTML="<strong>Attached image:</strong>",n=x(),s=w("div"),o=w("img"),r=x(),l=w("button"),l.innerHTML='<img src="./logos/delete-x-svgrepo-com.svg" alt="Remove image" class="mini-icon"/>',a(o.src,i=e[20])||T(o,"src",i),T(o,"alt","Visual context"),L(o,"width","100%"),L(o,"height","100%"),T(s,"class","row"),L(s,"width","100%"),L(s,"height","100%")},m(i,a){b(i,t,a),b(i,n,a),b(i,s,a),m(s,o),m(s,r),m(s,l),c||(d=_(l,"click",S(e[112])),c=!0)},p(e,t){1048576&t[0]&&!a(o.src,i=e[20])&&T(o,"src",i)},d(e){e&&k(t),e&&k(n),e&&k(s),c=!1,d()}}}function Si(t){let n,s;return{c(){n=w("video"),n.innerHTML='<track kind="captions" src="blank.vtt" srclang="en"/>',a(n.src,s="video.mp4")||T(n,"src","video.mp4"),n.controls=!0,L(n,"width","100%"),L(n,"height","100%")},m(e,s){b(e,n,s),t[96](n)},p:e,d(e){e&&k(n),t[96](null)}}}function Ti(e){let t,n;return{c(){t=w("audio"),a(t.src,n=e[6].audio)||T(t,"src",n),t.controls=!0,L(t,"width","100%"),L(t,"height","100%")},m(n,s){b(n,t,s),e[95](t)},p(e,s){64&s[0]&&!a(t.src,n=e[6].audio)&&T(t,"src",n)},d(n){n&&k(t),e[95](null)}}}function zi(e){let t,n,s,o;return{c(){t=w("video"),n=w("track"),T(n,"kind","captions"),a(n.src,s="blank.vtt")||T(n,"src","blank.vtt"),T(n,"srclang","en"),a(t.src,o=e[6].video)||T(t,"src",o),t.controls=!0,L(t,"width","100%"),L(t,"height","100%")},m(s,o){b(s,t,o),m(t,n),e[94](t)},p(e,n){64&n[0]&&!a(t.src,o=e[6].video)&&T(t,"src",o)},d(n){n&&k(t),e[94](null)}}}function qi(e){let t,n=e[6].transcript_list,s=[];for(let t=0;t<n.length;t+=1)s[t]=Li(Ps(e,n,t));return{c(){t=w("p");for(let e=0;e<s.length;e+=1)s[e].c();T(t,"class","spaced padded")},m(e,n){b(e,t,n);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,null)},p(e,o){if(2112&o[0]){let i;for(n=e[6].transcript_list,i=0;i<n.length;i+=1){const r=Ps(e,n,i);s[i]?s[i].p(r,o):(s[i]=Li(r),s[i].c(),s[i].m(t,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=n.length}},d(e){e&&k(t),v(s,e)}}}function Li(e){let t,n,s,i,r,l,c,a,d,u,p,g,f,h,v,y,S,q,L,F,N,C=e[145].start_timestamp+"",R=e[145].end_timestamp+"",A=e[145].speaker?e[145].speaker+":":"",E=e[145].dialogue+"";function O(){return e[97](e[145])}function P(){return e[98](e[145])}return{c(){t=w("span"),n=$("["),s=$(C),i=$("]"),r=$(" - "),l=w("span"),c=$("["),a=$(R),d=$("]"),u=x(),p=w("br"),g=x(),f=$(A),h=x(),v=w("span"),S=x(),q=w("br"),L=w("br"),T(t,"class","timestamp svelte-qzsvuf"),T(l,"class","timestamp svelte-qzsvuf"),T(v,"id",y=e[145].id),T(v,"class","svelte-qzsvuf")},m(e,o){b(e,t,o),m(t,n),m(t,s),m(t,i),b(e,r,o),b(e,l,o),m(l,c),m(l,a),m(l,d),b(e,u,o),b(e,p,o),b(e,g,o),b(e,f,o),b(e,h,o),b(e,v,o),v.innerHTML=E,b(e,S,o),b(e,q,o),b(e,L,o),F||(N=[_(t,"click",O),_(l,"click",P)],F=!0)},p(t,n){e=t,64&n[0]&&C!==(C=e[145].start_timestamp+"")&&z(s,C),64&n[0]&&R!==(R=e[145].end_timestamp+"")&&z(a,R),64&n[0]&&A!==(A=e[145].speaker?e[145].speaker+":":"")&&z(f,A),64&n[0]&&E!==(E=e[145].dialogue+"")&&(v.innerHTML=E),64&n[0]&&y!==(y=e[145].id)&&T(v,"id",y)},d(e){e&&k(t),e&&k(r),e&&k(l),e&&k(u),e&&k(p),e&&k(g),e&&k(f),e&&k(h),e&&k(v),e&&k(S),e&&k(q),e&&k(L),F=!1,o(N)}}}function Fi(e){let t,n,s,i,r,l,c,a,d,u,p,g,f,h,$,y,S,z,q,F,N,R,A,E=e[35],O=[];for(let t=0;t<E.length;t+=1)O[t]=Bs(Us(e,E,t));function P(e,t){return 0===e[17]?Js:1===e[17]?Zs:void 0}let j=P(e),M=j&&j(e),D=e[36],I=[];for(let t=0;t<D.length;t+=1)I[t]=Jo(js(e,D,t));const H=[Vo,Go,Qo],U=[];function B(e,t){return 0===e[16]?0:1===e[16]?1:2===e[16]?2:-1}return~(q=B(e))&&(F=U[q]=H[q](e)),{c(){t=w("div"),n=w("div"),s=w("div"),i=w("div"),r=w("div");for(let e=0;e<O.length;e+=1)O[e].c();l=x(),c=w("div"),a=w("button"),a.innerHTML='<img src="./logos/row-vertical-svgrepo-com.svg" alt="Row view" class="mini-icon"/>',d=x(),u=w("button"),u.innerHTML='<img src="./logos/grid-svgrepo-com.svg" alt="Grid view" class="mini-icon"/>',p=x(),g=w("div"),M&&M.c(),f=x(),h=w("div"),$=w("div"),y=w("div");for(let e=0;e<I.length;e+=1)I[e].c();S=x(),z=w("div"),F&&F.c(),T(r,"class","row"),T(a,"class","tab svelte-qzsvuf"),C(a,"active","row"===e[5][e[17]]),T(u,"class","tab svelte-qzsvuf"),C(u,"active","grid"===e[5][e[17]]),T(c,"class","row"),T(i,"class","tab-header space-between svelte-qzsvuf"),T(g,"class","tab-content padded svelte-qzsvuf"),L(g,"overflow-y","auto"),T(s,"class","tabbed-area bordered svelte-qzsvuf"),T(n,"id","left-panel"),T(n,"class","column svelte-qzsvuf"),T(y,"class","tab-header svelte-qzsvuf"),T(z,"class","tab-content column svelte-qzsvuf"),T($,"class","tabbed-area bordered svelte-qzsvuf"),T(h,"id","right-panel"),T(h,"class","column  svelte-qzsvuf"),T(t,"id","feedback-list-page"),T(t,"class","spaced svelte-qzsvuf")},m(o,k){b(o,t,k),m(t,n),m(n,s),m(s,i),m(i,r);for(let e=0;e<O.length;e+=1)O[e]&&O[e].m(r,null);m(i,l),m(i,c),m(c,a),m(c,d),m(c,u),m(s,p),m(s,g),M&&M.m(g,null),m(t,f),m(t,h),m(h,$),m($,y);for(let e=0;e<I.length;e+=1)I[e]&&I[e].m(y,null);m($,S),m($,z),~q&&U[q].m(z,null),N=!0,R||(A=[_(a,"click",e[50]),_(u,"click",e[51]),_(t,"window:click",e[39])],R=!0)},p(e,t){if(131072&t[0]|16&t[1]){let n;for(E=e[35],n=0;n<E.length;n+=1){const s=Us(e,E,n);O[n]?O[n].p(s,t):(O[n]=Bs(s),O[n].c(),O[n].m(r,null))}for(;n<O.length;n+=1)O[n].d(1);O.length=E.length}if((!N||131104&t[0])&&C(a,"active","row"===e[5][e[17]]),(!N||131104&t[0])&&C(u,"active","grid"===e[5][e[17]]),j===(j=P(e))&&M?M.p(e,t):(M&&M.d(1),M=j&&j(e),M&&(M.c(),M.m(g,null))),65536&t[0]|32&t[1]){let n;for(D=e[36],n=0;n<D.length;n+=1){const s=js(e,D,n);I[n]?I[n].p(s,t):(I[n]=Jo(s),I[n].c(),I[n].m(y,null))}for(;n<I.length;n+=1)I[n].d(1);I.length=D.length}let n=q;q=B(e),q===n?~q&&U[q].p(e,t):(F&&(K(),ne(U[n],1,1,(()=>{U[n]=null})),ee()),~q?(F=U[q],F?F.p(e,t):(F=U[q]=H[q](e),F.c()),te(F,1),F.m(z,null)):F=null)},i(e){N||(te(F),N=!0)},o(e){ne(F),N=!1},d(e){e&&k(t),v(O,e),M&&M.d(),v(I,e),~q&&U[q].d(),R=!1,o(A)}}}async function Ni(e,t){const n=await fetch("/positively_paraphrase_feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({feedback:e,excerpt:t})});if(!n.ok)throw new Error("Failed to detect feedback");return(await n.json()).paraphrased_feedback}function Ci(e,t=!0){e.show_paraphrased=t}const Ri=(e,t)=>e-t;function Ai(e,t,n){let s,o,i,r,l,c,a,d,{feedback_list:u}=t,{recording:p}=t,{documents:g=[]}=t,{chatbot_messages:f=[{content:"You are an expert senior interior designer who is tasked to assist less experienced interior designers like students and junior interior designers with their work by answering their questions on a wide range of interior design topics. ",role:"system"}]}=t,{my_notes:h=[]}=t,{feedback_notes:m={}}=t,{left_display_styles:b={0:"row",1:"grid"}}=t,k=!1,v={"GPT-4o":"gpt-4o","GPT-4o Mini":"gpt-4o-mini","The Interior Design Reference & Specification GPT":"ft:gpt-4o-mini-2024-07-18:im-lab:the-interior-des:9p9NTD1W","Planning and Designers Handbook GPT":"ft:gpt-4o-mini-2024-07-18:im-lab:planning-and-des:9p9vtdRF","Interior Design Illustrated GPT":"ft:gpt-4o-mini-2024-07-18:im-lab:int-illustrated:9qXQyPfI"},w="GPT-4o",$=0,x=256,y="",_=!0,S=!0,T=0,z=0,q=["Critical Feedback","Positive Feedback"],L=["Transcript","Chatbot","Notes"],F=!1,C="",R=0,A="",E=0,O=!1;function P(e){o===e&&n(15,o=null),n(0,u=u.filter((t=>t!==e))),n(0,u)}function j(e,t){n(15,o=e),t.stopPropagation()}let M=null,I=!0;function H(e){M===e?n(31,I=!I):(n(30,M=e),n(31,I=!0)),u.sort(((t,n)=>t[e]<n[e]?I?-1:1:t[e]>n[e]?I?1:-1:0)),n(0,u)}async function U(e,t=null){let s=e.slice();if(F)return void alert("Please wait for the current message to be processed.");if(n(24,F=!0),""===e.trim())return void alert("Please enter a message.");let o={role:"user",content:e};if(t){o.context=t;let e="\n\nHere is the piece of feedback as context.";e+="\nF#"+t.id+': "'+t.speaker+": "+t.quote+'".',s+=e}let i={message:s,image_data:null,max_output_tokens:x,temperature:$,model:v[w],refer_to_transcript:_,refer_to_documents:S};if(l&&(o.image=l),r){n(25,C="Uploading image..."),n(26,R=30);let e=await async function(e){return new Promise(((t,n)=>{const s=new FileReader;s.onload=()=>t(s.result),s.onerror=e=>n(e),s.readAsDataURL(e)}))}(r);i.image_data=e,o.image_path=await async function(e){const t=await fetch("/save_image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image_data:e})});if(!t.ok)throw new Error("Failed to save image");return(await t.json()).image_path}(e),i.image_path=o.image_path}f.push(o),n(2,f),console.log(f),n(0,u),await ye(f),n(25,C="Thinking..."),n(26,R=50);const c=await fetch("/message_chatbot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});if(!c.ok)throw new Error("Failed to send message");let a=(await c.json()).chatbot_response;n(25,C="Done!"),n(26,R=100),await pe(1200),await fe("FeedbackList: Sent message",[e,t,l]);let d={role:"assistant",content:a};t&&(d.context=t),l&&(d.image=l),f.push(d),n(2,f),n(0,u),await ye(f),n(24,F=!1),n(26,R=0)}function B(e){i===e?alert("This feedback is already added as context."):n(18,i=e)}async function Z(e){const t=e.target.files;if(t)for(const e of t){const t=new FormData;t.append("file",e),n(28,E=50),n(27,A="Adding document... (this may take a while)");const s=await fetch("/add_document",{method:"POST",body:t});if(!s.ok)return null;let o=(await s.json()).document_name;g.push(o),n(1,g),n(27,A="Done!"),n(28,E=100),await pe(1200)}}async function J(e,t){return(await fetch("/delete_document",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e})})).ok?(g.splice(t,1),n(1,g),e):console.log(`Failed to delete document ${e}`)}async function Q(){n(27,A="Removing all documents...");for(let e=0;e<g.length;e++){let t=g[e];n(28,E=e/g.length*100);try{await J(t,e)}catch(e){console.error(`Error deleting document ${t}:`,e)}}1===g.length&&await J(g[0],0),n(27,A="Done!"),n(28,E=100),await pe(1e3),n(28,E=0)}let G=!1,V="";async function X(e,t=null,s=null){""!=e.trim()?t?t in m?(m[t].notes.push(e),n(4,m)):n(4,m[t]={notes:[e],is_adding:!1},m):(h.push(e),n(3,h)):alert("Please enter a note.")}async function Y(e,t=null){t?(m[t].notes.splice(e,1),n(4,m)):(h.splice(e,1),n(3,h))}async function W(e=null){n(32,G=!1),X(V,e),n(33,V="")}return e.$$set=e=>{"feedback_list"in e&&n(0,u=e.feedback_list),"recording"in e&&n(6,p=e.recording),"documents"in e&&n(1,g=e.documents),"chatbot_messages"in e&&n(2,f=e.chatbot_messages),"my_notes"in e&&n(3,h=e.my_notes),"feedback_notes"in e&&n(4,m=e.feedback_notes),"left_display_styles"in e&&n(5,b=e.left_display_styles)},[u,g,f,h,m,b,p,k,w,$,x,s,y,_,S,o,T,z,i,r,l,c,a,d,F,C,R,A,E,O,M,I,G,V,v,q,L,P,j,function(){n(15,o=null)},H,U,B,Z,J,Q,X,Y,W,async e=>{n(17,z=e),await fe("FeedbackList: Switched left panel tab",q[z])},async()=>{n(5,b[z]="row",b),await fe("FeedbackList: Switched left panel display style","row")},async()=>{n(5,b[z]="grid",b),await fe("FeedbackList: Switched left panel display style","grid")},async e=>{n(16,T=0),"excerpt_reference"in e&&"start_timestamp"in e.excerpt_reference&&(he(e.excerpt_reference.start_timestamp,s),await fe("FeedbackList: Seeked to timestamp",e.excerpt_reference.start_timestamp))},async(e,t,s)=>{n(0,t[s].positivised_quote=await Ni(e.quote,e.excerpt_reference.dialogue),u),Ci(e,!0),n(0,u),await fe("FeedbackList: Positivize Quote",e)},async e=>{n(16,T=1),B(e),await fe("FeedbackList: Select as context",i)},async e=>{n(16,T=2),e.id in m?n(4,m[e.id].is_adding=!0,m):n(4,m[e.id]={notes:[],is_adding:!0},m)},async e=>{P(e),await xe(u),await fe("FeedbackList: Remove critical feedback",e)},function(e,t){e[t].done=this.checked,n(0,u)},async e=>{Ci(e,!1),await fe("FeedbackList: Show original quote",e.original_quote)},async e=>{Ci(e,!0),await fe("FeedbackList: Show paraphrased quote",e.positivised_quote)},async(e,t)=>{j(e,t),me(e),await fe("FeedbackList: Selected feedback",e)},async()=>{H("id"),await fe("FeedbackList: Sorted feedback","id")},async()=>{H("quote"),await fe("FeedbackList: Sorted feedback","quote")},async()=>{H("speaker"),await fe("FeedbackList: Sorted feedback","speaker")},async()=>{H("done"),await fe("FeedbackList: Sorted feedback","done")},async e=>{n(16,T=0),"excerpt_reference"in e&&"start_timestamp"in e.excerpt_reference&&(he(e.excerpt_reference.start_timestamp,s),await fe("FeedbackList: Seeked to timestamp",e.excerpt_reference.start_timestamp))},async e=>{Ci(e,!1),await fe("FeedbackList: Show original quote",e.original_quote)},async e=>{Ci(e,!0),await fe("FeedbackList: Show paraphrased quote",e.positivised_quote)},async(e,t,s)=>{n(0,t[s].positivised_quote=await Ni(e.quote,e.excerpt_reference.dialogue),u),Ci(e,!0),n(0,u),await fe("FeedbackList: Positivize Quote",e)},async e=>{n(16,T=1),B(e),await fe("FeedbackList: Select as context",i)},async e=>{n(16,T=2),e.id in m?n(4,m[e.id].is_adding=!0,m):n(4,m[e.id]={notes:[],is_adding:!0},m)},async e=>{window.confirm("Are you sure you want to delete this feedback? This cannot be undone.")&&(P(e),await xe(u),await fe("FeedbackList: Remove critical feedback",e))},function(e,t){e[t].done=this.checked,n(0,u)},async(e,t)=>{j(e,t),me(e),await fe("FeedbackList: Selected feedback",e)},async e=>{n(16,T=0),"excerpt_reference"in e&&"start_timestamp"in e.excerpt_reference&&(he(e.excerpt_reference.start_timestamp,s),await fe("FeedbackList: Seeked to timestamp",e.excerpt_reference.start_timestamp))},async(e,t,s)=>{n(0,t[s].positivised_quote=await Ni(e.quote,e.excerpt_reference.dialogue),u),Ci(e,!0),n(0,u),await fe("FeedbackList: Positivize Quote",e)},async e=>{n(16,T=1),B(e),await fe("FeedbackList: Select as context",i)},async e=>{n(16,T=2),e.id in m?n(4,m[e.id].is_adding=!0,m):n(4,m[e.id]={notes:[],is_adding:!0},m)},async e=>{P(e),await xe(u),await fe("FeedbackList: Remove positive feedback",e)},async e=>{Ci(e,!1),await fe("FeedbackList: Show original quote",e.original_quote)},async e=>{Ci(e,!0),await fe("FeedbackList: Show paraphrased quote",e.positivised_quote)},async(e,t)=>{j(e,t),me(e),await fe("FeedbackList: Selected feedback",e)},async()=>{H("id"),await fe("FeedbackList: Sorted feedback","id")},async()=>{H("quote"),await fe("FeedbackList: Sorted feedback","quote")},async()=>{H("speaker"),await fe("FeedbackList: Sorted feedback","speaker")},async e=>{n(16,T=0),"excerpt_reference"in e&&"start_timestamp"in e.excerpt_reference&&(he(e.excerpt_reference.start_timestamp,s),await fe("FeedbackList: Seeked to timestamp",e.excerpt_reference.start_timestamp))},async e=>{Ci(e,!1),await fe("FeedbackList: Show original quote",e.original_quote)},async e=>{Ci(e,!0),await fe("FeedbackList: Show paraphrased quote",e.positivised_quote)},async(e,t,s)=>{n(0,t[s].positivised_quote=await Ni(e.quote,e.excerpt_reference.dialogue),u),Ci(e,!0),n(0,u),await fe("FeedbackList: Positivize Quote",e)},async e=>{n(16,T=1),B(e),await fe("FeedbackList: Select as context",i)},async e=>{n(16,T=2),e.id in m?n(4,m[e.id].is_adding=!0,m):n(4,m[e.id]={notes:[],is_adding:!0},m)},async e=>{window.confirm("Are you sure you want to delete this feedback? This cannot be undone.")&&(P(e),await xe(u),await fe("FeedbackList: Remove positive feedback",e))},async(e,t)=>{j(e,t),me(e),await fe("FeedbackList: Selected feedback",e)},async e=>{n(16,T=e),await fe("FeedbackList: Switched right panel tab",L[T])},function(e){D[e?"unshift":"push"]((()=>{s=e,n(11,s)}))},function(e){D[e?"unshift":"push"]((()=>{s=e,n(11,s)}))},function(e){D[e?"unshift":"push"]((()=>{s=e,n(11,s)}))},async e=>{he(e.start_timestamp,s),await fe("FeedbackList: Seek to start timestamp",e.start_timestamp)},async e=>{he(e.end_timestamp,s),await fe("FeedbackList: Seek to end timestamp",e.end_timestamp)},function(){w=N(this),n(8,w),n(34,v)},async()=>{n(7,k=!k),await fe("FeedbackList: Toggled chatbot settings",k)},async e=>{n(16,T=2),X(e.role+": "+e.content),await _e(h),await fe("FeedbackList: Added note to My Notes",e)},async e=>{n(16,T=2),X(e.role+": "+e.content,"id"in e.context?e.context.id:null),await Se(m),await fe("FeedbackList: Added note to Feedback ID"+e.context.id,e)},async e=>{be(e.role+": "+e.content),await fe("FeedbackList: Copied message",e)},async e=>{if(!window.confirm("Are you sure you want to delete this message? This cannot be undone."))return;let t=f.indexOf(e),s=t+1,o=f[s];await fetch("/remove_from_backend_chatbot_messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_message_idx:t,assistant_message_idx:s})}),n(2,f=f.filter((t=>t!==e))),"assistant"===o.role&&n(2,f=f.filter((e=>e!==o))),n(2,f),await ye(f),await fe("FeedbackList: Removed message",e)},function(e){R=e,n(26,R)},function(e){C=e,n(25,C)},async()=>{await fe("FeedbackList: Removed context",i),n(18,i=null)},async()=>{F||await U("Can you explain the following feedback?",i)},async()=>{F||await U("Can you brainstorm a set of actions to address the following feedback?",i)},function(){_=this.checked,n(13,_)},function(){S=this.checked,n(14,S)},async()=>{await fe("FeedbackList: Removed image",l),n(20,l=null),n(19,r=null)},function(){c=this.value,n(21,c)},function(e){D[e?"unshift":"push"]((()=>{a=e,n(22,a)}))},async()=>{n(21,c=a.files),n(20,[l,r]=await async function(e){let t=e[0];if(t){if(t.type.includes("image"))return console.log(t),[URL.createObjectURL(t),t];alert("Please select an image file.")}else console.log("No image selected.");return null}(c),l,n(19,r)),await fe(l?"FeedbackList: Uploaded image":"FeedbackList: Canceled uploading image",l)},async()=>{a.click()},function(){y=this.value,n(12,y)},e=>"Enter"===e.key&&U(y,i),async()=>{await U(y,i),n(12,y="")},function(){w=N(this),n(8,w),n(34,v)},function(e){$=e,n(9,$)},function(e){x=e,n(10,x)},function(e){E=e,n(28,E)},function(e){A=e,n(27,A)},async(e,t)=>{if(!window.confirm("Are you sure you want to delete this document? This cannot be undone."))return;n(29,O=!0),n(28,E=50),n(27,A="Removing document...");let s=await J(e,t);n(27,A="Done!"),n(28,E=100),n(29,O=!1),fe("FeedbackList: Removed document",s)},function(e){D[e?"unshift":"push"]((()=>{d=e,n(23,d)}))},async e=>{n(29,O=!0),await Z(e),n(29,O=!1),await fe("FeedbackList: Added document",e.target.files)},async()=>{window.confirm("Adding a new document will take a long time, since its information will be extracted. Do you want to proceed?")&&(document.getElementById("document_file_input").click(),await fe("FeedbackList: Added document","Document"))},async()=>{window.confirm("Are you sure you want to remove all documents? This cannot be undone.")&&(n(29,O=!0),await Q(),n(29,O=!1),await fe("FeedbackList: Removed all documents",g))},async(e,t)=>{Y(e),await _e(h),await fe("FeedbackList: Removed note",t)},function(){V=this.value,n(33,V)},async()=>{W(),n(32,G=!1),await _e(h),await fe("FeedbackList: Added note to My Notes",V)},async()=>{n(32,G=!1),n(33,V=""),await fe("FeedbackList: Cancelled adding note to My Notes",V)},async()=>{n(32,G=!0),await fe("FeedbackList: Clicked on My Notes' Add Note button",G)},async()=>{window.confirm("Are you sure you want to delete all notes? This cannot be undone.")&&(n(3,h=[]),n(3,h),await _e(h),await fe("FeedbackList: Removed all notes from My Notes",h))},async e=>{let t="Are you sure you want to delete this feedback notes section? This cannot be undone";m[e].notes.length>0&&(t="Are you sure you want to delete this feedback notes section? This will delete all notes and cannot be undone."),window.confirm(t)&&(delete m[e],n(4,m),await Se(m),await fe("FeedbackList: Removed feedback notes section","Feedback ID"+e))},async(e,t,n)=>{Y(e,t),await Se(m),await fe("FeedbackList: Removed note from Feedback ID"+t,n)},function(){V=this.value,n(33,V)},async e=>{W(e),n(4,m[e].is_adding=!1,m),await Se(m),await fe("FeedbackList: Added note to Feedback ID"+e,V)},async e=>{n(4,m[e].is_adding=!1,m),await fe("FeedbackList: Cancelled adding note to Feedback ID"+e,V),n(33,V="")},async e=>{n(4,m[e].is_adding=!0,m),await fe("FeedbackList: Clicked on Feedback ID"+e+"'s Add Note button",m[e].is_adding)},async e=>{window.confirm("Are you sure you want to delete all notes? This cannot be undone.")&&(n(4,m[e].notes=[],m),n(4,m),await Se(m),await fe("FeedbackList: Removed all notes from Feedback ID"+e,m[e].notes))}]}class Ei extends ue{constructor(e){super(),de(this,e,Ai,Fi,r,{feedback_list:0,recording:6,documents:1,chatbot_messages:2,my_notes:3,feedback_notes:4,left_display_styles:5},null,[-1,-1,-1,-1,-1,-1])}}function Oi(e){let t,n,s,o,i,r,l,c,a,d;function u(t){e[23](t)}function p(t){e[24](t)}function g(t){e[25](t)}function f(t){e[26](t)}function h(t){e[27](t)}function m(t){e[28](t)}function v(t){e[29](t)}let $={};return void 0!==e[9]&&($.chatbot_messages=e[9]),void 0!==e[8]&&($.documents=e[8]),void 0!==e[7]&&($.feedback_list=e[7]),void 0!==e[6]&&($.recording=e[6]),void 0!==e[10]&&($.my_notes=e[10]),void 0!==e[11]&&($.feedback_notes=e[11]),void 0!==e[5]&&($.left_display_styles=e[5]),n=new Ei({props:$}),D.push((()=>ie(n,"chatbot_messages",u))),D.push((()=>ie(n,"documents",p))),D.push((()=>ie(n,"feedback_list",g))),D.push((()=>ie(n,"recording",f))),D.push((()=>ie(n,"my_notes",h))),D.push((()=>ie(n,"feedback_notes",m))),D.push((()=>ie(n,"left_display_styles",v))),{c(){t=w("div"),re(n.$$.fragment),L(t,"width","100%"),L(t,"height","100%"),L(t,"background-color","#F8F9FA"),C(t,"gone",2!=e[0])},m(e,s){b(e,t,s),le(n,t,null),d=!0},p(e,u){const p={};!s&&512&u[0]&&(s=!0,p.chatbot_messages=e[9],J((()=>s=!1))),!o&&256&u[0]&&(o=!0,p.documents=e[8],J((()=>o=!1))),!i&&128&u[0]&&(i=!0,p.feedback_list=e[7],J((()=>i=!1))),!r&&64&u[0]&&(r=!0,p.recording=e[6],J((()=>r=!1))),!l&&1024&u[0]&&(l=!0,p.my_notes=e[10],J((()=>l=!1))),!c&&2048&u[0]&&(c=!0,p.feedback_notes=e[11],J((()=>c=!1))),!a&&32&u[0]&&(a=!0,p.left_display_styles=e[5],J((()=>a=!1))),n.$set(p),(!d||1&u[0])&&C(t,"gone",2!=e[0])},i(e){d||(te(n.$$.fragment,e),d=!0)},o(e){ne(n.$$.fragment,e),d=!1},d(e){e&&k(t),ce(n)}}}function Pi(e){let t,n,s,o,i;function r(t){e[21](t)}function l(t){e[22](t)}let c={};return void 0!==e[6]&&(c.recording=e[6]),void 0!==e[7]&&(c.feedback_list=e[7]),n=new tt({props:c}),D.push((()=>ie(n,"recording",r))),D.push((()=>ie(n,"feedback_list",l))),{c(){t=w("div"),re(n.$$.fragment),L(t,"width","100%"),L(t,"height","100%"),L(t,"background-color","#F8F9FA"),C(t,"gone",1!=e[0])},m(e,s){b(e,t,s),le(n,t,null),i=!0},p(e,r){const l={};!s&&64&r[0]&&(s=!0,l.recording=e[6],J((()=>s=!1))),!o&&128&r[0]&&(o=!0,l.feedback_list=e[7],J((()=>o=!1))),n.$set(l),(!i||1&r[0])&&C(t,"gone",1!=e[0])},i(e){i||(te(n.$$.fragment,e),i=!0)},o(e){ne(n.$$.fragment,e),i=!1},d(e){e&&k(t),ce(n)}}}function ji(e){let t,n,s,i,r,l,c,a,d,u,p,g,f,h,v,$,y,S;function z(t){e[16](t)}function F(t){e[17](t)}let N={};return void 0!==e[3]&&(N.progress=e[3]),void 0!==e[4]&&(N.status=e[4]),s=new we({props:N}),D.push((()=>ie(s,"progress",z))),D.push((()=>ie(s,"status",F))),{c(){t=w("div"),n=w("div"),re(s.$$.fragment),l=x(),c=w("div"),a=w("label"),a.textContent="Enter your username",d=x(),u=w("input"),p=x(),g=w("div"),f=w("button"),f.textContent="Register",h=x(),v=w("button"),v.textContent="Login",T(n,"class","overlay centered padded"),C(n,"invisible",!1===e[2]),T(a,"for","username"),T(u,"type","text"),T(u,"name","username"),T(u,"id","username"),T(f,"class","svelte-lde6tu"),T(v,"class","svelte-lde6tu"),T(g,"class","row"),T(c,"class","column centered spaced"),L(c,"width","75%"),L(c,"height","75%"),T(t,"class","centered spaced"),L(t,"width","100%"),L(t,"height","100%"),C(t,"gone",0!=e[0])},m(o,i){b(o,t,i),m(t,n),le(s,n,null),m(t,l),m(t,c),m(c,a),m(c,d),m(c,u),q(u,e[1]),m(c,p),m(c,g),m(g,f),m(g,h),m(g,v),$=!0,y||(S=[_(u,"input",e[18]),_(f,"click",e[19]),_(v,"click",e[20])],y=!0)},p(e,o){const l={};!i&&8&o[0]&&(i=!0,l.progress=e[3],J((()=>i=!1))),!r&&16&o[0]&&(r=!0,l.status=e[4],J((()=>r=!1))),s.$set(l),(!$||4&o[0])&&C(n,"invisible",!1===e[2]),2&o[0]&&u.value!==e[1]&&q(u,e[1]),(!$||1&o[0])&&C(t,"gone",0!=e[0])},i(e){$||(te(s.$$.fragment,e),$=!0)},o(e){ne(s.$$.fragment,e),$=!1},d(e){e&&k(t),ce(s),y=!1,o(S)}}}function Mi(e){let t,n,s,i,r,l,c,d,u,p,g,f,h,v,y,S,q,L,F,N,R,A,E,O,P,j,M;const D=[ji,Pi,Oi],I=[];function H(e,t){return 0===e[0]?0:1===e[0]?1:2===e[0]?2:-1}return~(p=H(e))&&(g=I[p]=D[p](e)),{c(){t=w("main"),n=w("div"),s=w("h5"),i=$("Welcome, "),r=$(e[1]),l=x(),c=w("button"),c.textContent="Logout",d=x(),u=w("div"),g&&g.c(),f=x(),h=w("div"),v=w("button"),y=w("img"),q=$("\n                Select Feedback"),F=x(),N=w("button"),R=$("View Feedback List\n                "),A=w("img"),T(c,"class","row mini-padded svelte-lde6tu"),T(n,"class","header spaced bordered row padded svelte-lde6tu"),C(n,"gone",0==e[0]),T(u,"class","carousel-container svelte-lde6tu"),a(y.src,S="./logos/move-to-the-prev-page-symbol-svgrepo-com.svg")||T(y,"src","./logos/move-to-the-prev-page-symbol-svgrepo-com.svg"),T(y,"alt","Previous page"),T(y,"class","mini-icon"),T(v,"class","action-button row centered svelte-lde6tu"),v.disabled=L=0===e[0],C(v,"invisible",2!=e[0]||0==e[0]),a(A.src,E="./logos/move-to-the-next-page-symbol-svgrepo-com.svg")||T(A,"src","./logos/move-to-the-next-page-symbol-svgrepo-com.svg"),T(A,"alt","Next page"),T(A,"class","mini-icon"),T(N,"class","action-button row centered svelte-lde6tu"),N.disabled=O=e[0]===Di.length-1||e[7].length<=0,C(N,"invisible",1!=e[0]||0==e[0]),T(h,"class","navigation centered spaced bordered row svelte-lde6tu")},m(o,a){b(o,t,a),m(t,n),m(n,s),m(s,i),m(s,r),m(n,l),m(n,c),m(t,d),m(t,u),~p&&I[p].m(u,null),m(t,f),m(t,h),m(h,v),m(v,y),m(v,q),m(h,F),m(h,N),m(N,R),m(N,A),P=!0,j||(M=[_(c,"click",e[15]),_(v,"click",e[30]),_(N,"click",e[31])],j=!0)},p(e,t){(!P||2&t[0])&&z(r,e[1]),(!P||1&t[0])&&C(n,"gone",0==e[0]);let s=p;p=H(e),p===s?~p&&I[p].p(e,t):(g&&(K(),ne(I[s],1,1,(()=>{I[s]=null})),ee()),~p?(g=I[p],g?g.p(e,t):(g=I[p]=D[p](e),g.c()),te(g,1),g.m(u,null)):g=null),(!P||1&t[0]&&L!==(L=0===e[0]))&&(v.disabled=L),(!P||1&t[0])&&C(v,"invisible",2!=e[0]||0==e[0]),(!P||129&t[0]&&O!==(O=e[0]===Di.length-1||e[7].length<=0))&&(N.disabled=O),(!P||1&t[0])&&C(N,"invisible",1!=e[0]||0==e[0])},i(e){P||(te(g),P=!0)},o(e){ne(g),P=!1},d(e){e&&k(t),~p&&I[p].d(),j=!1,o(M)}}}let Di=3;function Ii(e,t,n){let s=0,o="",i="",r=!1,l=0,c="Initializing...",a={0:"grid",1:"grid"},d={},u=[],p=[],g=[{content:"You are an expert senior interior designer who is tasked to assist less experienced interior designers like students and junior interior designers with their work by answering their questions on a wide range of interior design topics. ",role:"system"}],f=[],h={};async function m(){if(null==o||""==o)throw alert("Please enter a valid username"),new Error("Please enter a valid username");let e=await fetch("/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o})});const t=await e.json();e.ok?e.ok&&(i=t.user_id,ge("username",o,30),ge("user_id",i,30),n(3,l=50),n(4,c="Loading documents..."),n(8,p=await fetch("/get_documents",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>e.documents))),n(3,l=100),n(4,c="Done!"),pe(1500),n(0,s=1)):alert(t.message)}async function b(){if(null==o||""==o)throw alert("Please enter a valid username"),new Error("Please enter a valid username");let e=await fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:o})});const t=await e.json();e.ok?e.ok&&(i=t.user_id,ge("username",o,30),ge("user_id",i,30),await async function(e){if(n(3,l=15),n(4,c="Loading documents..."),n(8,p=await fetch("/get_documents",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>e.documents))),Object.keys(d).length<=0){n(3,l=30),n(4,c="Loading recording...");let e=await fetch("/get_recording",{method:"GET",headers:{"Content-Type":"application/json"}}),t=await e.json();if(n(6,d=t.recording),"video_path"in d&&null!=d.video_path){n(3,l=45),n(4,c="Loading video...");const e=await fetch("/fetch_video",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:d.video_path})});if(!e.ok)throw new Error("Failed to fetch video");const t=await e.blob();n(6,d.video=URL.createObjectURL(t),d)}if("audio_path"in d&&null!=d.audio_path){n(3,l=50),n(4,c="Loading audio...");const e=await fetch("/fetch_audio",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({audio_path:d.audio_path})});if(!e.ok)throw new Error("Failed to fetch audio");const t=await e.blob();n(6,d.audio=URL.createObjectURL(t),d)}n(3,l=60),n(4,c="Loading feedback...");const s=await fetch("/get_feedback_list",{method:"GET",headers:{"Content-Type":"application/json"}});if(!s.ok)throw new Error("Failed to fetch feedback list");const o=await s.json();n(7,u=o.feedback_list),n(3,l=70),n(4,c="Loading chatbot messages...");const i=await fetch("/get_display_chatbot_messages",{method:"GET",headers:{"Content-Type":"application/json"}});if(!i.ok)throw new Error("Failed to fetch chatbot messages");const r=await i.json();n(9,g=r.display_chatbot_messages);for(let e of g)if("image_path"in e&&null!=e.image_path){const t=await fetch("/fetch_image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image_path:e.image_path})});if(!t.ok)throw new Error("Failed to fetch image");const n=await t.blob();e.image=URL.createObjectURL(n)}n(3,l=80),n(4,c="Loading notes...");const a=await fetch("/get_my_notes",{method:"GET",headers:{"Content-Type":"application/json"}});if(!a.ok)throw new Error("Failed to fetch my notes");const p=await a.json();n(10,f=p.my_notes);const m=await fetch("/get_feedback_notes",{method:"GET",headers:{"Content-Type":"application/json"}});if(!m.ok)throw new Error("Failed to fetch feedback notes");const b=await m.json();n(11,h=b.feedback_notes),n(3,l=100),n(4,c="Done!"),pe(1500)}}(),n(0,s=1)):alert(t.message)}function k(){ge("username","",0),ge("user_id","",0),n(1,o=""),i="",n(6,d={}),n(10,f=[]),n(11,h={}),n(7,u=[]),n(8,p=[]),n(7,u=[]),n(9,g=[{content:"You are an expert senior interior designer who is tasked to assist less experienced interior designers like students and junior interior designers with their work by answering their questions on a wide range of interior design topics. ",role:"system"}]),n(0,s=0)}P((async()=>{}));return[s,o,r,l,c,a,d,u,p,g,f,h,m,b,k,()=>k(),function(e){l=e,n(3,l)},function(e){c=e,n(4,c)},function(){o=this.value,n(1,o)},async()=>{n(2,r=!0),await m(),n(2,r=!1),n(3,l=0)},async()=>{n(2,r=!0),await b(),n(2,r=!1),n(3,l=0)},function(e){d=e,n(6,d)},function(e){u=e,n(7,u)},function(e){g=e,n(9,g)},function(e){p=e,n(8,p)},function(e){u=e,n(7,u)},function(e){d=e,n(6,d)},function(e){f=e,n(10,f)},function(e){h=e,n(11,h)},function(e){a=e,n(5,a)},()=>{n(0,s=1)},()=>{n(0,s=2)}]}return new class extends ue{constructor(e){super(),de(this,e,Ii,Mi,r,{},null,[-1,-1])}}({target:document.body,props:{name:"world"}})}();
//# sourceMappingURL=bundle.js.map
