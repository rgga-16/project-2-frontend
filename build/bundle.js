var app=function(){"use strict";function e(){}function t(e,t){for(const n in t)e[n]=t[n];return e}function n(e){return e()}function s(){return Object.create(null)}function r(e){e.forEach(n)}function o(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let a,l;function c(e,t){return a||(a=document.createElement("a")),a.href=t,e===a.href}function u(t,...n){if(null==t)return e;const s=t.subscribe(...n);return s.unsubscribe?()=>s.unsubscribe():s}function d(e,t,n){e.$$.on_destroy.push(u(t,n))}function h(e,t,n,s){if(e){const r=p(e,t,n,s);return e[0](r)}}function p(e,n,s,r){return e[1]&&r?t(s.ctx.slice(),e[1](r(n))):s.ctx}function f(e,t,n,s){if(e[2]&&s){const r=e[2](s(n));if(void 0===t.dirty)return r;if("object"==typeof r){const e=[],n=Math.max(t.dirty.length,r.length);for(let s=0;s<n;s+=1)e[s]=t.dirty[s]|r[s];return e}return t.dirty|r}return t.dirty}function g(e,t,n,s,r,o){if(r){const i=p(t,n,s,o);e.p(i,r)}}function m(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function b(e,t){const n={};t=new Set(t);for(const s in e)t.has(s)||"$"===s[0]||(n[s]=e[s]);return n}function v(e,t){e.appendChild(t)}function k(e,t,n){e.insertBefore(t,n||null)}function w(e){e.parentNode&&e.parentNode.removeChild(e)}function y(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function _(e){return document.createElement(e)}function $(e){return document.createTextNode(e)}function x(){return $(" ")}function E(){return $("")}function T(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function S(e){return function(t){return t.preventDefault(),e.call(this,t)}}function L(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function A(e,t){t=""+t,e.data!==t&&(e.data=t)}function H(e,t){e.value=null==t?"":t}function N(e,t,n,s){null==n?e.style.removeProperty(t):e.style.setProperty(t,n,s?"important":"")}function P(e,t,n){for(let n=0;n<e.options.length;n+=1){const s=e.options[n];if(s.__value===t)return void(s.selected=!0)}n&&void 0===t||(e.selectedIndex=-1)}function R(e){const t=e.querySelector(":checked");return t&&t.__value}function O(e,t,n){e.classList[n?"add":"remove"](t)}class C{constructor(e=!1){this.is_svg=!1,this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){var s;this.e||(this.is_svg?this.e=(s=t.nodeName,document.createElementNS("http://www.w3.org/2000/svg",s)):this.e=_(11===t.nodeType?"TEMPLATE":t.nodeName),this.t="TEMPLATE"!==t.tagName?t:t.content,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from("TEMPLATE"===this.e.nodeName?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)k(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(w)}}function B(e,t){return new e(t)}function F(e){l=e}function I(){if(!l)throw new Error("Function called outside component initialization");return l}function M(e){I().$$.on_mount.push(e)}function D(){const e=I();return(t,n,{cancelable:s=!1}={})=>{const r=e.$$.callbacks[t];if(r){const o=function(e,t,{bubbles:n=!1,cancelable:s=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n,s,t),r}(t,n,{cancelable:s});return r.slice().forEach((t=>{t.call(e,o)})),!o.defaultPrevented}return!0}}const z=[],U=[];let q=[];const j=[],G=Promise.resolve();let V=!1;function Z(e){q.push(e)}function X(e){j.push(e)}const K=new Set;let J=0;function Y(){if(0!==J)return;const e=l;do{try{for(;J<z.length;){const e=z[J];J++,F(e),Q(e.$$)}}catch(e){throw z.length=0,J=0,e}for(F(null),z.length=0,J=0;U.length;)U.pop()();for(let e=0;e<q.length;e+=1){const t=q[e];K.has(t)||(K.add(t),t())}q.length=0}while(z.length);for(;j.length;)j.pop()();V=!1,K.clear(),F(e)}function Q(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Z)}}const W=new Set;let ee;function te(){ee={r:0,c:[],p:ee}}function ne(){ee.r||r(ee.c),ee=ee.p}function se(e,t){e&&e.i&&(W.delete(e),e.i(t))}function re(e,t,n,s){if(e&&e.o){if(W.has(e))return;W.add(e),ee.c.push((()=>{W.delete(e),s&&(n&&e.d(1),s())})),e.o(t)}else s&&s()}function oe(e,t){const n={},s={},r={$$scope:1};let o=e.length;for(;o--;){const i=e[o],a=t[o];if(a){for(const e in i)e in a||(s[e]=1);for(const e in a)r[e]||(n[e]=a[e],r[e]=1);e[o]=a}else for(const e in i)r[e]=1}for(const e in s)e in n||(n[e]=void 0);return n}function ie(e){return"object"==typeof e&&null!==e?e:{}}function ae(e,t,n){const s=e.$$.props[t];void 0!==s&&(e.$$.bound[s]=n,n(e.$$.ctx[s]))}function le(e){e&&e.c()}function ce(e,t,s,i){const{fragment:a,after_update:l}=e.$$;a&&a.m(t,s),i||Z((()=>{const t=e.$$.on_mount.map(n).filter(o);e.$$.on_destroy?e.$$.on_destroy.push(...t):r(t),e.$$.on_mount=[]})),l.forEach(Z)}function ue(e,t){const n=e.$$;null!==n.fragment&&(!function(e){const t=[],n=[];q.forEach((s=>-1===e.indexOf(s)?t.push(s):n.push(s))),n.forEach((e=>e())),q=t}(n.after_update),r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function de(e,t){-1===e.$$.dirty[0]&&(z.push(e),V||(V=!0,G.then(Y)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function he(t,n,o,i,a,c,u,d=[-1]){const h=l;F(t);const p=t.$$={fragment:null,ctx:[],props:c,update:e,not_equal:a,bound:s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(h?h.$$.context:[])),callbacks:s(),dirty:d,skip_bound:!1,root:n.target||h.$$.root};u&&u(p.root);let f=!1;if(p.ctx=o?o(t,n.props||{},((e,n,...s)=>{const r=s.length?s[0]:n;return p.ctx&&a(p.ctx[e],p.ctx[e]=r)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](r),f&&de(t,e)),n})):[],p.update(),f=!0,r(p.before_update),p.fragment=!!i&&i(p.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);p.fragment&&p.fragment.l(e),e.forEach(w)}else p.fragment&&p.fragment.c();n.intro&&se(t.$$.fragment),ce(t,n.target,n.anchor,n.customElement),Y()}F(h)}class pe{$destroy(){ue(this,1),this.$destroy=e}$on(t,n){if(!o(n))return e;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const e=s.indexOf(n);-1!==e&&s.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const fe=[];function ge(t,n=e){let s;const r=new Set;function o(e){if(i(t,e)&&(t=e,s)){const e=!fe.length;for(const e of r)e[1](),fe.push(e,t);if(e){for(let e=0;e<fe.length;e+=2)fe[e][0](fe[e+1]);fe.length=0}}}return{set:o,update:function(e){o(e(t))},subscribe:function(i,a=e){const l=[i,a];return r.add(l),1===r.size&&(s=n(o)||e),i(t),()=>{r.delete(l),0===r.size&&s&&(s(),s=null)}}}}function me(t,n,s){const i=!Array.isArray(t),a=i?[t]:t,l=n.length<2;return c=t=>{let s=!1;const c=[];let d=0,h=e;const p=()=>{if(d)return;h();const s=n(i?c[0]:c,t);l?t(s):h=o(s)?s:e},f=a.map(((e,t)=>u(e,(e=>{c[t]=e,d&=~(1<<t),s&&p()}),(()=>{d|=1<<t}))));return s=!0,p(),function(){r(f),h(),s=!1}},{subscribe:ge(s,c).subscribe};var c}async function be(e){return new Promise((t=>setTimeout(t,e)))}function ve(e,t,n){var s="";if(n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3),s="; expires="+r.toUTCString()}document.cookie=e+"="+(t||"")+s+"; path=/"}async function ke(e,t){const n=await fetch("/log_action",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:e,data:t})});if(!n.ok)throw new Error("Failed to log action");const s=await n.json();console.log(s.message)}function we(e,t){t.currentTime=function(e){let t=e.split(":");return 3600*parseInt(t[0])+60*parseInt(t[1])+parseInt(t[2].split(",")[0])+parseInt(t[2].split(",")[1])/1e3}(e),t.play()}function ye(e){let t=parseInt(e.dialogue_id),n=document.getElementById(t);n?n.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}):console.log("Error: Can't focus on feedback. Corresponding transcript excerpt not found.")}function _e(e){!function(e){try{return navigator.clipboard.writeText(e)}catch{const t=document.createElement("textarea"),n=document.activeElement;t.value=e,t.setAttribute("readonly",""),t.style.contain="strict",t.style.position="absolute",t.style.left="-9999px",t.style.fontSize="12pt";const s=document.getSelection(),r=s?s.rangeCount>0&&s.getRangeAt(0):null;document.body.appendChild(t),t.select(),t.selectionStart=0,t.selectionEnd=e.length,document.execCommand("copy"),document.body.removeChild(t),r&&s&&(s.removeAllRanges(),s.addRange(r)),n&&n.focus()}}(e)}function $e(t){let n,s,r,o,i,a,l,c,u;return{c(){n=_("div"),s=_("span"),r=$("["),o=$(t[0]),i=$("%] "),a=$(t[1]),l=x(),c=_("div"),u=_("div"),L(s,"class","status-text svelte-e99ivy"),L(u,"class","loading-bar-progress svelte-e99ivy"),N(u,"width",t[0]+"%"),L(c,"class","loading-bar-container svelte-e99ivy"),L(n,"class","container column centered spaced svelte-e99ivy")},m(e,t){k(e,n,t),v(n,s),v(s,r),v(s,o),v(s,i),v(s,a),v(n,l),v(n,c),v(c,u)},p(e,[t]){1&t&&A(o,e[0]),2&t&&A(a,e[1]),1&t&&N(u,"width",e[0]+"%")},i:e,o:e,d(e){e&&w(n)}}}function xe(e,t,n){let{progress:s=0}=t,{status:r=""}=t;return e.$$set=e=>{"progress"in e&&n(0,s=e.progress),"status"in e&&n(1,r=e.status)},[s,r]}class Ee extends pe{constructor(e){super(),he(this,e,xe,$e,i,{progress:0,status:1})}}async function Te(e){const t=await fetch("/save_recording",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recording:e})});if(!t.ok)throw new Error("Failed to save recording");let n=await t.json();return"message"in n&&console.log(n.message),n.message}async function Se(e){const t=await fetch("/save_feedback_list",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({feedback_list:e})});if(!t.ok)throw new Error("Failed to save feedback list");let n=await t.json();return"message"in n&&console.log(n.message),n.message}async function Le(e){const t=await fetch("/save_display_chatbot_messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({display_chatbot_messages:e})});if(!t.ok)throw new Error("Failed to save display chatbot messages");let n=await t.json();return"message"in n&&console.log(n.message),n.message}async function Ae(e){const t=await fetch("/save_my_notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({my_notes:e})});if(!t.ok)throw new Error("Failed to save my notes");let n=await t.json();return"message"in n&&console.log(n.message),n.message}async function He(e){const t=await fetch("/save_feedback_notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({feedback_notes:e})});if(!t.ok)throw new Error("Failed to save my feedback notes");let n=await t.json();return"message"in n&&console.log(n.message),n.message}function Ne(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Pe=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===Re}(e)}(e)};var Re="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function Oe(e,t){return!1!==t.clone&&t.isMergeableObject(e)?Me((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function Ce(e,t,n){return e.concat(t).map((function(e){return Oe(e,n)}))}function Be(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return Object.propertyIsEnumerable.call(e,t)})):[]}(e))}function Fe(e,t){try{return t in e}catch(e){return!1}}function Ie(e,t,n){var s={};return n.isMergeableObject(e)&&Be(e).forEach((function(t){s[t]=Oe(e[t],n)})),Be(t).forEach((function(r){(function(e,t){return Fe(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,r)||(Fe(e,r)&&n.isMergeableObject(t[r])?s[r]=function(e,t){if(!t.customMerge)return Me;var n=t.customMerge(e);return"function"==typeof n?n:Me}(r,n)(e[r],t[r],n):s[r]=Oe(t[r],n))})),s}function Me(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||Ce,n.isMergeableObject=n.isMergeableObject||Pe,n.cloneUnlessOtherwiseSpecified=Oe;var s=Array.isArray(t);return s===Array.isArray(e)?s?n.arrayMerge(e,t,n):Ie(e,t,n):Oe(t,n)}Me.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return Me(e,n,t)}),{})};var De=Ne(Me),ze=function(e,t){return ze=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},ze(e,t)};function Ue(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}ze(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var qe=function(){return qe=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},qe.apply(this,arguments)};function je(e,t,n){if(n||2===arguments.length)for(var s,r=0,o=t.length;r<o;r++)!s&&r in t||(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}function Ge(e,t){var n=t&&t.cache?t.cache:tt,s=t&&t.serializer?t.serializer:Je;return(t&&t.strategy?t.strategy:Ke)(e,{cache:n,serializer:s})}function Ve(e,t,n,s){var r,o=null==(r=s)||"number"==typeof r||"boolean"==typeof r?s:n(s),i=t.get(o);return void 0===i&&(i=e.call(this,s),t.set(o,i)),i}function Ze(e,t,n){var s=Array.prototype.slice.call(arguments,3),r=n(s),o=t.get(r);return void 0===o&&(o=e.apply(this,s),t.set(r,o)),o}function Xe(e,t,n,s,r){return n.bind(t,e,s,r)}function Ke(e,t){return Xe(e,this,1===e.length?Ve:Ze,t.cache.create(),t.serializer)}"function"==typeof SuppressedError&&SuppressedError;var Je=function(){return JSON.stringify(arguments)};function Ye(){this.cache=Object.create(null)}Ye.prototype.get=function(e){return this.cache[e]},Ye.prototype.set=function(e,t){this.cache[e]=t};var Qe,We,et,tt={create:function(){return new Ye}},nt={variadic:function(e,t){return Xe(e,this,Ze,t.cache.create(),t.serializer)},monadic:function(e,t){return Xe(e,this,Ve,t.cache.create(),t.serializer)}};function st(e){return e.type===We.literal}function rt(e){return e.type===We.argument}function ot(e){return e.type===We.number}function it(e){return e.type===We.date}function at(e){return e.type===We.time}function lt(e){return e.type===We.select}function ct(e){return e.type===We.plural}function ut(e){return e.type===We.pound}function dt(e){return e.type===We.tag}function ht(e){return!(!e||"object"!=typeof e||e.type!==et.number)}function pt(e){return!(!e||"object"!=typeof e||e.type!==et.dateTime)}!function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(Qe||(Qe={})),function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(We||(We={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(et||(et={}));var ft=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,gt=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function mt(e){var t={};return e.replace(gt,(function(e){var n=e.length;switch(e[0]){case"G":t.era=4===n?"long":5===n?"narrow":"short";break;case"y":t.year=2===n?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===n?"long":5===n?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][n-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][n-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][n-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][n-1];break;case"s":t.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),t}var bt=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;var vt=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,kt=/^(@+)?(\+|#+)?[rs]?$/g,wt=/(\*)(0+)|(#+)(0+)|(0+)/g,yt=/^(0+)$/;function _t(e){var t={};return"r"===e[e.length-1]?t.roundingPriority="morePrecision":"s"===e[e.length-1]&&(t.roundingPriority="lessPrecision"),e.replace(kt,(function(e,n,s){return"string"!=typeof s?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):"+"===s?t.minimumSignificantDigits=n.length:"#"===n[0]?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+("string"==typeof s?s.length:0)),""})),t}function $t(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function xt(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var n=e.slice(0,2);if("+!"===n?(t.signDisplay="always",e=e.slice(2)):"+?"===n&&(t.signDisplay="exceptZero",e=e.slice(2)),!yt.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function Et(e){var t=$t(e);return t||{}}function Tt(e){for(var t={},n=0,s=e;n<s.length;n++){var r=s[n];switch(r.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=r.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=r.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=qe(qe(qe({},t),{notation:"scientific"}),r.options.reduce((function(e,t){return qe(qe({},e),Et(t))}),{}));continue;case"engineering":t=qe(qe(qe({},t),{notation:"engineering"}),r.options.reduce((function(e,t){return qe(qe({},e),Et(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(r.options[0]);continue;case"rounding-mode-floor":t.roundingMode="floor";continue;case"rounding-mode-ceiling":t.roundingMode="ceil";continue;case"rounding-mode-down":t.roundingMode="trunc";continue;case"rounding-mode-up":t.roundingMode="expand";continue;case"rounding-mode-half-even":t.roundingMode="halfEven";continue;case"rounding-mode-half-down":t.roundingMode="halfTrunc";continue;case"rounding-mode-half-up":t.roundingMode="halfExpand";continue;case"integer-width":if(r.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");r.options[0].replace(wt,(function(e,n,s,r,o,i){if(n)t.minimumIntegerDigits=s.length;else{if(r&&o)throw new Error("We currently do not support maximum integer digits");if(i)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(yt.test(r.stem))t.minimumIntegerDigits=r.stem.length;else if(vt.test(r.stem)){if(r.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");r.stem.replace(vt,(function(e,n,s,r,o,i){return"*"===s?t.minimumFractionDigits=n.length:r&&"#"===r[0]?t.maximumFractionDigits=r.length:o&&i?(t.minimumFractionDigits=o.length,t.maximumFractionDigits=o.length+i.length):(t.minimumFractionDigits=n.length,t.maximumFractionDigits=n.length),""}));var o=r.options[0];"w"===o?t=qe(qe({},t),{trailingZeroDisplay:"stripIfInteger"}):o&&(t=qe(qe({},t),_t(o)))}else if(kt.test(r.stem))t=qe(qe({},t),_t(r.stem));else{var i=$t(r.stem);i&&(t=qe(qe({},t),i));var a=xt(r.stem);a&&(t=qe(qe({},t),a))}}return t}var St,Lt={"001":["H","h"],419:["h","H","hB","hb"],AC:["H","h","hb","hB"],AD:["H","hB"],AE:["h","hB","hb","H"],AF:["H","hb","hB","h"],AG:["h","hb","H","hB"],AI:["H","h","hb","hB"],AL:["h","H","hB"],AM:["H","hB"],AO:["H","hB"],AR:["h","H","hB","hb"],AS:["h","H"],AT:["H","hB"],AU:["h","hb","H","hB"],AW:["H","hB"],AX:["H"],AZ:["H","hB","h"],BA:["H","hB","h"],BB:["h","hb","H","hB"],BD:["h","hB","H"],BE:["H","hB"],BF:["H","hB"],BG:["H","hB","h"],BH:["h","hB","hb","H"],BI:["H","h"],BJ:["H","hB"],BL:["H","hB"],BM:["h","hb","H","hB"],BN:["hb","hB","h","H"],BO:["h","H","hB","hb"],BQ:["H"],BR:["H","hB"],BS:["h","hb","H","hB"],BT:["h","H"],BW:["H","h","hb","hB"],BY:["H","h"],BZ:["H","h","hb","hB"],CA:["h","hb","H","hB"],CC:["H","h","hb","hB"],CD:["hB","H"],CF:["H","h","hB"],CG:["H","hB"],CH:["H","hB","h"],CI:["H","hB"],CK:["H","h","hb","hB"],CL:["h","H","hB","hb"],CM:["H","h","hB"],CN:["H","hB","hb","h"],CO:["h","H","hB","hb"],CP:["H"],CR:["h","H","hB","hb"],CU:["h","H","hB","hb"],CV:["H","hB"],CW:["H","hB"],CX:["H","h","hb","hB"],CY:["h","H","hb","hB"],CZ:["H"],DE:["H","hB"],DG:["H","h","hb","hB"],DJ:["h","H"],DK:["H"],DM:["h","hb","H","hB"],DO:["h","H","hB","hb"],DZ:["h","hB","hb","H"],EA:["H","h","hB","hb"],EC:["h","H","hB","hb"],EE:["H","hB"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],ER:["h","H"],ES:["H","hB","h","hb"],ET:["hB","hb","h","H"],FI:["H"],FJ:["h","hb","H","hB"],FK:["H","h","hb","hB"],FM:["h","hb","H","hB"],FO:["H","h"],FR:["H","hB"],GA:["H","hB"],GB:["H","h","hb","hB"],GD:["h","hb","H","hB"],GE:["H","hB","h"],GF:["H","hB"],GG:["H","h","hb","hB"],GH:["h","H"],GI:["H","h","hb","hB"],GL:["H","h"],GM:["h","hb","H","hB"],GN:["H","hB"],GP:["H","hB"],GQ:["H","hB","h","hb"],GR:["h","H","hb","hB"],GT:["h","H","hB","hb"],GU:["h","hb","H","hB"],GW:["H","hB"],GY:["h","hb","H","hB"],HK:["h","hB","hb","H"],HN:["h","H","hB","hb"],HR:["H","hB"],HU:["H","h"],IC:["H","h","hB","hb"],ID:["H"],IE:["H","h","hb","hB"],IL:["H","hB"],IM:["H","h","hb","hB"],IN:["h","H"],IO:["H","h","hb","hB"],IQ:["h","hB","hb","H"],IR:["hB","H"],IS:["H"],IT:["H","hB"],JE:["H","h","hb","hB"],JM:["h","hb","H","hB"],JO:["h","hB","hb","H"],JP:["H","K","h"],KE:["hB","hb","H","h"],KG:["H","h","hB","hb"],KH:["hB","h","H","hb"],KI:["h","hb","H","hB"],KM:["H","h","hB","hb"],KN:["h","hb","H","hB"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],KW:["h","hB","hb","H"],KY:["h","hb","H","hB"],KZ:["H","hB"],LA:["H","hb","hB","h"],LB:["h","hB","hb","H"],LC:["h","hb","H","hB"],LI:["H","hB","h"],LK:["H","h","hB","hb"],LR:["h","hb","H","hB"],LS:["h","H"],LT:["H","h","hb","hB"],LU:["H","h","hB"],LV:["H","hB","hb","h"],LY:["h","hB","hb","H"],MA:["H","h","hB","hb"],MC:["H","hB"],MD:["H","hB"],ME:["H","hB","h"],MF:["H","hB"],MG:["H","h"],MH:["h","hb","H","hB"],MK:["H","h","hb","hB"],ML:["H"],MM:["hB","hb","H","h"],MN:["H","h","hb","hB"],MO:["h","hB","hb","H"],MP:["h","hb","H","hB"],MQ:["H","hB"],MR:["h","hB","hb","H"],MS:["H","h","hb","hB"],MT:["H","h"],MU:["H","h"],MV:["H","h"],MW:["h","hb","H","hB"],MX:["h","H","hB","hb"],MY:["hb","hB","h","H"],MZ:["H","hB"],NA:["h","H","hB","hb"],NC:["H","hB"],NE:["H"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NI:["h","H","hB","hb"],NL:["H","hB"],NO:["H","h"],NP:["H","h","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],NZ:["h","hb","H","hB"],OM:["h","hB","hb","H"],PA:["h","H","hB","hb"],PE:["h","H","hB","hb"],PF:["H","h","hB"],PG:["h","H"],PH:["h","hB","hb","H"],PK:["h","hB","H"],PL:["H","h"],PM:["H","hB"],PN:["H","h","hb","hB"],PR:["h","H","hB","hb"],PS:["h","hB","hb","H"],PT:["H","hB"],PW:["h","H"],PY:["h","H","hB","hb"],QA:["h","hB","hb","H"],RE:["H","hB"],RO:["H","hB"],RS:["H","hB","h"],RU:["H"],RW:["H","h"],SA:["h","hB","hb","H"],SB:["h","hb","H","hB"],SC:["H","h","hB"],SD:["h","hB","hb","H"],SE:["H"],SG:["h","hb","H","hB"],SH:["H","h","hb","hB"],SI:["H","hB"],SJ:["H"],SK:["H"],SL:["h","hb","H","hB"],SM:["H","h","hB"],SN:["H","h","hB"],SO:["h","H"],SR:["H","hB"],SS:["h","hb","H","hB"],ST:["H","hB"],SV:["h","H","hB","hb"],SX:["H","h","hb","hB"],SY:["h","hB","hb","H"],SZ:["h","hb","H","hB"],TA:["H","h","hb","hB"],TC:["h","hb","H","hB"],TD:["h","H","hB"],TF:["H","h","hB"],TG:["H","hB"],TH:["H","h"],TJ:["H","h"],TL:["H","hB","hb","h"],TM:["H","h"],TN:["h","hB","hb","H"],TO:["h","H"],TR:["H","hB"],TT:["h","hb","H","hB"],TW:["hB","hb","h","H"],TZ:["hB","hb","H","h"],UA:["H","hB","h"],UG:["hB","hb","H","h"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],UY:["h","H","hB","hb"],UZ:["H","hB","h"],VA:["H","h","hB"],VC:["h","hb","H","hB"],VE:["h","H","hB","hb"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],VN:["H","h"],VU:["h","H"],WF:["H","hB"],WS:["h","H"],XK:["H","hB","h"],YE:["h","hB","hb","H"],YT:["H","hB"],ZA:["H","h","hb","hB"],ZM:["h","hb","H","hB"],ZW:["H","h"],"af-ZA":["H","h","hB","hb"],"ar-001":["h","hB","hb","H"],"ca-ES":["H","h","hB"],"en-001":["h","hb","H","hB"],"es-BR":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"gu-IN":["hB","hb","h","H"],"hi-IN":["hB","h","H"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],"ta-IN":["hB","h","hb","H"],"te-IN":["hB","h","H"],"zu-ZA":["H","hB","hb","h"]};function At(e){var t=e.hourCycle;if(void 0===t&&e.hourCycles&&e.hourCycles.length&&(t=e.hourCycles[0]),t)switch(t){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var n,s=e.language;return"root"!==s&&(n=e.maximize().region),(Lt[n||""]||Lt[s||""]||Lt["".concat(s,"-001")]||Lt["001"])[0]}var Ht=new RegExp("^".concat(ft.source,"*")),Nt=new RegExp("".concat(ft.source,"*$"));function Pt(e,t){return{start:e,end:t}}var Rt=!!String.prototype.startsWith&&"_a".startsWith("a",1),Ot=!!String.fromCodePoint,Ct=!!Object.fromEntries,Bt=!!String.prototype.codePointAt,Ft=!!String.prototype.trimStart,It=!!String.prototype.trimEnd,Mt=!!Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},Dt=!0;try{Dt="a"===(null===(St=Xt("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===St?void 0:St[0])}catch(e){Dt=!1}var zt,Ut=Rt?function(e,t,n){return e.startsWith(t,n)}:function(e,t,n){return e.slice(n,n+t.length)===t},qt=Ot?String.fromCodePoint:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n,s="",r=e.length,o=0;r>o;){if((n=e[o++])>1114111)throw RangeError(n+" is not a valid code point");s+=n<65536?String.fromCharCode(n):String.fromCharCode(55296+((n-=65536)>>10),n%1024+56320)}return s},jt=Ct?Object.fromEntries:function(e){for(var t={},n=0,s=e;n<s.length;n++){var r=s[n],o=r[0],i=r[1];t[o]=i}return t},Gt=Bt?function(e,t){return e.codePointAt(t)}:function(e,t){var n=e.length;if(!(t<0||t>=n)){var s,r=e.charCodeAt(t);return r<55296||r>56319||t+1===n||(s=e.charCodeAt(t+1))<56320||s>57343?r:s-56320+(r-55296<<10)+65536}},Vt=Ft?function(e){return e.trimStart()}:function(e){return e.replace(Ht,"")},Zt=It?function(e){return e.trimEnd()}:function(e){return e.replace(Nt,"")};function Xt(e,t){return new RegExp(e,t)}if(Dt){var Kt=Xt("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");zt=function(e,t){var n;return Kt.lastIndex=t,null!==(n=Kt.exec(e)[1])&&void 0!==n?n:""}}else zt=function(e,t){for(var n=[];;){var s=Gt(e,t);if(void 0===s||Wt(s)||en(s))break;n.push(s),t+=s>=65536?2:1}return qt.apply(void 0,n)};var Jt,Yt=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.locale=t.locale,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,n){for(var s=[];!this.isEOF();){var r=this.char();if(123===r){if((o=this.parseArgument(e,n)).err)return o;s.push(o.val)}else{if(125===r&&e>0)break;if(35!==r||"plural"!==t&&"selectordinal"!==t){if(60===r&&!this.ignoreTag&&47===this.peek()){if(n)break;return this.error(Qe.UNMATCHED_CLOSING_TAG,Pt(this.clonePosition(),this.clonePosition()))}if(60===r&&!this.ignoreTag&&Qt(this.peek()||0)){if((o=this.parseTag(e,t)).err)return o;s.push(o.val)}else{var o;if((o=this.parseLiteral(e,t)).err)return o;s.push(o.val)}}else{var i=this.clonePosition();this.bump(),s.push({type:We.pound,location:Pt(i,this.clonePosition())})}}}return{val:s,err:null}},e.prototype.parseTag=function(e,t){var n=this.clonePosition();this.bump();var s=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:We.literal,value:"<".concat(s,"/>"),location:Pt(n,this.clonePosition())},err:null};if(this.bumpIf(">")){var r=this.parseMessage(e+1,t,!0);if(r.err)return r;var o=r.val,i=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!Qt(this.char()))return this.error(Qe.INVALID_TAG,Pt(i,this.clonePosition()));var a=this.clonePosition();return s!==this.parseTagName()?this.error(Qe.UNMATCHED_CLOSING_TAG,Pt(a,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:We.tag,value:s,children:o,location:Pt(n,this.clonePosition())},err:null}:this.error(Qe.INVALID_TAG,Pt(i,this.clonePosition())))}return this.error(Qe.UNCLOSED_TAG,Pt(n,this.clonePosition()))}return this.error(Qe.INVALID_TAG,Pt(n,this.clonePosition()))},e.prototype.parseTagName=function(){var e,t=this.offset();for(this.bump();!this.isEOF()&&(45===(e=this.char())||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039);)this.bump();return this.message.slice(t,this.offset())},e.prototype.parseLiteral=function(e,t){for(var n=this.clonePosition(),s="";;){var r=this.tryParseQuote(t);if(r)s+=r;else{var o=this.tryParseUnquoted(e,t);if(o)s+=o;else{var i=this.tryParseLeftAngleBracket();if(!i)break;s+=i}}}var a=Pt(n,this.clonePosition());return{val:{type:We.literal,value:s,location:a},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&(Qt(e=this.peek()||0)||47===e)?null:(this.bump(),"<");var e},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(39===n){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(n);this.bump()}return qt.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var n=this.char();return 60===n||123===n||35===n&&("plural"===t||"selectordinal"===t)||125===n&&e>0?null:(this.bump(),qt(n))},e.prototype.parseArgument=function(e,t){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(Qe.EXPECT_ARGUMENT_CLOSING_BRACE,Pt(n,this.clonePosition()));if(125===this.char())return this.bump(),this.error(Qe.EMPTY_ARGUMENT,Pt(n,this.clonePosition()));var s=this.parseIdentifierIfPossible().value;if(!s)return this.error(Qe.MALFORMED_ARGUMENT,Pt(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(Qe.EXPECT_ARGUMENT_CLOSING_BRACE,Pt(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:We.argument,value:s,location:Pt(n,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(Qe.EXPECT_ARGUMENT_CLOSING_BRACE,Pt(n,this.clonePosition())):this.parseArgumentOptions(e,t,s,n);default:return this.error(Qe.MALFORMED_ARGUMENT,Pt(n,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),n=zt(this.message,t),s=t+n.length;return this.bumpTo(s),{value:n,location:Pt(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,n,s){var r,o=this.clonePosition(),i=this.parseIdentifierIfPossible().value,a=this.clonePosition();switch(i){case"":return this.error(Qe.EXPECT_ARGUMENT_TYPE,Pt(o,a));case"number":case"date":case"time":this.bumpSpace();var l=null;if(this.bumpIf(",")){this.bumpSpace();var c=this.clonePosition();if((b=this.parseSimpleArgStyleIfPossible()).err)return b;if(0===(p=Zt(b.val)).length)return this.error(Qe.EXPECT_ARGUMENT_STYLE,Pt(this.clonePosition(),this.clonePosition()));l={style:p,styleLocation:Pt(c,this.clonePosition())}}if((v=this.tryParseArgumentClose(s)).err)return v;var u=Pt(s,this.clonePosition());if(l&&Ut(null==l?void 0:l.style,"::",0)){var d=Vt(l.style.slice(2));if("number"===i)return(b=this.parseNumberSkeletonFromString(d,l.styleLocation)).err?b:{val:{type:We.number,value:n,location:u,style:b.val},err:null};if(0===d.length)return this.error(Qe.EXPECT_DATE_TIME_SKELETON,u);var h=d;this.locale&&(h=function(e,t){for(var n="",s=0;s<e.length;s++){var r=e.charAt(s);if("j"===r){for(var o=0;s+1<e.length&&e.charAt(s+1)===r;)o++,s++;var i=1+(1&o),a=o<2?1:3+(o>>1),l=At(t);for("H"!=l&&"k"!=l||(a=0);a-- >0;)n+="a";for(;i-- >0;)n=l+n}else n+="J"===r?"H":r}return n}(d,this.locale));var p={type:et.dateTime,pattern:h,location:l.styleLocation,parsedOptions:this.shouldParseSkeletons?mt(h):{}};return{val:{type:"date"===i?We.date:We.time,value:n,location:u,style:p},err:null}}return{val:{type:"number"===i?We.number:"date"===i?We.date:We.time,value:n,location:u,style:null!==(r=null==l?void 0:l.style)&&void 0!==r?r:null},err:null};case"plural":case"selectordinal":case"select":var f=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(Qe.EXPECT_SELECT_ARGUMENT_OPTIONS,Pt(f,qe({},f)));this.bumpSpace();var g=this.parseIdentifierIfPossible(),m=0;if("select"!==i&&"offset"===g.value){if(!this.bumpIf(":"))return this.error(Qe.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Pt(this.clonePosition(),this.clonePosition()));var b;if(this.bumpSpace(),(b=this.tryParseDecimalInteger(Qe.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Qe.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return b;this.bumpSpace(),g=this.parseIdentifierIfPossible(),m=b.val}var v,k=this.tryParsePluralOrSelectOptions(e,i,t,g);if(k.err)return k;if((v=this.tryParseArgumentClose(s)).err)return v;var w=Pt(s,this.clonePosition());return"select"===i?{val:{type:We.select,value:n,options:jt(k.val),location:w},err:null}:{val:{type:We.plural,value:n,options:jt(k.val),offset:m,pluralType:"plural"===i?"cardinal":"ordinal",location:w},err:null};default:return this.error(Qe.INVALID_ARGUMENT_TYPE,Pt(o,a))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(Qe.EXPECT_ARGUMENT_CLOSING_BRACE,Pt(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();){switch(this.char()){case 39:this.bump();var n=this.clonePosition();if(!this.bumpUntil("'"))return this.error(Qe.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,Pt(n,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var n=[];try{n=function(e){if(0===e.length)throw new Error("Number skeleton cannot be empty");for(var t=[],n=0,s=e.split(bt).filter((function(e){return e.length>0}));n<s.length;n++){var r=s[n].split("/");if(0===r.length)throw new Error("Invalid number skeleton");for(var o=r[0],i=r.slice(1),a=0,l=i;a<l.length;a++)if(0===l[a].length)throw new Error("Invalid number skeleton");t.push({stem:o,options:i})}return t}(e)}catch(e){return this.error(Qe.INVALID_NUMBER_SKELETON,t)}return{val:{type:et.number,tokens:n,location:t,parsedOptions:this.shouldParseSkeletons?Tt(n):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,n,s){for(var r,o=!1,i=[],a=new Set,l=s.value,c=s.location;;){if(0===l.length){var u=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var d=this.tryParseDecimalInteger(Qe.EXPECT_PLURAL_ARGUMENT_SELECTOR,Qe.INVALID_PLURAL_ARGUMENT_SELECTOR);if(d.err)return d;c=Pt(u,this.clonePosition()),l=this.message.slice(u.offset,this.offset())}if(a.has(l))return this.error("select"===t?Qe.DUPLICATE_SELECT_ARGUMENT_SELECTOR:Qe.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,c);"other"===l&&(o=!0),this.bumpSpace();var h=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?Qe.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:Qe.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,Pt(this.clonePosition(),this.clonePosition()));var p=this.parseMessage(e+1,t,n);if(p.err)return p;var f=this.tryParseArgumentClose(h);if(f.err)return f;i.push([l,{value:p.val,location:Pt(h,this.clonePosition())}]),a.add(l),this.bumpSpace(),l=(r=this.parseIdentifierIfPossible()).value,c=r.location}return 0===i.length?this.error("select"===t?Qe.EXPECT_SELECT_ARGUMENT_SELECTOR:Qe.EXPECT_PLURAL_ARGUMENT_SELECTOR,Pt(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!o?this.error(Qe.MISSING_OTHER_CLAUSE,Pt(this.clonePosition(),this.clonePosition())):{val:i,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var n=1,s=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var r=!1,o=0;!this.isEOF();){var i=this.char();if(!(i>=48&&i<=57))break;r=!0,o=10*o+(i-48),this.bump()}var a=Pt(s,this.clonePosition());return r?Mt(o*=n)?{val:o,err:null}:this.error(t,a):this.error(e,a)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=Gt(this.message,e);if(void 0===t)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(Ut(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),n=this.message.indexOf(e,t);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&Wt(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),n=this.message.charCodeAt(t+(e>=65536?2:1));return null!=n?n:null},e}();function Qt(e){return e>=97&&e<=122||e>=65&&e<=90}function Wt(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function en(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}function tn(e){e.forEach((function(e){if(delete e.location,lt(e)||ct(e))for(var t in e.options)delete e.options[t].location,tn(e.options[t].value);else ot(e)&&ht(e.style)||(it(e)||at(e))&&pt(e.style)?delete e.style.location:dt(e)&&tn(e.children)}))}function nn(e,t){void 0===t&&(t={}),t=qe({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var n=new Yt(e,t).parse();if(n.err){var s=SyntaxError(Qe[n.err.kind]);throw s.location=n.err.location,s.originalMessage=n.err.message,s}return(null==t?void 0:t.captureLocation)||tn(n.val),n.val}!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(Jt||(Jt={}));var sn,rn=function(e){function t(t,n,s){var r=e.call(this,t)||this;return r.code=n,r.originalMessage=s,r}return Ue(t,e),t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error),on=function(e){function t(t,n,s,r){return e.call(this,'Invalid values for "'.concat(t,'": "').concat(n,'". Options are "').concat(Object.keys(s).join('", "'),'"'),Jt.INVALID_VALUE,r)||this}return Ue(t,e),t}(rn),an=function(e){function t(t,n,s){return e.call(this,'Value for "'.concat(t,'" must be of type ').concat(n),Jt.INVALID_VALUE,s)||this}return Ue(t,e),t}(rn),ln=function(e){function t(t,n){return e.call(this,'The intl string context variable "'.concat(t,'" was not provided to the string "').concat(n,'"'),Jt.MISSING_VALUE,n)||this}return Ue(t,e),t}(rn);function cn(e){return"function"==typeof e}function un(e,t,n,s,r,o,i){if(1===e.length&&st(e[0]))return[{type:sn.literal,value:e[0].value}];for(var a=[],l=0,c=e;l<c.length;l++){var u=c[l];if(st(u))a.push({type:sn.literal,value:u.value});else if(ut(u))"number"==typeof o&&a.push({type:sn.literal,value:n.getNumberFormat(t).format(o)});else{var d=u.value;if(!r||!(d in r))throw new ln(d,i);var h=r[d];if(rt(u))h&&"string"!=typeof h&&"number"!=typeof h||(h="string"==typeof h||"number"==typeof h?String(h):""),a.push({type:"string"==typeof h?sn.literal:sn.object,value:h});else if(it(u)){var p="string"==typeof u.style?s.date[u.style]:pt(u.style)?u.style.parsedOptions:void 0;a.push({type:sn.literal,value:n.getDateTimeFormat(t,p).format(h)})}else if(at(u)){p="string"==typeof u.style?s.time[u.style]:pt(u.style)?u.style.parsedOptions:s.time.medium;a.push({type:sn.literal,value:n.getDateTimeFormat(t,p).format(h)})}else if(ot(u)){(p="string"==typeof u.style?s.number[u.style]:ht(u.style)?u.style.parsedOptions:void 0)&&p.scale&&(h*=p.scale||1),a.push({type:sn.literal,value:n.getNumberFormat(t,p).format(h)})}else{if(dt(u)){var f=u.children,g=u.value,m=r[g];if(!cn(m))throw new an(g,"function",i);var b=m(un(f,t,n,s,r,o).map((function(e){return e.value})));Array.isArray(b)||(b=[b]),a.push.apply(a,b.map((function(e){return{type:"string"==typeof e?sn.literal:sn.object,value:e}})))}if(lt(u)){if(!(v=u.options[h]||u.options.other))throw new on(u.value,h,Object.keys(u.options),i);a.push.apply(a,un(v.value,t,n,s,r))}else if(ct(u)){var v;if(!(v=u.options["=".concat(h)])){if(!Intl.PluralRules)throw new rn('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',Jt.MISSING_INTL_API,i);var k=n.getPluralRules(t,{type:u.pluralType}).select(h-(u.offset||0));v=u.options[k]||u.options.other}if(!v)throw new on(u.value,h,Object.keys(u.options),i);a.push.apply(a,un(v.value,t,n,s,r,h-(u.offset||0)))}else;}}}return function(e){return e.length<2?e:e.reduce((function(e,t){var n=e[e.length-1];return n&&n.type===sn.literal&&t.type===sn.literal?n.value+=t.value:e.push(t),e}),[])}(a)}function dn(e,t){return t?Object.keys(e).reduce((function(n,s){var r,o;return n[s]=(r=e[s],(o=t[s])?qe(qe(qe({},r||{}),o||{}),Object.keys(r).reduce((function(e,t){return e[t]=qe(qe({},r[t]),o[t]||{}),e}),{})):r),n}),qe({},e)):e}function hn(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(sn||(sn={}));var pn=function(){function e(t,n,s,r){void 0===n&&(n=e.defaultLocale);var o,i=this;if(this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=i.formatToParts(e);if(1===t.length)return t[0].value;var n=t.reduce((function(e,t){return e.length&&t.type===sn.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return n.length<=1?n[0]||"":n},this.formatToParts=function(e){return un(i.ast,i.locales,i.formatters,i.formats,e,void 0,i.message)},this.resolvedOptions=function(){var e;return{locale:(null===(e=i.resolvedLocale)||void 0===e?void 0:e.toString())||Intl.NumberFormat.supportedLocalesOf(i.locales)[0]}},this.getAst=function(){return i.ast},this.locales=n,this.resolvedLocale=e.resolveLocale(n),"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");var a=r||{};a.formatters;var l=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(s=Object.getOwnPropertySymbols(e);r<s.length;r++)t.indexOf(s[r])<0&&Object.prototype.propertyIsEnumerable.call(e,s[r])&&(n[s[r]]=e[s[r]])}return n}(a,["formatters"]);this.ast=e.__parse(t,qe(qe({},l),{locale:this.resolvedLocale}))}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=dn(e.formats,s),this.formatters=r&&r.formatters||(void 0===(o=this.formatterCache)&&(o={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:Ge((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,je([void 0],t,!1)))}),{cache:hn(o.number),strategy:nt.variadic}),getDateTimeFormat:Ge((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,je([void 0],t,!1)))}),{cache:hn(o.dateTime),strategy:nt.variadic}),getPluralRules:Ge((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,je([void 0],t,!1)))}),{cache:hn(o.pluralRules),strategy:nt.variadic})})}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.resolveLocale=function(e){if(void 0!==Intl.Locale){var t=Intl.NumberFormat.supportedLocalesOf(e);return t.length>0?new Intl.Locale(t[0]):new Intl.Locale("string"==typeof e?e:e[0])}},e.__parse=nn,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}();const fn={},gn=(e,t,n)=>n?(t in fn||(fn[t]={}),e in fn[t]||(fn[t][e]=n),n):n,mn=(e,t)=>{if(null==t)return;if(t in fn&&e in fn[t])return fn[t][e];const n=Zn(t);for(let s=0;s<n.length;s++){const r=wn(n[s],e);if(r)return gn(e,t,r)}};let bn;const vn=ge({});function kn(e){return e in bn}function wn(e,t){if(!kn(e))return null;const n=function(e){return bn[e]||null}(e);return function(e,t){if(null==t)return;if(t in e)return e[t];const n=t.split(".");let s=e;for(let e=0;e<n.length;e++)if("object"==typeof s){if(e>0){const t=n.slice(e,n.length).join(".");if(t in s){s=s[t];break}}s=s[n[e]]}else s=void 0;return s}(n,t)}function yn(e,...t){delete fn[e],vn.update((n=>(n[e]=De.all([n[e]||{},...t]),n)))}me([vn],(([e])=>Object.keys(e))),vn.subscribe((e=>bn=e));const _n={};function $n(e){return _n[e]}function xn(e){return null!=e&&Zn(e).some((e=>{var t;return null==(t=$n(e))?void 0:t.size}))}function En(e,t){const n=Promise.all(t.map((t=>(function(e,t){_n[e].delete(t),0===_n[e].size&&delete _n[e]}(e,t),t().then((e=>e.default||e))))));return n.then((t=>yn(e,...t)))}const Tn={};function Sn(e){if(!xn(e))return e in Tn?Tn[e]:Promise.resolve();const t=function(e){return Zn(e).map((e=>{const t=$n(e);return[e,t?[...t]:[]]})).filter((([,e])=>e.length>0))}(e);return Tn[e]=Promise.all(t.map((([e,t])=>En(e,t)))).then((()=>{if(xn(e))return Sn(e);delete Tn[e]})),Tn[e]}var Ln=Object.getOwnPropertySymbols,An=Object.prototype.hasOwnProperty,Hn=Object.prototype.propertyIsEnumerable,Nn=(e,t)=>{var n={};for(var s in e)An.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&Ln)for(var s of Ln(e))t.indexOf(s)<0&&Hn.call(e,s)&&(n[s]=e[s]);return n};function Pn({locale:e,id:t}){console.warn(`[svelte-i18n] The message "${t}" was not found in "${Zn(e).join('", "')}".${xn(Xn())?"\n\nNote: there are at least one loader still registered to this locale that wasn't executed.":""}`)}const Rn={fallbackLocale:null,loadingDelay:200,formats:{number:{scientific:{notation:"scientific"},engineering:{notation:"engineering"},compactLong:{notation:"compact",compactDisplay:"long"},compactShort:{notation:"compact",compactDisplay:"short"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},warnOnMissingMessages:!0,handleMissingMessage:void 0,ignoreTag:!0};function On(){return Rn}function Cn(e){const t=e,{formats:n}=t,s=Nn(t,["formats"]);let r=e.fallbackLocale;if(e.initialLocale)try{pn.resolveLocale(e.initialLocale)&&(r=e.initialLocale)}catch(t){console.warn(`[svelte-i18n] The initial locale "${e.initialLocale}" is not a valid locale.`)}return s.warnOnMissingMessages&&(delete s.warnOnMissingMessages,null==s.handleMissingMessage?s.handleMissingMessage=Pn:console.warn('[svelte-i18n] The "warnOnMissingMessages" option is deprecated. Please use the "handleMissingMessage" option instead.')),Object.assign(Rn,s,{initialLocale:r}),n&&("number"in n&&Object.assign(Rn.formats.number,n.number),"date"in n&&Object.assign(Rn.formats.date,n.date),"time"in n&&Object.assign(Rn.formats.time,n.time)),Kn.set(r)}const Bn=ge(!1);var Fn=Object.defineProperty,In=Object.defineProperties,Mn=Object.getOwnPropertyDescriptors,Dn=Object.getOwnPropertySymbols,zn=Object.prototype.hasOwnProperty,Un=Object.prototype.propertyIsEnumerable,qn=(e,t,n)=>t in e?Fn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;let jn;const Gn=ge(null);function Vn(e){return e.split("-").map(((e,t,n)=>n.slice(0,t+1).join("-"))).reverse()}function Zn(e,t=On().fallbackLocale){const n=Vn(e);return t?[...new Set([...n,...Vn(t)])]:n}function Xn(){return null!=jn?jn:void 0}Gn.subscribe((e=>{jn=null!=e?e:void 0,"undefined"!=typeof window&&null!=e&&document.documentElement.setAttribute("lang",e)}));const Kn=(Jn=((e,t)=>{for(var n in t||(t={}))zn.call(t,n)&&qn(e,n,t[n]);if(Dn)for(var n of Dn(t))Un.call(t,n)&&qn(e,n,t[n]);return e})({},Gn),In(Jn,Mn({set:e=>{if(e&&function(e){if(null==e)return;const t=Zn(e);for(let e=0;e<t.length;e++){const n=t[e];if(kn(n))return n}}(e)&&xn(e)){const{loadingDelay:t}=On();let n;return"undefined"!=typeof window&&null!=Xn()&&t?n=window.setTimeout((()=>Bn.set(!0)),t):Bn.set(!0),Sn(e).then((()=>{Gn.set(e)})).finally((()=>{clearTimeout(n),Bn.set(!1)}))}return Gn.set(e)}})));var Jn;const Yn=e=>{const t=Object.create(null);return n=>{const s=JSON.stringify(n);return s in t?t[s]:t[s]=e(n)}};var Qn=Object.defineProperty,Wn=Object.getOwnPropertySymbols,es=Object.prototype.hasOwnProperty,ts=Object.prototype.propertyIsEnumerable,ns=(e,t,n)=>t in e?Qn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ss=(e,t)=>{for(var n in t||(t={}))es.call(t,n)&&ns(e,n,t[n]);if(Wn)for(var n of Wn(t))ts.call(t,n)&&ns(e,n,t[n]);return e},rs=(e,t)=>{var n={};for(var s in e)es.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(null!=e&&Wn)for(var s of Wn(e))t.indexOf(s)<0&&ts.call(e,s)&&(n[s]=e[s]);return n};const os=(e,t)=>{const{formats:n}=On();if(e in n&&t in n[e])return n[e][t];throw new Error(`[svelte-i18n] Unknown "${t}" ${e} format.`)},is=Yn((e=>{var t=e,{locale:n,format:s}=t,r=rs(t,["locale","format"]);if(null==n)throw new Error('[svelte-i18n] A "locale" must be set to format numbers');return s&&(r=os("number",s)),new Intl.NumberFormat(n,r)})),as=Yn((e=>{var t=e,{locale:n,format:s}=t,r=rs(t,["locale","format"]);if(null==n)throw new Error('[svelte-i18n] A "locale" must be set to format dates');return s?r=os("date",s):0===Object.keys(r).length&&(r=os("date","short")),new Intl.DateTimeFormat(n,r)})),ls=Yn((e=>{var t=e,{locale:n,format:s}=t,r=rs(t,["locale","format"]);if(null==n)throw new Error('[svelte-i18n] A "locale" must be set to format time values');return s?r=os("time",s):0===Object.keys(r).length&&(r=os("time","short")),new Intl.DateTimeFormat(n,r)})),cs=Yn(((e,t=Xn())=>new pn(e,t,On().formats,{ignoreTag:On().ignoreTag}))),us=(e,t={})=>{var n,s,r,o;let i=t;"object"==typeof e&&(i=e,e=i.id);const{values:a,locale:l=Xn(),default:c}=i;if(null==l)throw new Error("[svelte-i18n] Cannot format a message without first setting the initial locale.");let u=mn(e,l);if(u){if("string"!=typeof u)return console.warn(`[svelte-i18n] Message with id "${e}" must be of type "string", found: "${typeof u}". Gettin its value through the "$format" method is deprecated; use the "json" method instead.`),u}else u=null!=(o=null!=(r=null==(s=(n=On()).handleMissingMessage)?void 0:s.call(n,{locale:l,id:e,defaultValue:c}))?r:c)?o:e;if(!a)return u;let d=u;try{d=cs(u,l).format(a)}catch(t){t instanceof Error&&console.warn(`[svelte-i18n] Message "${e}" has syntax error:`,t.message)}return d},ds=(e,t)=>((e={})=>{var t=e,{locale:n=Xn()}=t,s=rs(t,["locale"]);return ls(ss({locale:n},s))})(t).format(e),hs=(e,t)=>((e={})=>{var t=e,{locale:n=Xn()}=t,s=rs(t,["locale"]);return as(ss({locale:n},s))})(t).format(e),ps=(e,t)=>((e={})=>{var t=e,{locale:n=Xn()}=t,s=rs(t,["locale"]);return is(ss({locale:n},s))})(t).format(e),fs=(e,t=Xn())=>mn(e,t),gs=me([Kn,vn],(()=>us));me([Kn],(()=>ds)),me([Kn],(()=>hs)),me([Kn],(()=>ps)),me([Kn,vn],(()=>fs));var ms={"Enter your username":"Enter your username",Register:"Register",Login:"Login","Please enter a valid username":"Please enter a valid username","Loading documents":"Loading documents...","Loading recording":"Loading recording...","Loading video":"Loading video...","Loading audio":"Loading audio...","Loading feedback":"Loading feedback...","Loading chatbot messages":"Loading chatbot messages...","Loading notes":"Loading notes...","Done!":"Done!",Welcome:"Welcome, {username}",Logout:"Logout","Step 1: Upload your discussion.":"Step 1: Upload your discussion.","Upload your own video or audio":"Upload your own video or audio","Upload your own transcript (in .srt only)":"Upload your own transcript (in .srt only)","Upload file":"Upload file","Step 2: Highlight feedback in the discussion's transcript.":"Step 2: Highlight feedback in the discussion's transcript.","No discussion transcript loaded. Please first upload your transcript.":"No discussion transcript loaded. Please first upload your transcript.","Auto-detect Feedback":"Auto-detect Feedback","Highlight Positive":"Highlight Positive","Highlight Critical":"Highlight Critical","Remove Feedback":"Remove Feedback","Remove All Feedback":"Remove All Feedback","Discussion Transcript Details":"Discussion Transcript Details","No feedback moments highlighted":"No feedback moments highlighted","feedback moments":"feedback moments","Detecting feedback in transcript":"Detecting feedback in transcript...","Highlighting feedback":"Highlighting feedback...","Next Page":"Next Page","Previous Page":"Previous Page","Critical Feedback":"Critical Feedback","Positive Feedback":"Positive Feedback",ID:"ID",Feedback:"Feedback",Speaker:"Speaker",Actions:"Actions","Done?":"Done?",Positivize:"Positivize","Select Context":"Select Context","Add Note":"Add Note",Delete:"Delete",Model:"Model",assistant:"assistant",user:"user","Feedback Context":"Feedback Context","None. Add by selecting from the feedback":"None. Add by selecting from the feedback","Suggested messages":"Suggested messages","Explain feedback":"Explain feedback","Brainstorm actions":"Brainstorm actions","Refer to":"Refer to",Transcript:"Transcript",Documents:"Documents","Type your message here":"Type your message here...","Add to My Notes":"Add to My Notes","Add to Feedback Notes":"Add to F#{id} Notes","Context: F#":"Context: F#{id}","Attached image":"Attached image","Response to image":"Response to image",Configurations:"Configurations",Temperature:"Temperature","Max Output Tokens":"Max Output Tokens","Chatbot's Documents":"Chatbot's Documents","Add Document":"Add Document","Remove All":"Remove All","Hello! How can I help you today?":"Hello! How can I help you today?",Chatbot:"Chatbot",Notes:"Notes","My Notes":"My Notes","Enter your note here":"Enter your note here","Feedback # Notes":"Feedback #{id} Notes","Delete all":"Delete all"},bs={"Enter your username":"ユーザー名を入力してください",Register:"サインアップ",Login:"ログイン","Please enter a valid username":"有効なユーザー名を入力してください","Loading documents":"書類の読み込み...","Loading recording":"録画中...","Loading video":"ビデオをロード中...","Loading audio":"オーディオの読み込み中...","Loading feedback":"フィードバックを読み込む...","Loading chatbot messages":"チャットボットのメッセージを読み込んでいます...","Loading notes":"メモを読み込む...","Done!":"完了した！",Welcome:"ようこそ、 {username}さん",Logout:"ログアウト","Step 1: Upload your discussion.":"ステップ1：ディスカッションをアップロードしてください","Upload your own video or audio":"ビデオまたはオーディオをアップロードして","Upload your own transcript (in .srt only)":"ご自身のトランスクリプト（.srtのみ）をアップロードして","Upload file":"アップロード","Step 2: Highlight feedback in the discussion's transcript.":"ステップ2：ディスカッションの記録でフィードバックを強調してください","No discussion transcript loaded. Please first upload your transcript.":"ディスカッションのトランスクリプトが読み込まれません。まずトランスクリプトをアップロードしてください。","Auto-detect Feedback":"自動検出フィードバック","Highlight Positive":"ハイライト・ポジティブ","Highlight Critical":"ハイライト・クリティカル","Remove Feedback":"フィードバックの削除","Remove All Feedback":"フィードバックを消去する","Discussion Transcript Details":"ディスカッション記録詳細","No feedback moments highlighted":"フィードバックの瞬間が強調されていない","feedback moments":"フィードバック","Detecting feedback in transcript":"トランスクリプトのフィードバックを検出...","Highlighting feedback":"フィードバックを強調する","Next Page":"次のページ","Previous Page":"前のページ","Critical Feedback":"クリティカル・フィードバック","Positive Feedback":"ポジティブ・フィードバック",ID:"ID",Feedback:"フィードバック",Speaker:"スピーカー",Actions:"行動","Done?":"終わった？",Positivize:"ポジフレーズ","Select Context":"コンテキストを選択","Add Note":"メモを追加",Delete:"削除",Model:"モデル",assistant:"アシスタント",user:"ユーザー","Feedback Context":"フィードバック・コンテキスト","None. Add by selecting from the feedback":"なし フィードバックから選択して追加","Suggested messages":"推奨メッセージ","Explain feedback":"フィードバックを説明して","Brainstorm actions":"何をすべきかをブレインストーミングして","Refer to":"参照",Transcript:"トランスクリプト",Documents:"書類","Type your message here":"ここにメッセージを入力してください...","Add to My Notes":"マイノートに追加","Add to Feedback Notes":"F#{id}に追加 メモ","Context: F#":"コンテキスト F#{id}","Attached image":"添付画像","Response to image":"画像への反応",Configurations:"コンフィギュレーション",Temperature:"温度","Max Output Tokens":"最大出力トークン","Chatbot's Documents":"チャットボットのドキュメント","Add Document":"ドキュメントの追加","Remove All":"すべて削除","Hello! How can I help you today?":"こんにちは！ 今日はどのようなご用件でしょうか？",Chatbot:"チャットボット",Notes:"メモ","My Notes":"マイノート","Enter your note here":"ここにメモを入力","Feedback # Notes":"フィードバック #{id}メモ","Delete all":"すべて削除"};function vs(e,t,n){const s=e.slice();return s[65]=t[n][0],s[66]=t[n][1],s}function ks(e,t,n){const s=e.slice();return s[69]=t[n],s[71]=n,s}function ws(e){let t,n,s=e[11]("No feedback moments highlighted")+"";return{c(){t=_("span"),n=$(s)},m(e,s){k(e,t,s),v(t,n)},p(e,t){2048&t[0]&&s!==(s=e[11]("No feedback moments highlighted")+"")&&A(n,s)},d(e){e&&w(t)}}}function ys(e){let t,n,s,r,o,i,a=e[2]+1+"",l=e[1].length+"",c=e[11]("feedback moments")+"";return{c(){t=_("span"),n=$(a),s=$(" / "),r=$(l),o=x(),i=$(c)},m(e,a){k(e,t,a),v(t,n),v(t,s),v(t,r),v(t,o),v(t,i)},p(e,t){4&t[0]&&a!==(a=e[2]+1+"")&&A(n,a),2&t[0]&&l!==(l=e[1].length+"")&&A(r,l),2048&t[0]&&c!==(c=e[11]("feedback moments")+"")&&A(i,c)},d(e){e&&w(t)}}}function _s(e){let t,n,s,r=e[11]("No discussion transcript loaded. Please first upload your transcript.")+"";return{c(){t=_("div"),n=_("span"),s=$(r),L(t,"class","centered"),N(t,"height","100%"),N(t,"width","100%")},m(e,r){k(e,t,r),v(t,n),v(n,s)},p(e,t){2048&t[0]&&r!==(r=e[11]("No discussion transcript loaded. Please first upload your transcript.")+"")&&A(s,r)},d(e){e&&w(t)}}}function $s(e){let t,n=e[0].transcript_list,s=[];for(let t=0;t<n.length;t+=1)s[t]=xs(ks(e,n,t));return{c(){t=_("p");for(let e=0;e<s.length;e+=1)s[e].c();L(t,"class","padded")},m(e,n){k(e,t,n);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,null)},p(e,r){if(9&r[0]){let o;for(n=e[0].transcript_list,o=0;o<n.length;o+=1){const i=ks(e,n,o);s[o]?s[o].p(i,r):(s[o]=xs(i),s[o].c(),s[o].m(t,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=n.length}},d(e){e&&w(t),y(s,e)}}}function xs(e){let t,n,s,o,i,a,l,c,u,d,h,p,f,g,m,b,y,E,S,H,N,P,R,O=e[69].start_timestamp+"",C=e[69].end_timestamp+"",B=e[69].speaker?e[69].speaker+":":"",F=e[69].dialogue+"";function I(){return e[24](e[69])}function M(){return e[25](e[69])}return{c(){t=_("div"),n=_("span"),s=$("["),o=$(O),i=$("]"),a=$(" \n                            - \n                            "),l=_("span"),c=$("["),u=$(C),d=$("]"),h=x(),p=_("br"),f=x(),g=$(B),m=x(),b=_("span"),E=x(),S=_("br"),H=_("br"),N=x(),L(n,"class","timestamp svelte-axxzkr"),L(l,"class","timestamp svelte-axxzkr"),L(b,"id",y=e[69].id),L(b,"class","svelte-axxzkr"),L(t,"class","spaced")},m(e,r){k(e,t,r),v(t,n),v(n,s),v(n,o),v(n,i),v(t,a),v(t,l),v(l,c),v(l,u),v(l,d),v(t,h),v(t,p),v(t,f),v(t,g),v(t,m),v(t,b),b.innerHTML=F,v(t,E),v(t,S),v(t,H),v(t,N),P||(R=[T(n,"click",I),T(l,"click",M)],P=!0)},p(t,n){e=t,1&n[0]&&O!==(O=e[69].start_timestamp+"")&&A(o,O),1&n[0]&&C!==(C=e[69].end_timestamp+"")&&A(u,C),1&n[0]&&B!==(B=e[69].speaker?e[69].speaker+":":"")&&A(g,B),1&n[0]&&F!==(F=e[69].dialogue+"")&&(b.innerHTML=F),1&n[0]&&y!==(y=e[69].id)&&L(b,"id",y)},d(e){e&&w(t),P=!1,r(R)}}}function Es(e){let t,n,s,r,o,i;return{c(){t=_("button"),n=_("img"),r=$("\n                                        Remove media"),c(n.src,s="./logos/delete-x-svgrepo-com.svg")||L(n,"src","./logos/delete-x-svgrepo-com.svg"),L(n,"alt","Delete media"),L(n,"class","mini-icon"),L(t,"class","action-button centered row  svelte-axxzkr"),t.disabled=e[8]},m(s,a){k(s,t,a),v(t,n),v(t,r),o||(i=T(t,"click",e[30]),o=!0)},p(e,n){256&n[0]&&(t.disabled=e[8])},d(e){e&&w(t),o=!1,i()}}}function Ts(e){let t,n,s,r,o,i;return{c(){t=_("button"),n=_("img"),r=$("\n                                        Remove transcript"),c(n.src,s="./logos/delete-x-svgrepo-com.svg")||L(n,"src","./logos/delete-x-svgrepo-com.svg"),L(n,"alt","Delete transcript"),L(n,"class","mini-icon"),L(t,"class","action-button centered row  svelte-axxzkr"),t.disabled=e[8]},m(s,a){k(s,t,a),v(t,n),v(t,r),o||(i=T(t,"click",e[35]),o=!0)},p(e,n){256&n[0]&&(t.disabled=e[8])},d(e){e&&w(t),o=!1,i()}}}function Ss(t){let n,s;return{c(){n=_("video"),n.innerHTML='<track kind="captions" src="blank.vtt" srclang="en"/>',c(n.src,s="video.mp4")||L(n,"src","video.mp4"),n.controls=!0,N(n,"width","100%"),N(n,"height","100%")},m(e,s){k(e,n,s),t[43](n)},p:e,d(e){e&&w(n),t[43](null)}}}function Ls(e){let t,n;return{c(){t=_("audio"),c(t.src,n=e[0].audio)||L(t,"src",n),t.controls=!0,N(t,"width","100%"),N(t,"height","100%")},m(n,s){k(n,t,s),e[42](t)},p(e,s){1&s[0]&&!c(t.src,n=e[0].audio)&&L(t,"src",n)},d(n){n&&w(t),e[42](null)}}}function As(e){let t,n,s,r;return{c(){t=_("video"),n=_("track"),L(n,"kind","captions"),c(n.src,s="blank.vtt")||L(n,"src","blank.vtt"),L(n,"srclang","en"),c(t.src,r=e[0].video)||L(t,"src",r),t.controls=!0,N(t,"width","100%"),N(t,"height","100%")},m(s,r){k(s,t,r),v(t,n),e[41](t)},p(e,n){1&n[0]&&!c(t.src,r=e[0].video)&&L(t,"src",r)},d(n){n&&w(t),e[41](null)}}}function Hs(e){let t,n,s=e[0].transcript_list&&e[0].transcript_list.length>0&&"speaker"in e[0].transcript_list[0]&&Ns(e),r=e[1]&&Rs(e);return{c(){s&&s.c(),t=x(),r&&r.c(),n=E()},m(e,o){s&&s.m(e,o),k(e,t,o),r&&r.m(e,o),k(e,n,o)},p(e,o){e[0].transcript_list&&e[0].transcript_list.length>0&&"speaker"in e[0].transcript_list[0]?s?s.p(e,o):(s=Ns(e),s.c(),s.m(t.parentNode,t)):s&&(s.d(1),s=null),e[1]?r?r.p(e,o):(r=Rs(e),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},d(e){s&&s.d(e),e&&w(t),r&&r.d(e),e&&w(n)}}}function Ns(e){let t,n,s,r,o,i,a,l,c,u=Object.keys(e[0].transcript_list.reduce(Us,{})).length+"",d=Object.entries(e[0].transcript_list.reduce(qs,{})),h=[];for(let t=0;t<d.length;t+=1)h[t]=Ps(vs(e,d,t));return{c(){t=_("strong"),n=$("Number of participants: "),s=$(u),r=x(),o=_("br"),i=x(),a=_("ul");for(let e=0;e<h.length;e+=1)h[e].c();l=x(),c=_("br")},m(e,u){k(e,t,u),v(t,n),v(t,s),k(e,r,u),k(e,o,u),k(e,i,u),k(e,a,u);for(let e=0;e<h.length;e+=1)h[e]&&h[e].m(a,null);k(e,l,u),k(e,c,u)},p(e,t){if(1&t[0]&&u!==(u=Object.keys(e[0].transcript_list.reduce(Us,{})).length+"")&&A(s,u),1&t[0]){let n;for(d=Object.entries(e[0].transcript_list.reduce(qs,{})),n=0;n<d.length;n+=1){const s=vs(e,d,n);h[n]?h[n].p(s,t):(h[n]=Ps(s),h[n].c(),h[n].m(a,null))}for(;n<h.length;n+=1)h[n].d(1);h.length=d.length}},d(e){e&&w(t),e&&w(r),e&&w(o),e&&w(i),e&&w(a),y(h,e),e&&w(l),e&&w(c)}}}function Ps(e){let t,n,s,r,o,i,a,l=e[65]+"",c=e[66]+"";return{c(){t=_("li"),n=$("- "),s=$(l),r=$(": "),o=$(c),i=$(" utterances"),a=x()},m(e,l){k(e,t,l),v(t,n),v(t,s),v(t,r),v(t,o),v(t,i),k(e,a,l)},p(e,t){1&t[0]&&l!==(l=e[65]+"")&&A(s,l),1&t[0]&&c!==(c=e[66]+"")&&A(o,c)},d(e){e&&w(t),e&&w(a)}}}function Rs(e){let t,n,s,r,o,i,a,l,c,u,d,h,p=e[1].length+"",f=e[1].filter(js).length+"",g=e[1].filter(Gs).length+"";return{c(){t=_("strong"),n=$("Number of feedback utterances: "),s=$(p),r=x(),o=_("ul"),i=_("li"),a=$("- Number of positive feedback: "),l=$(f),c=x(),u=_("li"),d=$("- Number of critical feedback: "),h=$(g)},m(e,p){k(e,t,p),v(t,n),v(t,s),k(e,r,p),k(e,o,p),v(o,i),v(i,a),v(i,l),v(o,c),v(o,u),v(u,d),v(u,h)},p(e,t){2&t[0]&&p!==(p=e[1].length+"")&&A(s,p),2&t[0]&&f!==(f=e[1].filter(js).length+"")&&A(l,f),2&t[0]&&g!==(g=e[1].filter(Gs).length+"")&&A(h,g)},d(e){e&&w(t),e&&w(r),e&&w(o)}}}function Os(e){let t,n,s,o,i,a,l,u,d,h,p,f,g,m,b,y,E,S,H,P,R,C,B,F,I,M,D,z,q,j,G,V,Z,K,J,Y,Q,W,ee,te,ne,oe,ie,de,he,pe,fe,ge,me,be,ve,ke,we,ye,_e,$e,xe,Te,Se,Le,Ae,He,Ne,Pe,Re,Oe,Ce,Be,Fe,Ie,Me,De,ze,Ue,qe,je,Ge,Ve,Ze,Xe,Ke,Je,Ye,Qe,We,et,tt,nt,st,rt,ot,it,at,lt,ct,ut,dt,ht,pt,ft,gt,mt,bt,vt,kt,wt,yt,_t,$t,xt,Et,Tt=e[11]("Step 1: Upload your discussion.")+"",St=e[11]("Upload your own video or audio")+"",Lt=e[11]("Upload file")+"",At=e[11]("Upload your own transcript (in .srt only)")+"",Ht=e[11]("Upload file")+"",Nt=e[11]("Step 2: Highlight feedback in the discussion's transcript.")+"",Pt=e[11]("Auto-detect Feedback")+"",Rt=e[11]("Highlight Positive")+"",Ot=e[11]("Highlight Critical")+"",Ct=e[11]("Remove Feedback")+"",Bt=e[11]("Remove All Feedback")+"",Ft=e[11]("Discussion Transcript Details")+"";function It(t){e[20](t)}function Mt(t){e[21](t)}let Dt={};function zt(e,t){return e[1]&&e[1].length>0?ys:ws}void 0!==e[10]&&(Dt.progress=e[10]),void 0!==e[9]&&(Dt.status=e[9]),i=new Ee({props:Dt}),U.push((()=>ae(i,"progress",It))),U.push((()=>ae(i,"status",Mt)));let Ut=zt(e),qt=Ut(e);function jt(e,t){return e[0]&&e[0].transcript_list&&e[0].transcript_list.length>0?$s:_s}let Gt=jt(e),Vt=Gt(e),Zt=(e[0].video||e[0].audio)&&Es(e),Xt=e[0].transcript_list&&e[0].transcript_list.length>0&&Ts(e);function Kt(e,t){return e[0]&&e[0].video?As:e[0]&&e[0].audio?Ls:Ss}let Jt=Kt(e),Yt=Jt(e),Qt=e[0]&&e[0].transcript_list&&Hs(e);return{c(){t=_("div"),n=_("div"),s=_("div"),o=_("div"),le(i.$$.fragment),u=x(),d=_("div"),qt.c(),h=x(),p=_("button"),f=_("img"),b=x(),y=_("button"),E=_("img"),P=x(),Vt.c(),R=x(),C=_("div"),B=_("div"),F=_("span"),I=$(Tt),M=x(),D=_("div"),z=_("div"),q=_("div"),j=_("label"),G=$(St),V=$(":"),Z=x(),K=_("div"),J=_("input"),Y=x(),Q=_("button"),W=_("img"),te=x(),ne=$(Lt),ie=x(),Zt&&Zt.c(),de=x(),he=_("div"),pe=_("label"),fe=$(At),ge=$(":"),me=x(),be=_("div"),ve=_("input"),ke=x(),we=_("button"),ye=_("img"),$e=x(),xe=$(Ht),Se=x(),Xt&&Xt.c(),Le=x(),Ae=_("div"),He=_("span"),Ne=$(Nt),Pe=x(),Re=_("div"),Oe=_("div"),Ce=_("button"),Be=_("img"),Ie=x(),Me=$(Pt),ze=x(),Ue=_("button"),qe=_("img"),Ge=x(),Ve=$(Rt),Xe=x(),Ke=_("button"),Je=_("img"),Qe=x(),We=$(Ot),tt=x(),nt=_("button"),st=_("img"),ot=x(),it=$(Ct),lt=x(),ct=_("button"),ut=_("img"),ht=x(),pt=$(Bt),gt=x(),mt=_("div"),bt=_("div"),Yt.c(),vt=x(),kt=_("div"),wt=_("h3"),yt=$(Ft),_t=x(),Qt&&Qt.c(),L(o,"class","overlay centered padded"),O(o,"invisible",!1===e[8]),c(f.src,g="./logos/up-arrow-5-svgrepo-com.svg")||L(f,"src","./logos/up-arrow-5-svgrepo-com.svg"),L(f,"alt","Prev feedback"),L(f,"class","logo"),N(f,"width","1.5rem"),N(f,"height","1.5rem"),p.disabled=m=!e[1]||e[1].length<=0,c(E.src,S="./logos/down-arrow-5-svgrepo-com.svg")||L(E,"src","./logos/down-arrow-5-svgrepo-com.svg"),L(E,"alt","Next feedback"),L(E,"class","logo"),N(E,"width","1.5rem"),N(E,"height","1.5rem"),y.disabled=H=!e[1]||e[1].length<=0,L(d,"id","traverse-feedback-area"),L(d,"class","bordered spaced svelte-axxzkr"),L(s,"id","transcript-area"),L(s,"class","column bordered spaced svelte-axxzkr"),N(F,"font-weight","bold"),N(F,"text-decoration","underline"),N(F,"margin-left","1rem"),L(j,"for","file_upload"),N(J,"width","50%"),L(J,"name","mediafile_upload"),L(J,"type","file"),L(J,"id","mediafile_upload"),L(J,"accept","video/*, audio/*"),c(W.src,ee="./logos/upload-svgrepo-com.svg")||L(W,"src","./logos/upload-svgrepo-com.svg"),L(W,"alt","Upload file"),L(W,"class","mini-icon"),L(Q,"class","action-button centered column  svelte-axxzkr"),Q.disabled=oe=e[8]||!e[4]||0===e[4].length,L(K,"class","row centered spaced"),L(q,"class","column spaced centered"),L(pe,"for","file_upload"),N(ve,"width","50%"),L(ve,"name","transcirptfile_upload"),L(ve,"type","file"),L(ve,"id","transcriptfile_upload"),L(ve,"accept"," .srt"),c(ye.src,_e="./logos/upload-svgrepo-com.svg")||L(ye,"src","./logos/upload-svgrepo-com.svg"),L(ye,"alt","Upload file"),L(ye,"class","mini-icon"),L(we,"class","action-button centered column  svelte-axxzkr"),we.disabled=Te=e[8]||!e[6]||0===e[6].length,L(be,"class","row centered spaced"),L(he,"class","column spaced centered"),L(z,"class","column centered spaced"),L(D,"class","row centered spaced"),L(B,"id","capture-feedback-panel"),L(B,"class","column padded centered spaced svelte-axxzkr"),N(He,"font-weight","bold"),N(He,"text-decoration","underline"),N(He,"margin-left","1rem"),c(Be.src,Fe="./logos/magnifying-glass-for-search-3-svgrepo-com.svg")||L(Be,"src","./logos/magnifying-glass-for-search-3-svgrepo-com.svg"),L(Be,"alt","Auto-detect Feedback"),L(Be,"class","logo"),L(Ce,"class","action-button centered column svelte-axxzkr"),Ce.disabled=De=!e[0]||!e[0].transcript_list||e[8],c(qe.src,je="./logos/highlight-green-svgrepo-com.svg")||L(qe,"src","./logos/highlight-green-svgrepo-com.svg"),L(qe,"alt","Highlight Positive Feedback"),L(qe,"class","logo"),L(Ue,"class","action-button centered column svelte-axxzkr"),Ue.disabled=Ze=!e[0]||!e[0].transcript_list||e[8],c(Je.src,Ye="./logos/highlight-red-svgrepo-com.svg")||L(Je,"src","./logos/highlight-red-svgrepo-com.svg"),L(Je,"alt","Highlight Critical Feedback"),L(Je,"class","logo"),L(Ke,"class","action-button centered column svelte-axxzkr"),Ke.disabled=et=!e[0]||!e[0].transcript_list||e[8],c(st.src,rt="./logos/erase-svgrepo-com.svg")||L(st,"src","./logos/erase-svgrepo-com.svg"),L(st,"alt","De-highlight Feedback"),L(st,"class","logo"),L(nt,"class","action-button centered column svelte-axxzkr"),nt.disabled=at=!e[0]||!e[0].transcript_list||e[8]||e[1].length<=0,c(ut.src,dt="./logos/delete-svgrepo-com.svg")||L(ut,"src","./logos/delete-svgrepo-com.svg"),L(ut,"alt","Delete all Feedback"),L(ut,"class","logo"),L(ct,"class","action-button centered column svelte-axxzkr"),ct.disabled=ft=!e[0]||!e[0].transcript_list||e[8]||e[1].length<=0,L(Oe,"class","row centered spaced"),L(Re,"class","centered"),N(Re,"height","100%"),N(Re,"width","100%"),L(Ae,"id","feedback-highlight-panel"),L(Ae,"class","column spaced padded  svelte-axxzkr"),L(C,"id","transcript-buttons-area"),L(C,"class","row centered spaced bordered svelte-axxzkr"),L(n,"id","left-panel"),L(n,"class","column spaced svelte-axxzkr"),L(bt,"id","media-player-area"),L(bt,"class","bordered centered svelte-axxzkr"),N(wt,"font-weight","bold"),N(wt,"text-decoration","underline"),L(kt,"id","feedback-details-area"),L(kt,"class","bordered padded spaced svelte-axxzkr"),N(kt,"overflow-y","auto"),L(mt,"id","right-panel"),L(mt,"class","column spaced svelte-axxzkr"),L(t,"div",""),L(t,"class","row spaced svelte-axxzkr"),L(t,"id","feedback-selector-page")},m(r,a){k(r,t,a),v(t,n),v(n,s),v(s,o),ce(i,o,null),v(s,u),v(s,d),qt.m(d,null),v(d,h),v(d,p),v(p,f),v(d,b),v(d,y),v(y,E),v(s,P),Vt.m(s,null),v(n,R),v(n,C),v(C,B),v(B,F),v(F,I),v(B,M),v(B,D),v(D,z),v(z,q),v(q,j),v(j,G),v(j,V),v(q,Z),v(q,K),v(K,J),e[27](J),v(K,Y),v(K,Q),v(Q,W),v(Q,te),v(Q,ne),v(K,ie),Zt&&Zt.m(K,null),v(z,de),v(z,he),v(he,pe),v(pe,fe),v(pe,ge),v(he,me),v(he,be),v(be,ve),e[32](ve),v(be,ke),v(be,we),v(we,ye),v(we,$e),v(we,xe),v(be,Se),Xt&&Xt.m(be,null),v(C,Le),v(C,Ae),v(Ae,He),v(He,Ne),v(Ae,Pe),v(Ae,Re),v(Re,Oe),v(Oe,Ce),v(Ce,Be),v(Ce,Ie),v(Ce,Me),v(Oe,ze),v(Oe,Ue),v(Ue,qe),v(Ue,Ge),v(Ue,Ve),v(Oe,Xe),v(Oe,Ke),v(Ke,Je),v(Ke,Qe),v(Ke,We),v(Oe,tt),v(Oe,nt),v(nt,st),v(nt,ot),v(nt,it),v(Oe,lt),v(Oe,ct),v(ct,ut),v(ct,ht),v(ct,pt),v(t,gt),v(t,mt),v(mt,bt),Yt.m(bt,null),v(mt,vt),v(mt,kt),v(kt,wt),v(wt,yt),v(kt,_t),Qt&&Qt.m(kt,null),$t=!0,xt||(Et=[T(p,"click",e[22]),T(y,"click",e[23]),T(J,"change",e[26]),T(J,"change",e[28]),T(Q,"click",e[29]),T(ve,"change",e[31]),T(ve,"change",e[33]),T(we,"click",e[34]),T(Ce,"click",e[36]),T(Ue,"click",e[37]),T(Ke,"click",e[38]),T(nt,"click",e[39]),T(ct,"click",e[40])],xt=!0)},p(e,t){const n={};!a&&1024&t[0]&&(a=!0,n.progress=e[10],X((()=>a=!1))),!l&&512&t[0]&&(l=!0,n.status=e[9],X((()=>l=!1))),i.$set(n),(!$t||256&t[0])&&O(o,"invisible",!1===e[8]),Ut===(Ut=zt(e))&&qt?qt.p(e,t):(qt.d(1),qt=Ut(e),qt&&(qt.c(),qt.m(d,h))),(!$t||2&t[0]&&m!==(m=!e[1]||e[1].length<=0))&&(p.disabled=m),(!$t||2&t[0]&&H!==(H=!e[1]||e[1].length<=0))&&(y.disabled=H),Gt===(Gt=jt(e))&&Vt?Vt.p(e,t):(Vt.d(1),Vt=Gt(e),Vt&&(Vt.c(),Vt.m(s,null))),(!$t||2048&t[0])&&Tt!==(Tt=e[11]("Step 1: Upload your discussion.")+"")&&A(I,Tt),(!$t||2048&t[0])&&St!==(St=e[11]("Upload your own video or audio")+"")&&A(G,St),(!$t||2048&t[0])&&Lt!==(Lt=e[11]("Upload file")+"")&&A(ne,Lt),(!$t||272&t[0]&&oe!==(oe=e[8]||!e[4]||0===e[4].length))&&(Q.disabled=oe),e[0].video||e[0].audio?Zt?Zt.p(e,t):(Zt=Es(e),Zt.c(),Zt.m(K,null)):Zt&&(Zt.d(1),Zt=null),(!$t||2048&t[0])&&At!==(At=e[11]("Upload your own transcript (in .srt only)")+"")&&A(fe,At),(!$t||2048&t[0])&&Ht!==(Ht=e[11]("Upload file")+"")&&A(xe,Ht),(!$t||320&t[0]&&Te!==(Te=e[8]||!e[6]||0===e[6].length))&&(we.disabled=Te),e[0].transcript_list&&e[0].transcript_list.length>0?Xt?Xt.p(e,t):(Xt=Ts(e),Xt.c(),Xt.m(be,null)):Xt&&(Xt.d(1),Xt=null),(!$t||2048&t[0])&&Nt!==(Nt=e[11]("Step 2: Highlight feedback in the discussion's transcript.")+"")&&A(Ne,Nt),(!$t||2048&t[0])&&Pt!==(Pt=e[11]("Auto-detect Feedback")+"")&&A(Me,Pt),(!$t||257&t[0]&&De!==(De=!e[0]||!e[0].transcript_list||e[8]))&&(Ce.disabled=De),(!$t||2048&t[0])&&Rt!==(Rt=e[11]("Highlight Positive")+"")&&A(Ve,Rt),(!$t||257&t[0]&&Ze!==(Ze=!e[0]||!e[0].transcript_list||e[8]))&&(Ue.disabled=Ze),(!$t||2048&t[0])&&Ot!==(Ot=e[11]("Highlight Critical")+"")&&A(We,Ot),(!$t||257&t[0]&&et!==(et=!e[0]||!e[0].transcript_list||e[8]))&&(Ke.disabled=et),(!$t||2048&t[0])&&Ct!==(Ct=e[11]("Remove Feedback")+"")&&A(it,Ct),(!$t||259&t[0]&&at!==(at=!e[0]||!e[0].transcript_list||e[8]||e[1].length<=0))&&(nt.disabled=at),(!$t||2048&t[0])&&Bt!==(Bt=e[11]("Remove All Feedback")+"")&&A(pt,Bt),(!$t||259&t[0]&&ft!==(ft=!e[0]||!e[0].transcript_list||e[8]||e[1].length<=0))&&(ct.disabled=ft),Jt===(Jt=Kt(e))&&Yt?Yt.p(e,t):(Yt.d(1),Yt=Jt(e),Yt&&(Yt.c(),Yt.m(bt,null))),(!$t||2048&t[0])&&Ft!==(Ft=e[11]("Discussion Transcript Details")+"")&&A(yt,Ft),e[0]&&e[0].transcript_list?Qt?Qt.p(e,t):(Qt=Hs(e),Qt.c(),Qt.m(kt,null)):Qt&&(Qt.d(1),Qt=null)},i(e){$t||(se(i.$$.fragment,e),$t=!0)},o(e){re(i.$$.fragment,e),$t=!1},d(n){n&&w(t),ue(i),qt.d(),Vt.d(),e[27](null),Zt&&Zt.d(),e[32](null),Xt&&Xt.d(),Yt.d(),Qt&&Qt.d(),xt=!1,r(Et)}}}async function Cs(e){try{const t=await fetch("/fetch_audio",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({audio_path:e})}),n=await t.blob();return URL.createObjectURL(n)}catch(e){console.error(e)}}async function Bs(e){if(!(await fetch("/embed_transcript",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transcript:e})})).ok)throw new Error("Failed to embed transcript list")}async function Fs(e){const t=new FormData;t.append("file",e);const n=await fetch("/extract_audio_from_video",{method:"POST",body:t});if(!n.ok)return null;const s=await n.json();return[s.audiopath,s.videopath]}async function Is(e){const t=await fetch("/simplify_transcript",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transcript:e})});if(!t.ok)throw new Error("Failed to simplify transcript string");return(await t.json()).simplified_transcript}async function Ms(e){const t=await fetch("/transcript_to_list",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transcript:e})});if(!t.ok)throw new Error("Failed to convert transcript string to list of excerpts");return(await t.json()).transcript_list}async function Ds(e){let t=[],n=function(e){let t="";for(let n=0;n<e.length;n++){let s=e[n],r=s.id,o=s.start_timestamp,i=s.end_timestamp,a=s.dialogue;"speaker"in s&&""!=s.speaker?t+=`${r}\n${o} --\x3e ${i}\n${s.speaker}: ${a}\n\n`:t+=`${r}\n${o} --\x3e ${i}\n${a}\n\n`}return t}(e);const s=await fetch("/autodetect_feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({transcript:n})});if(!s.ok)throw new Error("Failed to detect feedback");return t=(await s.json()).feedback_list,console.log(t),t}function zs(e,t){t=parseInt(t);for(let n=0;n<e.length;n++){let s=e[n];if(s.id===t)return s}return console.log("Error: Can't find excerpt with id",t),null}const Us=(e,t)=>(e[t.speaker]=!0,e),qs=(e,t)=>(e[t.speaker]=(e[t.speaker]||0)+1,e),js=e=>"positive"===e.type,Gs=e=>"critical"===e.type;function Vs(e,t,n){let s;d(e,gs,(e=>n(11,s=e)));let{currentLocale:r}=t;yn("en",ms),yn("ja",bs),Cn({fallbackLocale:"en",initialLocale:r});let o,i,a,l,c,u,h,{recording:p={}}=t,{feedback_list:f=[]}=t,g=0,m=!1,b="",v=0;async function k(){let e=await fetch("/delete_recording_media",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({recording:p})}),t=await e.json();return"message"in t&&console.log(t.message),t.message}async function w(){if(l){for(const e of l)if(console.log(e.type),e.type.includes("video")){if((p||"video"in p||"audio"in p||"transcript_list"in p)&&(p.video||p.audio)){if(!window.confirm("Uploading a new video will overwrite this current media. Do you want to proceed?"))return;await k(),p.audio&&(n(0,p.audio=null,p),n(0,p.audio_path=null,p),n(0,p)),p.video&&(n(0,p.video=null,p),n(0,p.video_path=null,p),n(0,p)),await Te(p),await ke("FeedbackSelector: Remove media",p)}let t=URL.createObjectURL(e);if(n(9,b="Uploading video..."),n(10,v=50),[a,i]=await Fs(e),!a||!i)throw a=null,i=null,new Error("Failed to extract audio from video");let s=await Cs(a),r="",o=[];n(9,b="Done!"),n(10,v=100),be(1500),n(10,v=0);let l={video:t,video_path:i,audio:s,audio_path:a,transcript:r,transcript_list:o};p&&"transcript_list"in p&&p.transcript_list?(n(0,p.video=t,p),n(0,p.video_path=i,p),n(0,p.audio=s,p),n(0,p.audio_path=a,p),n(0,p),n(0,p)):n(0,p=l),a=null,i=null}else if(e.type.includes("audio")){if((p||"audio"in p||"video"in p||"transcript_list"in p)&&(p.audio||p.video)){if(!window.confirm("Uploading a new audio will overwrite this current media. Do you want to proceed?"))return;await k(),p.audio&&(n(0,p.audio=null,p),n(0,p.audio_path=null,p),n(0,p)),p.video&&(n(0,p.video=null,p),n(0,p.video_path=null,p),n(0,p)),await Te(p),await ke("FeedbackSelector: Remove media",p)}let t=URL.createObjectURL(e);n(9,b="Uploading audio..."),n(10,v=50);const s=new FormData;s.append("audio",e);const r=await fetch("/download_mic",{method:"POST",body:s});if(!r.ok)throw a=null,i=null,new Error("Failed to save uploaded audio");let o=await r.json();a=o.filepath;let l="",c=[];n(9,b="Done!"),n(10,v=100),await be(1500),n(10,v=0);let u={video:null,video_path:null,audio:t,audio_path:a,transcript:l,transcript_list:c};p&&"transcript_list"in p&&p.transcript_list?(n(0,p.audio=t,p),n(0,p.audio_path=a,p),n(0,p),n(0,p)):n(0,p=u),a=null,i=null}n(4,l=null),n(5,c.value="",c)}console.log("Recording",p),n(10,v=0),n(9,b="")}async function y(){if(u){for(const e of u)if(console.log(e.type),e.name.endsWith(".srt")){if((p||"transcript"in p||"transcript_list"in p)&&p.transcript_list&&p.transcript_list.length>0){if(!window.confirm("Uploading a new transcript will overwrite this current transcript. Do you want to proceed?"))return;x(),n(1,f=[]),n(0,p.transcript_list=[],p),n(0,p.transcript="",p),n(0,p),await Te(p),await ke("FeedbackSelector: Remove transcript",p)}let t=new FileReader;t.onload=async function(e){console.log(undefined),n(8,m=!0);let t=e.target.result;console.log(t),n(9,b="Cleaning transcript..."),n(10,v=30);let s=await Is(t);await be(1500);let r=await Ms(s),o={video:null,video_path:null,audio:null,audio_path:null,transcript:s,transcript_list:r};p&&("video"in p&&p.video||"audio"in p&&p.audio)?(n(0,p.transcript_list=r,p),n(0,p),n(0,p.transcript=s,p),n(0,p),n(0,p),n(0,p)):n(0,p=o),n(9,b="Saving transcript as a database (this may take a while) ... "),n(10,v=60),await Bs(r),await Te(p),console.log("Transcript list embedded"),n(9,b="Done!"),n(10,v=100),await be(500),n(10,v=0),n(8,m=!1)},t.readAsText(e)}n(6,u=null),n(7,h.value="",h)}console.log("Recording",p),n(10,v=0),n(9,b="")}function _(e){const t=window.getSelection().toString();if(""===t.trim())return alert("Please highlight text in the transcript with your mouse to add as feedback."),"Error: No text highlighted";if(t){let s={quote:t,type:e,done:!1,speaker:null,dialogue_id:null},r=function(e,t){console.log(t);for(let n=0;n<e.length;n++){let s=e[n],r=s.dialogue;if(s.speaker&&(r=s.speaker+": "+r),r.includes(t))return s}return null}(p.transcript_list,t);return r?(s.id=f.length+1,s.dialogue_id=r.id,s.speaker=r.speaker,s.excerpt_reference=r,s.chatbot_messages=[{role:"system",content:"You are an expert senior interior designer who is tasked to assist less experienced interior designers like students and junior interior designers with their work by answering their questions on a wide range of interior design topics. "}],f.push(s),n(1,f),n(0,p),T([s]),s):(console.log("Error: Corresponding transcript excerpt not found"),alert("Error: Corresponding transcript excerpt not found. Feedback not added."),"Error: Corresponding transcript excerpt not found for selection: "+t)}return alert("Please highlight text in the transcript with your mouse to add as feedback."),"Error: No text highlighted"}function $(){const e=window.getSelection().toString();if(""===e.trim())return alert("Please highlight the feedback you want to remove using your mouse."),"Error: No text highlighted";if(e)for(let t=0;t<f.length;t++){let s=f[t];if(s.quote.includes(e)){let e=parseInt(s.dialogue_id),r=s.quote;return f.splice(t,1),n(1,f),E(e,r),s}}return"Error: Feedback not found for selection: "+e}function x(){for(let e=0;e<f.length;e++){let t=f[e];E(parseInt(t.dialogue_id),t.quote),f.splice(e,1),n(1,f)}}function E(e,t){for(let s=0;s<p.transcript_list.length;s++){let r=p.transcript_list[s];if(r.id===e){let e=r.dialogue,s=e.indexOf("<mark"),o=e.indexOf("</mark>")+7,i=e.slice(0,s)+t+e.slice(o);r.dialogue=i,r.dialogue=r.dialogue,n(0,p);break}}}function T(e){for(let t=0;t<e.length;t++){let n=e[t],s=n.type;if("positive"!=n.type&&"critical"!=n.type)continue;let r,o=parseInt(n.dialogue_id);for(let e=0;e<p.transcript_list.length;e++){let t=p.transcript_list[e];if(t.id===o){r=t;break}}if(!r){console.log("Error: Corresponding transcript excerpt not found");continue}let i=r.dialogue,a=i.indexOf(n.quote),l=a+n.quote.length,c=i.slice(0,a)+`<mark class="${s}" style="background-color:${"positive"===s?"lightgreen":"lightcoral"};">${n.quote}</mark>`+i.slice(l);r.dialogue=c}n(0,p)}M((async()=>{console.log(p)}));return e.$$set=e=>{"currentLocale"in e&&n(19,r=e.currentLocale),"recording"in e&&n(0,p=e.recording),"feedback_list"in e&&n(1,f=e.feedback_list)},[p,f,g,o,l,c,u,h,m,b,v,s,k,w,y,_,$,x,T,r,function(e){v=e,n(10,v)},function(e){b=e,n(9,b)},async()=>{g>0?n(2,g--,g):n(2,g=f.length-1),ye(f[g]),await ke("FeedbackSelector: Traverse to previous feedback",f[g])},async()=>{g<f.length-1?n(2,g++,g):n(2,g=0),ye(f[g]),await ke("FeedbackSelector: Traverse to next feedback",f[g])},async e=>{we(e.start_timestamp,o),await ke("FeedbackSelector: Seeked to start timestamp",e.start_timestamp)},async e=>{we(e.end_timestamp,o),await ke("FeedbackSelector: Seeked to end timestamp",e.end_timestamp)},function(){l=this.value,n(4,l)},function(e){U[e?"unshift":"push"]((()=>{c=e,n(5,c)}))},async e=>{n(4,l=e.target.files),console.log(l),await ke("FeedbackSelector: Select media file",l)},async()=>{n(8,m=!0),await w(),n(8,m=!1),await Te(p),await ke("FeedbackSelector: Upload media",p)},async()=>{window.confirm("This cannot be undone. Do you want to proceed?")&&(await k(),p.audio&&(n(0,p.audio=null,p),n(0,p.audio_path=null,p),n(0,p)),p.video&&(n(0,p.video=null,p),n(0,p.video_path=null,p),n(0,p)),await Te(p),await ke("FeedbackSelector: Remove media",p))},function(){u=this.value,n(6,u)},function(e){U[e?"unshift":"push"]((()=>{h=e,n(7,h)}))},async e=>{n(6,u=e.target.files),await ke("FeedbackSelector: Select transcript file",u)},async()=>{n(8,m=!0),await y(),n(8,m=!1),console.log(p),await ke("FeedbackSelector: Upload transcript",p)},async()=>{window.confirm("This cannot be undone. Do you want to proceed?")&&(x(),n(1,f=[]),n(0,p.transcript_list=[],p),n(0,p.transcript="",p),n(0,p),await Te(p),await ke("FeedbackSelector: Remove transcript",p))},async()=>{if(f.length>0){if(!window.confirm("Auto-detecting again will clear all feedback highlighted. Do you want to proceed?"))return}n(8,m=!0),n(10,v=0);let e=p.transcript_list,t=Math.ceil(e.length/4),r=[e.slice(0,t),e.slice(t,2*t),e.slice(2*t,3*t),e.slice(3*t,e.length)];n(9,b=s("Detecting feedback in transcript"));for(let e=0;e<r.length;e++){let t=await Ds(r[e]);n(1,f=f.concat(t)),n(10,v=20*(e+1)),await be(250)}n(1,f),console.log(f);for(let e=0;e<f.length;e++){n(1,f[e].id=e+1,f);let t=f[e].dialogue_id,s=zs(p.transcript_list,t);n(1,f[e].excerpt_reference=s,f)}n(1,f),n(9,b=s("Highlighting feedback")),T(f),await Se(f),await Te(p),await be(500),n(10,v=100),console.log("Feedback: "+f[0]),n(8,m=!1),n(10,v=0),n(9,b=""),await ke("FeedbackSelector: Auto-detect feedback",f)},async()=>{let e=_("positive");await Se(f),await Te(p),await ke("FeedbackSelector: Add positive feedback",e)},async()=>{let e=_("critical");await Se(f),await Te(p),await ke("FeedbackSelector: Add critical feedback",e)},async()=>{let e=$();await Se(f),await Te(p),await ke("FeedbackSelector: Remove feedback",e)},async()=>{x(),await Se(f),await Te(p),await ke("FeedbackSelector: Removed all feedback",f)},function(e){U[e?"unshift":"push"]((()=>{o=e,n(3,o)}))},function(e){U[e?"unshift":"push"]((()=>{o=e,n(3,o)}))},function(e){U[e?"unshift":"push"]((()=>{o=e,n(3,o)}))}]}class Zs extends pe{constructor(e){super(),he(this,e,Vs,Os,i,{currentLocale:19,recording:0,feedback_list:1},null,[-1,-1,-1])}}function Xs(t){let n,s,o,i,a,l,c;return{c(){n=_("div"),s=_("input"),o=x(),i=_("span"),a=$(t[0]),L(s,"type","range"),L(s,"min",t[1]),L(s,"max",t[2]),L(s,"step",t[3]),L(s,"id","rangeSlider"),L(s,"class","svelte-ohnqtn"),L(i,"id","sliderValue"),L(n,"class","centered spaced"),N(n,"width","100%"),N(n,"height","100%")},m(e,r){k(e,n,r),v(n,s),H(s,t[0]),v(n,o),v(n,i),v(i,a),l||(c=[T(s,"change",t[4]),T(s,"input",t[4])],l=!0)},p(e,[t]){2&t&&L(s,"min",e[1]),4&t&&L(s,"max",e[2]),8&t&&L(s,"step",e[3]),1&t&&H(s,e[0]),1&t&&A(a,e[0])},i:e,o:e,d(e){e&&w(n),l=!1,r(c)}}}function Ks(e,t,n){let{min:s=0}=t,{max:r=2}=t,{step:o=.1}=t,{value:i=1}=t;return e.$$set=e=>{"min"in e&&n(1,s=e.min),"max"in e&&n(2,r=e.max),"step"in e&&n(3,o=e.step),"value"in e&&n(0,i=e.value)},[i,s,r,o,function(){i=function(e){return""===e?null:+e}(this.value),n(0,i)}]}class Js extends pe{constructor(e){super(),he(this,e,Ks,Xs,i,{min:1,max:2,step:3,value:0})}}function Ys(e,t,n){const s=e.slice();return s[18]=t[n],s}function Qs(e,t,n){const s=e.slice();return s[18]=t[n],s}function Ws(e,t,n){const s=e.slice();return s[10]=t[n],s}function er(e,t,n){const s=e.slice();return s[13]=t[n],s[15]=n,s}function tr(e,t,n){const s=e.slice();return s[16]=t[n],s[15]=n,s}function nr(e,t,n){const s=e.slice();return s[7]=t[n],s}function sr(e){let t,n,s,r;const o=[ar,ir,or],i=[];function a(e,t){return"table"===e[0]?0:"list"===e[0]?1:2}return t=a(e),n=i[t]=o[t](e),{c(){n.c(),s=E()},m(e,n){i[t].m(e,n),k(e,s,n),r=!0},p(e,r){let l=t;t=a(e),t===l?i[t].p(e,r):(te(),re(i[l],1,1,(()=>{i[l]=null})),ne(),n=i[t],n?n.p(e,r):(n=i[t]=o[t](e),n.c()),se(n,1),n.m(s.parentNode,s))},i(e){r||(se(n),r=!0)},o(e){re(n),r=!1},d(e){i[t].d(e),e&&w(s)}}}function rr(e){let t,n,s=e[1],r=[];for(let t=0;t<s.length;t+=1)r[t]=Ar(nr(e,s,t));const o=e=>re(r[e],1,1,(()=>{r[e]=null}));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=E()},m(e,s){for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,s);k(e,t,s),n=!0},p(e,n){if(34&n){let i;for(s=e[1],i=0;i<s.length;i+=1){const o=nr(e,s,i);r[i]?(r[i].p(o,n),se(r[i],1)):(r[i]=Ar(o),r[i].c(),se(r[i],1),r[i].m(t.parentNode,t))}for(te(),i=s.length;i<r.length;i+=1)o(i);ne()}},i(e){if(!n){for(let e=0;e<s.length;e+=1)se(r[e]);n=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)re(r[e]);n=!1},d(e){y(r,e),e&&w(t)}}}function or(e){let n,s,r;const o=[e[6]];var i=e[5][e[0]];function a(e){let n={$$slots:{default:[ur]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)n=t(n,o[e]);return{props:n}}return i&&(n=B(i,a(e))),{c(){n&&le(n.$$.fragment),s=E()},m(e,t){n&&ce(n,e,t),k(e,s,t),r=!0},p(e,t){const r=64&t?oe(o,[ie(e[6])]):{};if(8388706&t&&(r.$$scope={dirty:t,ctx:e}),33&t&&i!==(i=e[5][e[0]])){if(n){te();const e=n;re(e.$$.fragment,1,0,(()=>{ue(e,1)})),ne()}i?(n=B(i,a(e)),le(n.$$.fragment),se(n.$$.fragment,1),ce(n,s.parentNode,s)):n=null}else i&&n.$set(r)},i(e){r||(n&&se(n.$$.fragment,e),r=!0)},o(e){n&&re(n.$$.fragment,e),r=!1},d(e){e&&w(s),n&&ue(n,e)}}}function ir(e){let t,n,s,r;const o=[hr,dr],i=[];function a(e,t){return e[4]?0:1}return t=a(e),n=i[t]=o[t](e),{c(){n.c(),s=E()},m(e,n){i[t].m(e,n),k(e,s,n),r=!0},p(e,r){let l=t;t=a(e),t===l?i[t].p(e,r):(te(),re(i[l],1,1,(()=>{i[l]=null})),ne(),n=i[t],n?n.p(e,r):(n=i[t]=o[t](e),n.c()),se(n,1),n.m(s.parentNode,s))},i(e){r||(se(n),r=!0)},o(e){re(n),r=!1},d(e){i[t].d(e),e&&w(s)}}}function ar(e){let t,n,s;var r=e[5].table;function o(e){return{props:{$$slots:{default:[Lr]},$$scope:{ctx:e}}}}return r&&(t=B(r,o(e))),{c(){t&&le(t.$$.fragment),n=E()},m(e,r){t&&ce(t,e,r),k(e,n,r),s=!0},p(e,s){const i={};if(8388716&s&&(i.$$scope={dirty:s,ctx:e}),32&s&&r!==(r=e[5].table)){if(t){te();const e=t;re(e.$$.fragment,1,0,(()=>{ue(e,1)})),ne()}r?(t=B(r,o(e)),le(t.$$.fragment),se(t.$$.fragment,1),ce(t,n.parentNode,n)):t=null}else r&&t.$set(i)},i(e){s||(t&&se(t.$$.fragment,e),s=!0)},o(e){t&&re(t.$$.fragment,e),s=!1},d(e){e&&w(n),t&&ue(t,e)}}}function lr(t){let n,s=t[6].raw+"";return{c(){n=$(s)},m(e,t){k(e,n,t)},p(e,t){64&t&&s!==(s=e[6].raw+"")&&A(n,s)},i:e,o:e,d(e){e&&w(n)}}}function cr(e){let t,n;return t=new Pr({props:{tokens:e[1],renderers:e[5]}}),{c(){le(t.$$.fragment)},m(e,s){ce(t,e,s),n=!0},p(e,n){const s={};2&n&&(s.tokens=e[1]),32&n&&(s.renderers=e[5]),t.$set(s)},i(e){n||(se(t.$$.fragment,e),n=!0)},o(e){re(t.$$.fragment,e),n=!1},d(e){ue(t,e)}}}function ur(e){let t,n,s,r;const o=[cr,lr],i=[];function a(e,t){return e[1]?0:1}return t=a(e),n=i[t]=o[t](e),{c(){n.c(),s=E()},m(e,n){i[t].m(e,n),k(e,s,n),r=!0},p(e,r){let l=t;t=a(e),t===l?i[t].p(e,r):(te(),re(i[l],1,1,(()=>{i[l]=null})),ne(),n=i[t],n?n.p(e,r):(n=i[t]=o[t](e),n.c()),se(n,1),n.m(s.parentNode,s))},i(e){r||(se(n),r=!0)},o(e){re(n),r=!1},d(e){i[t].d(e),e&&w(s)}}}function dr(e){let n,s,r;const o=[{ordered:e[4]},e[6]];var i=e[5].list;function a(e){let n={$$slots:{default:[gr]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)n=t(n,o[e]);return{props:n}}return i&&(n=B(i,a(e))),{c(){n&&le(n.$$.fragment),s=E()},m(e,t){n&&ce(n,e,t),k(e,s,t),r=!0},p(e,t){const r=80&t?oe(o,[16&t&&{ordered:e[4]},64&t&&ie(e[6])]):{};if(8388704&t&&(r.$$scope={dirty:t,ctx:e}),32&t&&i!==(i=e[5].list)){if(n){te();const e=n;re(e.$$.fragment,1,0,(()=>{ue(e,1)})),ne()}i?(n=B(i,a(e)),le(n.$$.fragment),se(n.$$.fragment,1),ce(n,s.parentNode,s)):n=null}else i&&n.$set(r)},i(e){r||(n&&se(n.$$.fragment,e),r=!0)},o(e){n&&re(n.$$.fragment,e),r=!1},d(e){e&&w(s),n&&ue(n,e)}}}function hr(e){let n,s,r;const o=[{ordered:e[4]},e[6]];var i=e[5].list;function a(e){let n={$$slots:{default:[vr]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)n=t(n,o[e]);return{props:n}}return i&&(n=B(i,a(e))),{c(){n&&le(n.$$.fragment),s=E()},m(e,t){n&&ce(n,e,t),k(e,s,t),r=!0},p(e,t){const r=80&t?oe(o,[16&t&&{ordered:e[4]},64&t&&ie(e[6])]):{};if(8388704&t&&(r.$$scope={dirty:t,ctx:e}),32&t&&i!==(i=e[5].list)){if(n){te();const e=n;re(e.$$.fragment,1,0,(()=>{ue(e,1)})),ne()}i?(n=B(i,a(e)),le(n.$$.fragment),se(n.$$.fragment,1),ce(n,s.parentNode,s)):n=null}else i&&n.$set(r)},i(e){r||(n&&se(n.$$.fragment,e),r=!0)},o(e){n&&re(n.$$.fragment,e),r=!1},d(e){e&&w(s),n&&ue(n,e)}}}function pr(e){let t,n,s;return t=new Pr({props:{tokens:e[18].tokens,renderers:e[5]}}),{c(){le(t.$$.fragment),n=x()},m(e,r){ce(t,e,r),k(e,n,r),s=!0},p(e,n){const s={};64&n&&(s.tokens=e[18].tokens),32&n&&(s.renderers=e[5]),t.$set(s)},i(e){s||(se(t.$$.fragment,e),s=!0)},o(e){re(t.$$.fragment,e),s=!1},d(e){ue(t,e),e&&w(n)}}}function fr(e){let n,s,r;const o=[e[18]];var i=e[5].unorderedlistitem||e[5].listitem;function a(e){let n={$$slots:{default:[pr]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)n=t(n,o[e]);return{props:n}}return i&&(n=B(i,a(e))),{c(){n&&le(n.$$.fragment),s=E()},m(e,t){n&&ce(n,e,t),k(e,s,t),r=!0},p(e,t){const r=64&t?oe(o,[ie(e[18])]):{};if(8388704&t&&(r.$$scope={dirty:t,ctx:e}),32&t&&i!==(i=e[5].unorderedlistitem||e[5].listitem)){if(n){te();const e=n;re(e.$$.fragment,1,0,(()=>{ue(e,1)})),ne()}i?(n=B(i,a(e)),le(n.$$.fragment),se(n.$$.fragment,1),ce(n,s.parentNode,s)):n=null}else i&&n.$set(r)},i(e){r||(n&&se(n.$$.fragment,e),r=!0)},o(e){n&&re(n.$$.fragment,e),r=!1},d(e){e&&w(s),n&&ue(n,e)}}}function gr(e){let t,n,s=e[6].items,r=[];for(let t=0;t<s.length;t+=1)r[t]=fr(Ys(e,s,t));const o=e=>re(r[e],1,1,(()=>{r[e]=null}));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=E()},m(e,s){for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,s);k(e,t,s),n=!0},p(e,n){if(96&n){let i;for(s=e[6].items,i=0;i<s.length;i+=1){const o=Ys(e,s,i);r[i]?(r[i].p(o,n),se(r[i],1)):(r[i]=fr(o),r[i].c(),se(r[i],1),r[i].m(t.parentNode,t))}for(te(),i=s.length;i<r.length;i+=1)o(i);ne()}},i(e){if(!n){for(let e=0;e<s.length;e+=1)se(r[e]);n=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)re(r[e]);n=!1},d(e){y(r,e),e&&w(t)}}}function mr(e){let t,n,s;return t=new Pr({props:{tokens:e[18].tokens,renderers:e[5]}}),{c(){le(t.$$.fragment),n=x()},m(e,r){ce(t,e,r),k(e,n,r),s=!0},p(e,n){const s={};64&n&&(s.tokens=e[18].tokens),32&n&&(s.renderers=e[5]),t.$set(s)},i(e){s||(se(t.$$.fragment,e),s=!0)},o(e){re(t.$$.fragment,e),s=!1},d(e){ue(t,e),e&&w(n)}}}function br(e){let n,s,r;const o=[e[18]];var i=e[5].orderedlistitem||e[5].listitem;function a(e){let n={$$slots:{default:[mr]},$$scope:{ctx:e}};for(let e=0;e<o.length;e+=1)n=t(n,o[e]);return{props:n}}return i&&(n=B(i,a(e))),{c(){n&&le(n.$$.fragment),s=E()},m(e,t){n&&ce(n,e,t),k(e,s,t),r=!0},p(e,t){const r=64&t?oe(o,[ie(e[18])]):{};if(8388704&t&&(r.$$scope={dirty:t,ctx:e}),32&t&&i!==(i=e[5].orderedlistitem||e[5].listitem)){if(n){te();const e=n;re(e.$$.fragment,1,0,(()=>{ue(e,1)})),ne()}i?(n=B(i,a(e)),le(n.$$.fragment),se(n.$$.fragment,1),ce(n,s.parentNode,s)):n=null}else i&&n.$set(r)},i(e){r||(n&&se(n.$$.fragment,e),r=!0)},o(e){n&&re(n.$$.fragment,e),r=!1},d(e){e&&w(s),n&&ue(n,e)}}}function vr(e){let t,n,s=e[6].items,r=[];for(let t=0;t<s.length;t+=1)r[t]=br(Qs(e,s,t));const o=e=>re(r[e],1,1,(()=>{r[e]=null}));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=E()},m(e,s){for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,s);k(e,t,s),n=!0},p(e,n){if(96&n){let i;for(s=e[6].items,i=0;i<s.length;i+=1){const o=Qs(e,s,i);r[i]?(r[i].p(o,n),se(r[i],1)):(r[i]=br(o),r[i].c(),se(r[i],1),r[i].m(t.parentNode,t))}for(te(),i=s.length;i<r.length;i+=1)o(i);ne()}},i(e){if(!n){for(let e=0;e<s.length;e+=1)se(r[e]);n=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)re(r[e]);n=!1},d(e){y(r,e),e&&w(t)}}}function kr(e){let t,n,s;return t=new Pr({props:{tokens:e[16].tokens,renderers:e[5]}}),{c(){le(t.$$.fragment),n=x()},m(e,r){ce(t,e,r),k(e,n,r),s=!0},p(e,n){const s={};4&n&&(s.tokens=e[16].tokens),32&n&&(s.renderers=e[5]),t.$set(s)},i(e){s||(se(t.$$.fragment,e),s=!0)},o(e){re(t.$$.fragment,e),s=!1},d(e){ue(t,e),e&&w(n)}}}function wr(e){let t,n,s;var r=e[5].tablecell;function o(e){return{props:{header:!0,align:e[6].align[e[15]]||"center",$$slots:{default:[kr]},$$scope:{ctx:e}}}}return r&&(t=B(r,o(e))),{c(){t&&le(t.$$.fragment),n=E()},m(e,r){t&&ce(t,e,r),k(e,n,r),s=!0},p(e,s){const i={};if(64&s&&(i.align=e[6].align[e[15]]||"center"),8388644&s&&(i.$$scope={dirty:s,ctx:e}),32&s&&r!==(r=e[5].tablecell)){if(t){te();const e=t;re(e.$$.fragment,1,0,(()=>{ue(e,1)})),ne()}r?(t=B(r,o(e)),le(t.$$.fragment),se(t.$$.fragment,1),ce(t,n.parentNode,n)):t=null}else r&&t.$set(i)},i(e){s||(t&&se(t.$$.fragment,e),s=!0)},o(e){t&&re(t.$$.fragment,e),s=!1},d(e){e&&w(n),t&&ue(t,e)}}}function yr(e){let t,n,s=e[2],r=[];for(let t=0;t<s.length;t+=1)r[t]=wr(tr(e,s,t));const o=e=>re(r[e],1,1,(()=>{r[e]=null}));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=E()},m(e,s){for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,s);k(e,t,s),n=!0},p(e,n){if(100&n){let i;for(s=e[2],i=0;i<s.length;i+=1){const o=tr(e,s,i);r[i]?(r[i].p(o,n),se(r[i],1)):(r[i]=wr(o),r[i].c(),se(r[i],1),r[i].m(t.parentNode,t))}for(te(),i=s.length;i<r.length;i+=1)o(i);ne()}},i(e){if(!n){for(let e=0;e<s.length;e+=1)se(r[e]);n=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)re(r[e]);n=!1},d(e){y(r,e),e&&w(t)}}}function _r(e){let t,n,s;var r=e[5].tablerow;function o(e){return{props:{$$slots:{default:[yr]},$$scope:{ctx:e}}}}return r&&(t=B(r,o(e))),{c(){t&&le(t.$$.fragment),n=E()},m(e,r){t&&ce(t,e,r),k(e,n,r),s=!0},p(e,s){const i={};if(8388708&s&&(i.$$scope={dirty:s,ctx:e}),32&s&&r!==(r=e[5].tablerow)){if(t){te();const e=t;re(e.$$.fragment,1,0,(()=>{ue(e,1)})),ne()}r?(t=B(r,o(e)),le(t.$$.fragment),se(t.$$.fragment,1),ce(t,n.parentNode,n)):t=null}else r&&t.$set(i)},i(e){s||(t&&se(t.$$.fragment,e),s=!0)},o(e){t&&re(t.$$.fragment,e),s=!1},d(e){e&&w(n),t&&ue(t,e)}}}function $r(e){let t,n;return t=new Pr({props:{tokens:e[13].tokens,renderers:e[5]}}),{c(){le(t.$$.fragment)},m(e,s){ce(t,e,s),n=!0},p(e,n){const s={};8&n&&(s.tokens=e[13].tokens),32&n&&(s.renderers=e[5]),t.$set(s)},i(e){n||(se(t.$$.fragment,e),n=!0)},o(e){re(t.$$.fragment,e),n=!1},d(e){ue(t,e)}}}function xr(e){let t,n,s;var r=e[5].tablecell;function o(e){return{props:{header:!1,align:e[6].align[e[15]]||"center",$$slots:{default:[$r]},$$scope:{ctx:e}}}}return r&&(t=B(r,o(e))),{c(){t&&le(t.$$.fragment),n=E()},m(e,r){t&&ce(t,e,r),k(e,n,r),s=!0},p(e,s){const i={};if(64&s&&(i.align=e[6].align[e[15]]||"center"),8388648&s&&(i.$$scope={dirty:s,ctx:e}),32&s&&r!==(r=e[5].tablecell)){if(t){te();const e=t;re(e.$$.fragment,1,0,(()=>{ue(e,1)})),ne()}r?(t=B(r,o(e)),le(t.$$.fragment),se(t.$$.fragment,1),ce(t,n.parentNode,n)):t=null}else r&&t.$set(i)},i(e){s||(t&&se(t.$$.fragment,e),s=!0)},o(e){t&&re(t.$$.fragment,e),s=!1},d(e){e&&w(n),t&&ue(t,e)}}}function Er(e){let t,n,s=e[10],r=[];for(let t=0;t<s.length;t+=1)r[t]=xr(er(e,s,t));const o=e=>re(r[e],1,1,(()=>{r[e]=null}));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=x()},m(e,s){for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,s);k(e,t,s),n=!0},p(e,n){if(104&n){let i;for(s=e[10],i=0;i<s.length;i+=1){const o=er(e,s,i);r[i]?(r[i].p(o,n),se(r[i],1)):(r[i]=xr(o),r[i].c(),se(r[i],1),r[i].m(t.parentNode,t))}for(te(),i=s.length;i<r.length;i+=1)o(i);ne()}},i(e){if(!n){for(let e=0;e<s.length;e+=1)se(r[e]);n=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)re(r[e]);n=!1},d(e){y(r,e),e&&w(t)}}}function Tr(e){let t,n,s;var r=e[5].tablerow;function o(e){return{props:{$$slots:{default:[Er]},$$scope:{ctx:e}}}}return r&&(t=B(r,o(e))),{c(){t&&le(t.$$.fragment),n=E()},m(e,r){t&&ce(t,e,r),k(e,n,r),s=!0},p(e,s){const i={};if(8388712&s&&(i.$$scope={dirty:s,ctx:e}),32&s&&r!==(r=e[5].tablerow)){if(t){te();const e=t;re(e.$$.fragment,1,0,(()=>{ue(e,1)})),ne()}r?(t=B(r,o(e)),le(t.$$.fragment),se(t.$$.fragment,1),ce(t,n.parentNode,n)):t=null}else r&&t.$set(i)},i(e){s||(t&&se(t.$$.fragment,e),s=!0)},o(e){t&&re(t.$$.fragment,e),s=!1},d(e){e&&w(n),t&&ue(t,e)}}}function Sr(e){let t,n,s=e[3],r=[];for(let t=0;t<s.length;t+=1)r[t]=Tr(Ws(e,s,t));const o=e=>re(r[e],1,1,(()=>{r[e]=null}));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=E()},m(e,s){for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,s);k(e,t,s),n=!0},p(e,n){if(104&n){let i;for(s=e[3],i=0;i<s.length;i+=1){const o=Ws(e,s,i);r[i]?(r[i].p(o,n),se(r[i],1)):(r[i]=Tr(o),r[i].c(),se(r[i],1),r[i].m(t.parentNode,t))}for(te(),i=s.length;i<r.length;i+=1)o(i);ne()}},i(e){if(!n){for(let e=0;e<s.length;e+=1)se(r[e]);n=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)re(r[e]);n=!1},d(e){y(r,e),e&&w(t)}}}function Lr(e){let t,n,s,r,o;var i=e[5].tablehead;function a(e){return{props:{$$slots:{default:[_r]},$$scope:{ctx:e}}}}i&&(t=B(i,a(e)));var l=e[5].tablebody;function c(e){return{props:{$$slots:{default:[Sr]},$$scope:{ctx:e}}}}return l&&(s=B(l,c(e))),{c(){t&&le(t.$$.fragment),n=x(),s&&le(s.$$.fragment),r=E()},m(e,i){t&&ce(t,e,i),k(e,n,i),s&&ce(s,e,i),k(e,r,i),o=!0},p(e,o){const u={};if(8388708&o&&(u.$$scope={dirty:o,ctx:e}),32&o&&i!==(i=e[5].tablehead)){if(t){te();const e=t;re(e.$$.fragment,1,0,(()=>{ue(e,1)})),ne()}i?(t=B(i,a(e)),le(t.$$.fragment),se(t.$$.fragment,1),ce(t,n.parentNode,n)):t=null}else i&&t.$set(u);const d={};if(8388712&o&&(d.$$scope={dirty:o,ctx:e}),32&o&&l!==(l=e[5].tablebody)){if(s){te();const e=s;re(e.$$.fragment,1,0,(()=>{ue(e,1)})),ne()}l?(s=B(l,c(e)),le(s.$$.fragment),se(s.$$.fragment,1),ce(s,r.parentNode,r)):s=null}else l&&s.$set(d)},i(e){o||(t&&se(t.$$.fragment,e),s&&se(s.$$.fragment,e),o=!0)},o(e){t&&re(t.$$.fragment,e),s&&re(s.$$.fragment,e),o=!1},d(e){t&&ue(t,e),e&&w(n),e&&w(r),s&&ue(s,e)}}}function Ar(e){let n,s;const r=[e[7],{renderers:e[5]}];let o={};for(let e=0;e<r.length;e+=1)o=t(o,r[e]);return n=new Pr({props:o}),{c(){le(n.$$.fragment)},m(e,t){ce(n,e,t),s=!0},p(e,t){const s=34&t?oe(r,[2&t&&ie(e[7]),32&t&&{renderers:e[5]}]):{};n.$set(s)},i(e){s||(se(n.$$.fragment,e),s=!0)},o(e){re(n.$$.fragment,e),s=!1},d(e){ue(n,e)}}}function Hr(e){let t,n,s,r;const o=[rr,sr],i=[];function a(e,t){return e[0]?e[5][e[0]]?1:-1:0}return~(t=a(e))&&(n=i[t]=o[t](e)),{c(){n&&n.c(),s=E()},m(e,n){~t&&i[t].m(e,n),k(e,s,n),r=!0},p(e,[r]){let l=t;t=a(e),t===l?~t&&i[t].p(e,r):(n&&(te(),re(i[l],1,1,(()=>{i[l]=null})),ne()),~t?(n=i[t],n?n.p(e,r):(n=i[t]=o[t](e),n.c()),se(n,1),n.m(s.parentNode,s)):n=null)},i(e){r||(se(n),r=!0)},o(e){re(n),r=!1},d(e){~t&&i[t].d(e),e&&w(s)}}}function Nr(e,n,s){const r=["type","tokens","header","rows","ordered","renderers"];let o=b(n,r),{type:i}=n,{tokens:a}=n,{header:l}=n,{rows:c}=n,{ordered:u=!1}=n,{renderers:d}=n;return function(){const e=console.warn;console.warn=t=>{t.includes("unknown prop")||t.includes("unexpected slot")||e(t)},M((()=>{console.warn=e}))}(),e.$$set=e=>{n=t(t({},n),function(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}(e)),s(6,o=b(n,r)),"type"in e&&s(0,i=e.type),"tokens"in e&&s(1,a=e.tokens),"header"in e&&s(2,l=e.header),"rows"in e&&s(3,c=e.rows),"ordered"in e&&s(4,u=e.ordered),"renderers"in e&&s(5,d=e.renderers)},[i,a,l,c,u,d,o]}let Pr=class extends pe{constructor(e){super(),he(this,e,Nr,Hr,i,{type:0,tokens:1,header:2,rows:3,ordered:4,renderers:5})}};function Rr(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let Or={async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1};const Cr=/[&<>"']/,Br=new RegExp(Cr.source,"g"),Fr=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Ir=new RegExp(Fr.source,"g"),Mr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Dr=e=>Mr[e];function zr(e,t){if(t){if(Cr.test(e))return e.replace(Br,Dr)}else if(Fr.test(e))return e.replace(Ir,Dr);return e}const Ur=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi;function qr(e){return e.replace(Ur,((e,t)=>"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""))}const jr=/(^|[^\[])\^/g;function Gr(e,t){e="string"==typeof e?e:e.source,t=t||"";const n={replace:(t,s)=>(s=(s=s.source||s).replace(jr,"$1"),e=e.replace(t,s),n),getRegex:()=>new RegExp(e,t)};return n}const Vr=/[^\w:]/g,Zr=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Xr(e,t,n){if(e){let e;try{e=decodeURIComponent(qr(n)).replace(Vr,"").toLowerCase()}catch(e){return null}if(0===e.indexOf("javascript:")||0===e.indexOf("vbscript:")||0===e.indexOf("data:"))return null}t&&!Zr.test(n)&&(n=function(e,t){Kr[" "+e]||(Jr.test(e)?Kr[" "+e]=e+"/":Kr[" "+e]=to(e,"/",!0));e=Kr[" "+e];const n=-1===e.indexOf(":");return"//"===t.substring(0,2)?n?t:e.replace(Yr,"$1")+t:"/"===t.charAt(0)?n?t:e.replace(Qr,"$1")+t:e+t}(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch(e){return null}return n}const Kr={},Jr=/^[^:]+:\/*[^/]*$/,Yr=/^([^:]+:)[\s\S]*$/,Qr=/^([^:]+:\/*[^/]*)[\s\S]*$/;const Wr={exec:function(){}};function eo(e,t){const n=e.replace(/\|/g,((e,t,n)=>{let s=!1,r=t;for(;--r>=0&&"\\"===n[r];)s=!s;return s?"|":" |"})).split(/ \|/);let s=0;if(n[0].trim()||n.shift(),n.length>0&&!n[n.length-1].trim()&&n.pop(),n.length>t)n.splice(t);else for(;n.length<t;)n.push("");for(;s<n.length;s++)n[s]=n[s].trim().replace(/\\\|/g,"|");return n}function to(e,t,n){const s=e.length;if(0===s)return"";let r=0;for(;r<s;){const o=e.charAt(s-r-1);if(o!==t||n){if(o===t||!n)break;r++}else r++}return e.slice(0,s-r)}function no(e,t){if(t<1)return"";let n="";for(;t>1;)1&t&&(n+=e),t>>=1,e+=e;return n+e}function so(e,t,n,s){const r=t.href,o=t.title?zr(t.title):null,i=e[1].replace(/\\([\[\]])/g,"$1");if("!"!==e[0].charAt(0)){s.state.inLink=!0;const e={type:"link",raw:n,href:r,title:o,text:i,tokens:s.inlineTokens(i)};return s.state.inLink=!1,e}return{type:"image",raw:n,href:r,title:o,text:zr(i)}}class ro{constructor(e){this.options=e||Or}space(e){const t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){const t=this.rules.block.code.exec(e);if(t){const e=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?e:to(e,"\n")}}}fences(e){const t=this.rules.block.fences.exec(e);if(t){const e=t[0],n=function(e,t){const n=e.match(/^(\s+)(?:```)/);if(null===n)return t;const s=n[1];return t.split("\n").map((e=>{const t=e.match(/^\s+/);if(null===t)return e;const[n]=t;return n.length>=s.length?e.slice(s.length):e})).join("\n")}(e,t[3]||"");return{type:"code",raw:e,lang:t[2]?t[2].trim().replace(this.rules.inline._escapes,"$1"):t[2],text:n}}}heading(e){const t=this.rules.block.heading.exec(e);if(t){let e=t[2].trim();if(/#$/.test(e)){const t=to(e,"#");this.options.pedantic?e=t.trim():t&&!/ $/.test(t)||(e=t.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:e,tokens:this.lexer.inline(e)}}}hr(e){const t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){const t=this.rules.block.blockquote.exec(e);if(t){const e=t[0].replace(/^ *>[ \t]?/gm,""),n=this.lexer.state.top;this.lexer.state.top=!0;const s=this.lexer.blockTokens(e);return this.lexer.state.top=n,{type:"blockquote",raw:t[0],tokens:s,text:e}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,s,r,o,i,a,l,c,u,d,h,p,f=t[1].trim();const g=f.length>1,m={type:"list",raw:"",ordered:g,start:g?+f.slice(0,-1):"",loose:!1,items:[]};f=g?`\\d{1,9}\\${f.slice(-1)}`:`\\${f}`,this.options.pedantic&&(f=g?f:"[*+-]");const b=new RegExp(`^( {0,3}${f})((?:[\t ][^\\n]*)?(?:\\n|$))`);for(;e&&(p=!1,t=b.exec(e))&&!this.rules.block.hr.test(e);){if(n=t[0],e=e.substring(n.length),c=t[2].split("\n",1)[0].replace(/^\t+/,(e=>" ".repeat(3*e.length))),u=e.split("\n",1)[0],this.options.pedantic?(o=2,h=c.trimLeft()):(o=t[2].search(/[^ ]/),o=o>4?1:o,h=c.slice(o),o+=t[1].length),a=!1,!c&&/^ *$/.test(u)&&(n+=u+"\n",e=e.substring(u.length+1),p=!0),!p){const t=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),s=new RegExp(`^ {0,${Math.min(3,o-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),r=new RegExp(`^ {0,${Math.min(3,o-1)}}(?:\`\`\`|~~~)`),i=new RegExp(`^ {0,${Math.min(3,o-1)}}#`);for(;e&&(d=e.split("\n",1)[0],u=d,this.options.pedantic&&(u=u.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!r.test(u))&&!i.test(u)&&!t.test(u)&&!s.test(e);){if(u.search(/[^ ]/)>=o||!u.trim())h+="\n"+u.slice(o);else{if(a)break;if(c.search(/[^ ]/)>=4)break;if(r.test(c))break;if(i.test(c))break;if(s.test(c))break;h+="\n"+u}a||u.trim()||(a=!0),n+=d+"\n",e=e.substring(d.length+1),c=u.slice(o)}}m.loose||(l?m.loose=!0:/\n *\n *$/.test(n)&&(l=!0)),this.options.gfm&&(s=/^\[[ xX]\] /.exec(h),s&&(r="[ ] "!==s[0],h=h.replace(/^\[[ xX]\] +/,""))),m.items.push({type:"list_item",raw:n,task:!!s,checked:r,loose:!1,text:h}),m.raw+=n}m.items[m.items.length-1].raw=n.trimRight(),m.items[m.items.length-1].text=h.trimRight(),m.raw=m.raw.trimRight();const v=m.items.length;for(i=0;i<v;i++)if(this.lexer.state.top=!1,m.items[i].tokens=this.lexer.blockTokens(m.items[i].text,[]),!m.loose){const e=m.items[i].tokens.filter((e=>"space"===e.type)),t=e.length>0&&e.some((e=>/\n.*\n/.test(e.raw)));m.loose=t}if(m.loose)for(i=0;i<v;i++)m.items[i].loose=!0;return m}}html(e){const t=this.rules.block.html.exec(e);if(t){const e={type:"html",raw:t[0],pre:!this.options.sanitizer&&("pre"===t[1]||"script"===t[1]||"style"===t[1]),text:t[0]};if(this.options.sanitize){const n=this.options.sanitizer?this.options.sanitizer(t[0]):zr(t[0]);e.type="paragraph",e.text=n,e.tokens=this.lexer.inline(n)}return e}}def(e){const t=this.rules.block.def.exec(e);if(t){const e=t[1].toLowerCase().replace(/\s+/g," "),n=t[2]?t[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",s=t[3]?t[3].substring(1,t[3].length-1).replace(this.rules.inline._escapes,"$1"):t[3];return{type:"def",tag:e,raw:t[0],href:n,title:s}}}table(e){const t=this.rules.block.table.exec(e);if(t){const e={type:"table",header:eo(t[1]).map((e=>({text:e}))),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split("\n"):[]};if(e.header.length===e.align.length){e.raw=t[0];let n,s,r,o,i=e.align.length;for(n=0;n<i;n++)/^ *-+: *$/.test(e.align[n])?e.align[n]="right":/^ *:-+: *$/.test(e.align[n])?e.align[n]="center":/^ *:-+ *$/.test(e.align[n])?e.align[n]="left":e.align[n]=null;for(i=e.rows.length,n=0;n<i;n++)e.rows[n]=eo(e.rows[n],e.header.length).map((e=>({text:e})));for(i=e.header.length,s=0;s<i;s++)e.header[s].tokens=this.lexer.inline(e.header[s].text);for(i=e.rows.length,s=0;s<i;s++)for(o=e.rows[s],r=0;r<o.length;r++)o[r].tokens=this.lexer.inline(o[r].text);return e}}}lheading(e){const t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:"="===t[2].charAt(0)?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){const t=this.rules.block.paragraph.exec(e);if(t){const e="\n"===t[1].charAt(t[1].length-1)?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:e,tokens:this.lexer.inline(e)}}}text(e){const t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){const t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:zr(t[1])}}tag(e){const t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):zr(t[0]):t[0]}}link(e){const t=this.rules.inline.link.exec(e);if(t){const e=t[2].trim();if(!this.options.pedantic&&/^</.test(e)){if(!/>$/.test(e))return;const t=to(e.slice(0,-1),"\\");if((e.length-t.length)%2==0)return}else{const e=function(e,t){if(-1===e.indexOf(t[1]))return-1;const n=e.length;let s=0,r=0;for(;r<n;r++)if("\\"===e[r])r++;else if(e[r]===t[0])s++;else if(e[r]===t[1]&&(s--,s<0))return r;return-1}(t[2],"()");if(e>-1){const n=(0===t[0].indexOf("!")?5:4)+t[1].length+e;t[2]=t[2].substring(0,e),t[0]=t[0].substring(0,n).trim(),t[3]=""}}let n=t[2],s="";if(this.options.pedantic){const e=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(n);e&&(n=e[1],s=e[3])}else s=t[3]?t[3].slice(1,-1):"";return n=n.trim(),/^</.test(n)&&(n=this.options.pedantic&&!/>$/.test(e)?n.slice(1):n.slice(1,-1)),so(t,{href:n?n.replace(this.rules.inline._escapes,"$1"):n,title:s?s.replace(this.rules.inline._escapes,"$1"):s},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let e=(n[2]||n[1]).replace(/\s+/g," ");if(e=t[e.toLowerCase()],!e){const e=n[0].charAt(0);return{type:"text",raw:e,text:e}}return so(n,e,n[0],this.lexer)}}emStrong(e,t,n=""){let s=this.rules.inline.emStrong.lDelim.exec(e);if(!s)return;if(s[3]&&n.match(/[\p{L}\p{N}]/u))return;const r=s[1]||s[2]||"";if(!r||r&&(""===n||this.rules.inline.punctuation.exec(n))){const n=s[0].length-1;let r,o,i=n,a=0;const l="*"===s[0][0]?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(l.lastIndex=0,t=t.slice(-1*e.length+n);null!=(s=l.exec(t));){if(r=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!r)continue;if(o=r.length,s[3]||s[4]){i+=o;continue}if((s[5]||s[6])&&n%3&&!((n+o)%3)){a+=o;continue}if(i-=o,i>0)continue;o=Math.min(o,o+i+a);const t=e.slice(0,n+s.index+(s[0].length-r.length)+o);if(Math.min(n,o)%2){const e=t.slice(1,-1);return{type:"em",raw:t,text:e,tokens:this.lexer.inlineTokens(e)}}const l=t.slice(2,-2);return{type:"strong",raw:t,text:l,tokens:this.lexer.inlineTokens(l)}}}}codespan(e){const t=this.rules.inline.code.exec(e);if(t){let e=t[2].replace(/\n/g," ");const n=/[^ ]/.test(e),s=/^ /.test(e)&&/ $/.test(e);return n&&s&&(e=e.substring(1,e.length-1)),e=zr(e,!0),{type:"codespan",raw:t[0],text:e}}}br(e){const t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){const t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){const n=this.rules.inline.autolink.exec(e);if(n){let e,s;return"@"===n[2]?(e=zr(this.options.mangle?t(n[1]):n[1]),s="mailto:"+e):(e=zr(n[1]),s=e),{type:"link",raw:n[0],text:e,href:s,tokens:[{type:"text",raw:e,text:e}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let e,s;if("@"===n[2])e=zr(this.options.mangle?t(n[0]):n[0]),s="mailto:"+e;else{let t;do{t=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0]}while(t!==n[0]);e=zr(n[0]),s="www."===n[1]?"http://"+n[0]:n[0]}return{type:"link",raw:n[0],text:e,href:s,tokens:[{type:"text",raw:e,text:e}]}}}inlineText(e,t){const n=this.rules.inline.text.exec(e);if(n){let e;return e=this.lexer.state.inRawBlock?this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):zr(n[0]):n[0]:zr(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:e}}}}const oo={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:Wr,lheading:/^((?:.|\n(?!\n))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/,_label:/(?!\s*\])(?:\\.|[^\[\]\\])+/,_title:/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/};oo.def=Gr(oo.def).replace("label",oo._label).replace("title",oo._title).getRegex(),oo.bullet=/(?:[*+-]|\d{1,9}[.)])/,oo.listItemStart=Gr(/^( *)(bull) */).replace("bull",oo.bullet).getRegex(),oo.list=Gr(oo.list).replace(/bull/g,oo.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+oo.def.source+")").getRegex(),oo._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",oo._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,oo.html=Gr(oo.html,"i").replace("comment",oo._comment).replace("tag",oo._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),oo.paragraph=Gr(oo._paragraph).replace("hr",oo.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",oo._tag).getRegex(),oo.blockquote=Gr(oo.blockquote).replace("paragraph",oo.paragraph).getRegex(),oo.normal={...oo},oo.gfm={...oo.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"},oo.gfm.table=Gr(oo.gfm.table).replace("hr",oo.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",oo._tag).getRegex(),oo.gfm.paragraph=Gr(oo._paragraph).replace("hr",oo.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",oo.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",oo._tag).getRegex(),oo.pedantic={...oo.normal,html:Gr("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",oo._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Wr,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Gr(oo.normal._paragraph).replace("hr",oo.hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",oo.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const io={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:Wr,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^(?:[^_*\\]|\\.)*?\_\_(?:[^_*\\]|\\.)*?\*(?:[^_*\\]|\\.)*?(?=\_\_)|(?:[^*\\]|\\.)+(?=[^*])|[punct_](\*+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|(?:[^punct*_\s\\]|\\.)(\*+)(?=[^punct*_\s])/,rDelimUnd:/^(?:[^_*\\]|\\.)*?\*\*(?:[^_*\\]|\\.)*?\_(?:[^_*\\]|\\.)*?(?=\*\*)|(?:[^_\\]|\\.)+(?=[^_])|[punct*](\_+)(?=[\s]|$)|(?:[^punct*_\s\\]|\\.)(\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:Wr,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};function ao(e){return e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function lo(e){let t,n,s="";const r=e.length;for(t=0;t<r;t++)n=e.charCodeAt(t),Math.random()>.5&&(n="x"+n.toString(16)),s+="&#"+n+";";return s}io._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",io.punctuation=Gr(io.punctuation).replace(/punctuation/g,io._punctuation).getRegex(),io.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,io.escapedEmSt=/(?:^|[^\\])(?:\\\\)*\\[*_]/g,io._comment=Gr(oo._comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),io.emStrong.lDelim=Gr(io.emStrong.lDelim).replace(/punct/g,io._punctuation).getRegex(),io.emStrong.rDelimAst=Gr(io.emStrong.rDelimAst,"g").replace(/punct/g,io._punctuation).getRegex(),io.emStrong.rDelimUnd=Gr(io.emStrong.rDelimUnd,"g").replace(/punct/g,io._punctuation).getRegex(),io._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,io._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,io._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,io.autolink=Gr(io.autolink).replace("scheme",io._scheme).replace("email",io._email).getRegex(),io._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,io.tag=Gr(io.tag).replace("comment",io._comment).replace("attribute",io._attribute).getRegex(),io._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,io._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,io._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,io.link=Gr(io.link).replace("label",io._label).replace("href",io._href).replace("title",io._title).getRegex(),io.reflink=Gr(io.reflink).replace("label",io._label).replace("ref",oo._label).getRegex(),io.nolink=Gr(io.nolink).replace("ref",oo._label).getRegex(),io.reflinkSearch=Gr(io.reflinkSearch,"g").replace("reflink",io.reflink).replace("nolink",io.nolink).getRegex(),io.normal={...io},io.pedantic={...io.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:Gr(/^!?\[(label)\]\((.*?)\)/).replace("label",io._label).getRegex(),reflink:Gr(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",io._label).getRegex()},io.gfm={...io.normal,escape:Gr(io.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},io.gfm.url=Gr(io.gfm.url,"i").replace("email",io.gfm._extended_email).getRegex(),io.breaks={...io.gfm,br:Gr(io.br).replace("{2,}","*").getRegex(),text:Gr(io.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};class co{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Or,this.options.tokenizer=this.options.tokenizer||new ro,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const t={block:oo.normal,inline:io.normal};this.options.pedantic?(t.block=oo.pedantic,t.inline=io.pedantic):this.options.gfm&&(t.block=oo.gfm,this.options.breaks?t.inline=io.breaks:t.inline=io.gfm),this.tokenizer.rules=t}static get rules(){return{block:oo,inline:io}}static lex(e,t){return new co(t).lex(e)}static lexInline(e,t){return new co(t).inlineTokens(e)}lex(e){let t;for(e=e.replace(/\r\n|\r/g,"\n"),this.blockTokens(e,this.tokens);t=this.inlineQueue.shift();)this.inlineTokens(t.src,t.tokens);return this.tokens}blockTokens(e,t=[]){let n,s,r,o;for(e=this.options.pedantic?e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e.replace(/^( *)(\t+)/gm,((e,t,n)=>t+"    ".repeat(n.length)));e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some((s=>!!(n=s.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.space(e))e=e.substring(n.raw.length),1===n.raw.length&&t.length>0?t[t.length-1].raw+="\n":t.push(n);else if(n=this.tokenizer.code(e))e=e.substring(n.raw.length),s=t[t.length-1],!s||"paragraph"!==s.type&&"text"!==s.type?t.push(n):(s.raw+="\n"+n.raw,s.text+="\n"+n.text,this.inlineQueue[this.inlineQueue.length-1].src=s.text);else if(n=this.tokenizer.fences(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.heading(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.hr(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.blockquote(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.list(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.html(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.def(e))e=e.substring(n.raw.length),s=t[t.length-1],!s||"paragraph"!==s.type&&"text"!==s.type?this.tokens.links[n.tag]||(this.tokens.links[n.tag]={href:n.href,title:n.title}):(s.raw+="\n"+n.raw,s.text+="\n"+n.raw,this.inlineQueue[this.inlineQueue.length-1].src=s.text);else if(n=this.tokenizer.table(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.lheading(e))e=e.substring(n.raw.length),t.push(n);else{if(r=e,this.options.extensions&&this.options.extensions.startBlock){let t=1/0;const n=e.slice(1);let s;this.options.extensions.startBlock.forEach((function(e){s=e.call({lexer:this},n),"number"==typeof s&&s>=0&&(t=Math.min(t,s))})),t<1/0&&t>=0&&(r=e.substring(0,t+1))}if(this.state.top&&(n=this.tokenizer.paragraph(r)))s=t[t.length-1],o&&"paragraph"===s.type?(s.raw+="\n"+n.raw,s.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(n),o=r.length!==e.length,e=e.substring(n.raw.length);else if(n=this.tokenizer.text(e))e=e.substring(n.raw.length),s=t[t.length-1],s&&"text"===s.type?(s.raw+="\n"+n.raw,s.text+="\n"+n.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}return this.state.top=!0,t}inline(e,t=[]){return this.inlineQueue.push({src:e,tokens:t}),t}inlineTokens(e,t=[]){let n,s,r,o,i,a,l=e;if(this.tokens.links){const e=Object.keys(this.tokens.links);if(e.length>0)for(;null!=(o=this.tokenizer.rules.inline.reflinkSearch.exec(l));)e.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,o.index)+"["+no("a",o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(o=this.tokenizer.rules.inline.blockSkip.exec(l));)l=l.slice(0,o.index)+"["+no("a",o[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;null!=(o=this.tokenizer.rules.inline.escapedEmSt.exec(l));)l=l.slice(0,o.index+o[0].length-2)+"++"+l.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex),this.tokenizer.rules.inline.escapedEmSt.lastIndex--;for(;e;)if(i||(a=""),i=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some((s=>!!(n=s.call({lexer:this},e,t))&&(e=e.substring(n.raw.length),t.push(n),!0)))))if(n=this.tokenizer.escape(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.tag(e))e=e.substring(n.raw.length),s=t[t.length-1],s&&"text"===n.type&&"text"===s.type?(s.raw+=n.raw,s.text+=n.text):t.push(n);else if(n=this.tokenizer.link(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.reflink(e,this.tokens.links))e=e.substring(n.raw.length),s=t[t.length-1],s&&"text"===n.type&&"text"===s.type?(s.raw+=n.raw,s.text+=n.text):t.push(n);else if(n=this.tokenizer.emStrong(e,l,a))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.codespan(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.br(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.del(e))e=e.substring(n.raw.length),t.push(n);else if(n=this.tokenizer.autolink(e,lo))e=e.substring(n.raw.length),t.push(n);else if(this.state.inLink||!(n=this.tokenizer.url(e,lo))){if(r=e,this.options.extensions&&this.options.extensions.startInline){let t=1/0;const n=e.slice(1);let s;this.options.extensions.startInline.forEach((function(e){s=e.call({lexer:this},n),"number"==typeof s&&s>=0&&(t=Math.min(t,s))})),t<1/0&&t>=0&&(r=e.substring(0,t+1))}if(n=this.tokenizer.inlineText(r,ao))e=e.substring(n.raw.length),"_"!==n.raw.slice(-1)&&(a=n.raw.slice(-1)),i=!0,s=t[t.length-1],s&&"text"===s.type?(s.raw+=n.raw,s.text+=n.text):t.push(n);else if(e){const t="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(t);break}throw new Error(t)}}else e=e.substring(n.raw.length),t.push(n);return t}}class uo{constructor(e){this.options=e||Or}code(e,t,n){const s=(t||"").match(/\S*/)[0];if(this.options.highlight){const t=this.options.highlight(e,s);null!=t&&t!==e&&(n=!0,e=t)}return e=e.replace(/\n$/,"")+"\n",s?'<pre><code class="'+this.options.langPrefix+zr(s)+'">'+(n?e:zr(e,!0))+"</code></pre>\n":"<pre><code>"+(n?e:zr(e,!0))+"</code></pre>\n"}blockquote(e){return`<blockquote>\n${e}</blockquote>\n`}html(e){return e}heading(e,t,n,s){if(this.options.headerIds){return`<h${t} id="${this.options.headerPrefix+s.slug(n)}">${e}</h${t}>\n`}return`<h${t}>${e}</h${t}>\n`}hr(){return this.options.xhtml?"<hr/>\n":"<hr>\n"}list(e,t,n){const s=t?"ol":"ul";return"<"+s+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+s+">\n"}listitem(e){return`<li>${e}</li>\n`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>\n`}table(e,t){return t&&(t=`<tbody>${t}</tbody>`),"<table>\n<thead>\n"+e+"</thead>\n"+t+"</table>\n"}tablerow(e){return`<tr>\n${e}</tr>\n`}tablecell(e,t){const n=t.header?"th":"td";return(t.align?`<${n} align="${t.align}">`:`<${n}>`)+e+`</${n}>\n`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,t,n){if(null===(e=Xr(this.options.sanitize,this.options.baseUrl,e)))return n;let s='<a href="'+e+'"';return t&&(s+=' title="'+t+'"'),s+=">"+n+"</a>",s}image(e,t,n){if(null===(e=Xr(this.options.sanitize,this.options.baseUrl,e)))return n;let s=`<img src="${e}" alt="${n}"`;return t&&(s+=` title="${t}"`),s+=this.options.xhtml?"/>":">",s}text(e){return e}}class ho{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}}class po{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/gi,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,s=0;if(this.seen.hasOwnProperty(n)){s=this.seen[e];do{s++,n=e+"-"+s}while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=s,this.seen[n]=0),n}slug(e,t={}){const n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}}class fo{constructor(e){this.options=e||Or,this.options.renderer=this.options.renderer||new uo,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new ho,this.slugger=new po}static parse(e,t){return new fo(t).parse(e)}static parseInline(e,t){return new fo(t).parseInline(e)}parse(e,t=!0){let n,s,r,o,i,a,l,c,u,d,h,p,f,g,m,b,v,k,w,y="";const _=e.length;for(n=0;n<_;n++)if(d=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[d.type]&&(w=this.options.extensions.renderers[d.type].call({parser:this},d),!1!==w||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(d.type)))y+=w||"";else switch(d.type){case"space":continue;case"hr":y+=this.renderer.hr();continue;case"heading":y+=this.renderer.heading(this.parseInline(d.tokens),d.depth,qr(this.parseInline(d.tokens,this.textRenderer)),this.slugger);continue;case"code":y+=this.renderer.code(d.text,d.lang,d.escaped);continue;case"table":for(c="",l="",o=d.header.length,s=0;s<o;s++)l+=this.renderer.tablecell(this.parseInline(d.header[s].tokens),{header:!0,align:d.align[s]});for(c+=this.renderer.tablerow(l),u="",o=d.rows.length,s=0;s<o;s++){for(a=d.rows[s],l="",i=a.length,r=0;r<i;r++)l+=this.renderer.tablecell(this.parseInline(a[r].tokens),{header:!1,align:d.align[r]});u+=this.renderer.tablerow(l)}y+=this.renderer.table(c,u);continue;case"blockquote":u=this.parse(d.tokens),y+=this.renderer.blockquote(u);continue;case"list":for(h=d.ordered,p=d.start,f=d.loose,o=d.items.length,u="",s=0;s<o;s++)m=d.items[s],b=m.checked,v=m.task,g="",m.task&&(k=this.renderer.checkbox(b),f?m.tokens.length>0&&"paragraph"===m.tokens[0].type?(m.tokens[0].text=k+" "+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&"text"===m.tokens[0].tokens[0].type&&(m.tokens[0].tokens[0].text=k+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:k}):g+=k),g+=this.parse(m.tokens,f),u+=this.renderer.listitem(g,v,b);y+=this.renderer.list(u,h,p);continue;case"html":y+=this.renderer.html(d.text);continue;case"paragraph":y+=this.renderer.paragraph(this.parseInline(d.tokens));continue;case"text":for(u=d.tokens?this.parseInline(d.tokens):d.text;n+1<_&&"text"===e[n+1].type;)d=e[++n],u+="\n"+(d.tokens?this.parseInline(d.tokens):d.text);y+=t?this.renderer.paragraph(u):u;continue;default:{const e='Token with "'+d.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return y}parseInline(e,t){t=t||this.renderer;let n,s,r,o="";const i=e.length;for(n=0;n<i;n++)if(s=e[n],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[s.type]&&(r=this.options.extensions.renderers[s.type].call({parser:this},s),!1!==r||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)))o+=r||"";else switch(s.type){case"escape":case"text":o+=t.text(s.text);break;case"html":o+=t.html(s.text);break;case"link":o+=t.link(s.href,s.title,this.parseInline(s.tokens,t));break;case"image":o+=t.image(s.href,s.title,s.text);break;case"strong":o+=t.strong(this.parseInline(s.tokens,t));break;case"em":o+=t.em(this.parseInline(s.tokens,t));break;case"codespan":o+=t.codespan(s.text);break;case"br":o+=t.br();break;case"del":o+=t.del(this.parseInline(s.tokens,t));break;default:{const e='Token with "'+s.type+'" type was not found.';if(this.options.silent)return void console.error(e);throw new Error(e)}}return o}}class go{constructor(e){this.options=e||Or}static passThroughHooks=new Set(["preprocess","postprocess"]);preprocess(e){return e}postprocess(e){return e}}function mo(e,t){return(n,s,r)=>{"function"==typeof s&&(r=s,s=null);const o={...s},i=function(e,t,n){return s=>{if(s.message+="\nPlease report this to https://github.com/markedjs/marked.",e){const e="<p>An error occurred:</p><pre>"+zr(s.message+"",!0)+"</pre>";return t?Promise.resolve(e):n?void n(null,e):e}if(t)return Promise.reject(s);if(!n)throw s;n(s)}}((s={...bo.defaults,...o}).silent,s.async,r);if(null==n)return i(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof n)return i(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(n)+", string expected"));if(function(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}(s),s.hooks&&(s.hooks.options=s),r){const o=s.highlight;let a;try{s.hooks&&(n=s.hooks.preprocess(n)),a=e(n,s)}catch(e){return i(e)}const l=function(e){let n;if(!e)try{s.walkTokens&&bo.walkTokens(a,s.walkTokens),n=t(a,s),s.hooks&&(n=s.hooks.postprocess(n))}catch(t){e=t}return s.highlight=o,e?i(e):r(null,n)};if(!o||o.length<3)return l();if(delete s.highlight,!a.length)return l();let c=0;return bo.walkTokens(a,(function(e){"code"===e.type&&(c++,setTimeout((()=>{o(e.text,e.lang,(function(t,n){if(t)return l(t);null!=n&&n!==e.text&&(e.text=n,e.escaped=!0),c--,0===c&&l()}))}),0))})),void(0===c&&l())}if(s.async)return Promise.resolve(s.hooks?s.hooks.preprocess(n):n).then((t=>e(t,s))).then((e=>s.walkTokens?Promise.all(bo.walkTokens(e,s.walkTokens)).then((()=>e)):e)).then((e=>t(e,s))).then((e=>s.hooks?s.hooks.postprocess(e):e)).catch(i);try{s.hooks&&(n=s.hooks.preprocess(n));const r=e(n,s);s.walkTokens&&bo.walkTokens(r,s.walkTokens);let o=t(r,s);return s.hooks&&(o=s.hooks.postprocess(o)),o}catch(e){return i(e)}}}function bo(e,t,n){return mo(co.lex,fo.parse)(e,t,n)}bo.options=bo.setOptions=function(e){var t;return bo.defaults={...bo.defaults,...e},t=bo.defaults,Or=t,bo},bo.getDefaults=Rr,bo.defaults=Or,bo.use=function(...e){const t=bo.defaults.extensions||{renderers:{},childTokens:{}};e.forEach((e=>{const n={...e};if(n.async=bo.defaults.async||n.async||!1,e.extensions&&(e.extensions.forEach((e=>{if(!e.name)throw new Error("extension name required");if(e.renderer){const n=t.renderers[e.name];t.renderers[e.name]=n?function(...t){let s=e.renderer.apply(this,t);return!1===s&&(s=n.apply(this,t)),s}:e.renderer}if(e.tokenizer){if(!e.level||"block"!==e.level&&"inline"!==e.level)throw new Error("extension level must be 'block' or 'inline'");t[e.level]?t[e.level].unshift(e.tokenizer):t[e.level]=[e.tokenizer],e.start&&("block"===e.level?t.startBlock?t.startBlock.push(e.start):t.startBlock=[e.start]:"inline"===e.level&&(t.startInline?t.startInline.push(e.start):t.startInline=[e.start]))}e.childTokens&&(t.childTokens[e.name]=e.childTokens)})),n.extensions=t),e.renderer){const t=bo.defaults.renderer||new uo;for(const n in e.renderer){const s=t[n];t[n]=(...r)=>{let o=e.renderer[n].apply(t,r);return!1===o&&(o=s.apply(t,r)),o}}n.renderer=t}if(e.tokenizer){const t=bo.defaults.tokenizer||new ro;for(const n in e.tokenizer){const s=t[n];t[n]=(...r)=>{let o=e.tokenizer[n].apply(t,r);return!1===o&&(o=s.apply(t,r)),o}}n.tokenizer=t}if(e.hooks){const t=bo.defaults.hooks||new go;for(const n in e.hooks){const s=t[n];go.passThroughHooks.has(n)?t[n]=r=>{if(bo.defaults.async)return Promise.resolve(e.hooks[n].call(t,r)).then((e=>s.call(t,e)));const o=e.hooks[n].call(t,r);return s.call(t,o)}:t[n]=(...r)=>{let o=e.hooks[n].apply(t,r);return!1===o&&(o=s.apply(t,r)),o}}n.hooks=t}if(e.walkTokens){const t=bo.defaults.walkTokens;n.walkTokens=function(n){let s=[];return s.push(e.walkTokens.call(this,n)),t&&(s=s.concat(t.call(this,n))),s}}bo.setOptions(n)}))},bo.walkTokens=function(e,t){let n=[];for(const s of e)switch(n=n.concat(t.call(bo,s)),s.type){case"table":for(const e of s.header)n=n.concat(bo.walkTokens(e.tokens,t));for(const e of s.rows)for(const s of e)n=n.concat(bo.walkTokens(s.tokens,t));break;case"list":n=n.concat(bo.walkTokens(s.items,t));break;default:bo.defaults.extensions&&bo.defaults.extensions.childTokens&&bo.defaults.extensions.childTokens[s.type]?bo.defaults.extensions.childTokens[s.type].forEach((function(e){n=n.concat(bo.walkTokens(s[e],t))})):s.tokens&&(n=n.concat(bo.walkTokens(s.tokens,t)))}return n},bo.parseInline=mo(co.lexInline,fo.parseInline),bo.Parser=fo,bo.parser=fo.parse,bo.Renderer=uo,bo.TextRenderer=ho,bo.Lexer=co,bo.lexer=co.lex,bo.Tokenizer=ro,bo.Slugger=po,bo.Hooks=go,bo.parse=bo,bo.options,bo.setOptions,bo.use,bo.walkTokens,bo.parseInline,fo.parse,co.lex;const vo={};function ko(t){let n;return{c(){n=$(t[1])},m(e,t){k(e,n,t)},p(e,t){2&t&&A(n,e[1])},i:e,o:e,d(e){e&&w(n)}}}function wo(e){let t,n;const s=e[5].default,r=h(s,e,e[4],null);return{c(){t=_("h6"),r&&r.c(),L(t,"id",e[2])},m(e,s){k(e,t,s),r&&r.m(t,null),n=!0},p(e,o){r&&r.p&&(!n||16&o)&&g(r,s,e,e[4],n?f(s,e[4],o,null):m(e[4]),null),(!n||4&o)&&L(t,"id",e[2])},i(e){n||(se(r,e),n=!0)},o(e){re(r,e),n=!1},d(e){e&&w(t),r&&r.d(e)}}}function yo(e){let t,n;const s=e[5].default,r=h(s,e,e[4],null);return{c(){t=_("h5"),r&&r.c(),L(t,"id",e[2])},m(e,s){k(e,t,s),r&&r.m(t,null),n=!0},p(e,o){r&&r.p&&(!n||16&o)&&g(r,s,e,e[4],n?f(s,e[4],o,null):m(e[4]),null),(!n||4&o)&&L(t,"id",e[2])},i(e){n||(se(r,e),n=!0)},o(e){re(r,e),n=!1},d(e){e&&w(t),r&&r.d(e)}}}function _o(e){let t,n;const s=e[5].default,r=h(s,e,e[4],null);return{c(){t=_("h4"),r&&r.c(),L(t,"id",e[2])},m(e,s){k(e,t,s),r&&r.m(t,null),n=!0},p(e,o){r&&r.p&&(!n||16&o)&&g(r,s,e,e[4],n?f(s,e[4],o,null):m(e[4]),null),(!n||4&o)&&L(t,"id",e[2])},i(e){n||(se(r,e),n=!0)},o(e){re(r,e),n=!1},d(e){e&&w(t),r&&r.d(e)}}}function $o(e){let t,n;const s=e[5].default,r=h(s,e,e[4],null);return{c(){t=_("h3"),r&&r.c(),L(t,"id",e[2])},m(e,s){k(e,t,s),r&&r.m(t,null),n=!0},p(e,o){r&&r.p&&(!n||16&o)&&g(r,s,e,e[4],n?f(s,e[4],o,null):m(e[4]),null),(!n||4&o)&&L(t,"id",e[2])},i(e){n||(se(r,e),n=!0)},o(e){re(r,e),n=!1},d(e){e&&w(t),r&&r.d(e)}}}function xo(e){let t,n;const s=e[5].default,r=h(s,e,e[4],null);return{c(){t=_("h2"),r&&r.c(),L(t,"id",e[2])},m(e,s){k(e,t,s),r&&r.m(t,null),n=!0},p(e,o){r&&r.p&&(!n||16&o)&&g(r,s,e,e[4],n?f(s,e[4],o,null):m(e[4]),null),(!n||4&o)&&L(t,"id",e[2])},i(e){n||(se(r,e),n=!0)},o(e){re(r,e),n=!1},d(e){e&&w(t),r&&r.d(e)}}}function Eo(e){let t,n;const s=e[5].default,r=h(s,e,e[4],null);return{c(){t=_("h1"),r&&r.c(),L(t,"id",e[2])},m(e,s){k(e,t,s),r&&r.m(t,null),n=!0},p(e,o){r&&r.p&&(!n||16&o)&&g(r,s,e,e[4],n?f(s,e[4],o,null):m(e[4]),null),(!n||4&o)&&L(t,"id",e[2])},i(e){n||(se(r,e),n=!0)},o(e){re(r,e),n=!1},d(e){e&&w(t),r&&r.d(e)}}}function To(e){let t,n,s,r;const o=[Eo,xo,$o,_o,yo,wo,ko],i=[];function a(e,t){return 1===e[0]?0:2===e[0]?1:3===e[0]?2:4===e[0]?3:5===e[0]?4:6===e[0]?5:6}return t=a(e),n=i[t]=o[t](e),{c(){n.c(),s=E()},m(e,n){i[t].m(e,n),k(e,s,n),r=!0},p(e,[r]){let l=t;t=a(e),t===l?i[t].p(e,r):(te(),re(i[l],1,1,(()=>{i[l]=null})),ne(),n=i[t],n?n.p(e,r):(n=i[t]=o[t](e),n.c()),se(n,1),n.m(s.parentNode,s))},i(e){r||(se(n),r=!0)},o(e){re(n),r=!1},d(e){i[t].d(e),e&&w(s)}}}function So(e,t,n){let s,{$$slots:r={},$$scope:o}=t,{depth:i}=t,{raw:a}=t,{text:l}=t;const{slug:c,getOptions:u}=function(e){return I().$$.context.get(e)}(vo),d=u();return e.$$set=e=>{"depth"in e&&n(0,i=e.depth),"raw"in e&&n(1,a=e.raw),"text"in e&&n(3,l=e.text),"$$scope"in e&&n(4,o=e.$$scope)},e.$$.update=()=>{8&e.$$.dirty&&n(2,s=d.headerIds?d.headerPrefix+c(l):void 0)},[i,a,s,l,o,r]}function Lo(e){let t,n;const s=e[1].default,r=h(s,e,e[0],null);return{c(){t=_("p"),r&&r.c()},m(e,s){k(e,t,s),r&&r.m(t,null),n=!0},p(e,[t]){r&&r.p&&(!n||1&t)&&g(r,s,e,e[0],n?f(s,e[0],t,null):m(e[0]),null)},i(e){n||(se(r,e),n=!0)},o(e){re(r,e),n=!1},d(e){e&&w(t),r&&r.d(e)}}}function Ao(e,t,n){let{$$slots:s={},$$scope:r}=t;return e.$$set=e=>{"$$scope"in e&&n(0,r=e.$$scope)},[r,s]}function Ho(e){let t;const n=e[3].default,s=h(n,e,e[2],null);return{c(){s&&s.c()},m(e,n){s&&s.m(e,n),t=!0},p(e,[r]){s&&s.p&&(!t||4&r)&&g(s,n,e,e[2],t?f(n,e[2],r,null):m(e[2]),null)},i(e){t||(se(s,e),t=!0)},o(e){re(s,e),t=!1},d(e){s&&s.d(e)}}}function No(e,t,n){let{$$slots:s={},$$scope:r}=t,{text:o}=t,{raw:i}=t;return e.$$set=e=>{"text"in e&&n(0,o=e.text),"raw"in e&&n(1,i=e.raw),"$$scope"in e&&n(2,r=e.$$scope)},[o,i,r,s]}function Po(t){let n,s;return{c(){n=_("img"),c(n.src,s=t[0])||L(n,"src",s),L(n,"title",t[1]),L(n,"alt",t[2])},m(e,t){k(e,n,t)},p(e,[t]){1&t&&!c(n.src,s=e[0])&&L(n,"src",s),2&t&&L(n,"title",e[1]),4&t&&L(n,"alt",e[2])},i:e,o:e,d(e){e&&w(n)}}}function Ro(e,t,n){let{href:s=""}=t,{title:r}=t,{text:o=""}=t;return e.$$set=e=>{"href"in e&&n(0,s=e.href),"title"in e&&n(1,r=e.title),"text"in e&&n(2,o=e.text)},[s,r,o]}function Oo(e){let t,n;const s=e[3].default,r=h(s,e,e[2],null);return{c(){t=_("a"),r&&r.c(),L(t,"href",e[0]),L(t,"title",e[1])},m(e,s){k(e,t,s),r&&r.m(t,null),n=!0},p(e,[o]){r&&r.p&&(!n||4&o)&&g(r,s,e,e[2],n?f(s,e[2],o,null):m(e[2]),null),(!n||1&o)&&L(t,"href",e[0]),(!n||2&o)&&L(t,"title",e[1])},i(e){n||(se(r,e),n=!0)},o(e){re(r,e),n=!1},d(e){e&&w(t),r&&r.d(e)}}}function Co(e,t,n){let{$$slots:s={},$$scope:r}=t,{href:o=""}=t,{title:i}=t;return e.$$set=e=>{"href"in e&&n(0,o=e.href),"title"in e&&n(1,i=e.title),"$$scope"in e&&n(2,r=e.$$scope)},[o,i,r,s]}function Bo(e){let t,n;const s=e[1].default,r=h(s,e,e[0],null);return{c(){t=_("em"),r&&r.c()},m(e,s){k(e,t,s),r&&r.m(t,null),n=!0},p(e,[t]){r&&r.p&&(!n||1&t)&&g(r,s,e,e[0],n?f(s,e[0],t,null):m(e[0]),null)},i(e){n||(se(r,e),n=!0)},o(e){re(r,e),n=!1},d(e){e&&w(t),r&&r.d(e)}}}function Fo(e,t,n){let{$$slots:s={},$$scope:r}=t;return e.$$set=e=>{"$$scope"in e&&n(0,r=e.$$scope)},[r,s]}function Io(e){let t,n;const s=e[1].default,r=h(s,e,e[0],null);return{c(){t=_("del"),r&&r.c()},m(e,s){k(e,t,s),r&&r.m(t,null),n=!0},p(e,[t]){r&&r.p&&(!n||1&t)&&g(r,s,e,e[0],n?f(s,e[0],t,null):m(e[0]),null)},i(e){n||(se(r,e),n=!0)},o(e){re(r,e),n=!1},d(e){e&&w(t),r&&r.d(e)}}}function Mo(e,t,n){let{$$slots:s={},$$scope:r}=t;return e.$$set=e=>{"$$scope"in e&&n(0,r=e.$$scope)},[r,s]}function Do(t){let n,s,r=t[0].replace(/`/g,"")+"";return{c(){n=_("code"),s=$(r)},m(e,t){k(e,n,t),v(n,s)},p(e,[t]){1&t&&r!==(r=e[0].replace(/`/g,"")+"")&&A(s,r)},i:e,o:e,d(e){e&&w(n)}}}function zo(e,t,n){let{raw:s}=t;return e.$$set=e=>{"raw"in e&&n(0,s=e.raw)},[s]}function Uo(e){let t,n;const s=e[1].default,r=h(s,e,e[0],null);return{c(){t=_("strong"),r&&r.c()},m(e,s){k(e,t,s),r&&r.m(t,null),n=!0},p(e,[t]){r&&r.p&&(!n||1&t)&&g(r,s,e,e[0],n?f(s,e[0],t,null):m(e[0]),null)},i(e){n||(se(r,e),n=!0)},o(e){re(r,e),n=!1},d(e){e&&w(t),r&&r.d(e)}}}function qo(e,t,n){let{$$slots:s={},$$scope:r}=t;return e.$$set=e=>{"$$scope"in e&&n(0,r=e.$$scope)},[r,s]}function jo(e){let t,n;const s=e[1].default,r=h(s,e,e[0],null);return{c(){t=_("table"),r&&r.c()},m(e,s){k(e,t,s),r&&r.m(t,null),n=!0},p(e,[t]){r&&r.p&&(!n||1&t)&&g(r,s,e,e[0],n?f(s,e[0],t,null):m(e[0]),null)},i(e){n||(se(r,e),n=!0)},o(e){re(r,e),n=!1},d(e){e&&w(t),r&&r.d(e)}}}function Go(e,t,n){let{$$slots:s={},$$scope:r}=t;return e.$$set=e=>{"$$scope"in e&&n(0,r=e.$$scope)},[r,s]}function Vo(e){let t,n;const s=e[1].default,r=h(s,e,e[0],null);return{c(){t=_("thead"),r&&r.c()},m(e,s){k(e,t,s),r&&r.m(t,null),n=!0},p(e,[t]){r&&r.p&&(!n||1&t)&&g(r,s,e,e[0],n?f(s,e[0],t,null):m(e[0]),null)},i(e){n||(se(r,e),n=!0)},o(e){re(r,e),n=!1},d(e){e&&w(t),r&&r.d(e)}}}function Zo(e,t,n){let{$$slots:s={},$$scope:r}=t;return e.$$set=e=>{"$$scope"in e&&n(0,r=e.$$scope)},[r,s]}function Xo(e){let t,n;const s=e[1].default,r=h(s,e,e[0],null);return{c(){t=_("tbody"),r&&r.c()},m(e,s){k(e,t,s),r&&r.m(t,null),n=!0},p(e,[t]){r&&r.p&&(!n||1&t)&&g(r,s,e,e[0],n?f(s,e[0],t,null):m(e[0]),null)},i(e){n||(se(r,e),n=!0)},o(e){re(r,e),n=!1},d(e){e&&w(t),r&&r.d(e)}}}function Ko(e,t,n){let{$$slots:s={},$$scope:r}=t;return e.$$set=e=>{"$$scope"in e&&n(0,r=e.$$scope)},[r,s]}function Jo(e){let t,n;const s=e[1].default,r=h(s,e,e[0],null);return{c(){t=_("tr"),r&&r.c()},m(e,s){k(e,t,s),r&&r.m(t,null),n=!0},p(e,[t]){r&&r.p&&(!n||1&t)&&g(r,s,e,e[0],n?f(s,e[0],t,null):m(e[0]),null)},i(e){n||(se(r,e),n=!0)},o(e){re(r,e),n=!1},d(e){e&&w(t),r&&r.d(e)}}}function Yo(e,t,n){let{$$slots:s={},$$scope:r}=t;return e.$$set=e=>{"$$scope"in e&&n(0,r=e.$$scope)},[r,s]}function Qo(e){let t,n;const s=e[3].default,r=h(s,e,e[2],null);return{c(){t=_("td"),r&&r.c(),L(t,"align",e[1])},m(e,s){k(e,t,s),r&&r.m(t,null),n=!0},p(e,o){r&&r.p&&(!n||4&o)&&g(r,s,e,e[2],n?f(s,e[2],o,null):m(e[2]),null),(!n||2&o)&&L(t,"align",e[1])},i(e){n||(se(r,e),n=!0)},o(e){re(r,e),n=!1},d(e){e&&w(t),r&&r.d(e)}}}function Wo(e){let t,n;const s=e[3].default,r=h(s,e,e[2],null);return{c(){t=_("th"),r&&r.c(),L(t,"align",e[1])},m(e,s){k(e,t,s),r&&r.m(t,null),n=!0},p(e,o){r&&r.p&&(!n||4&o)&&g(r,s,e,e[2],n?f(s,e[2],o,null):m(e[2]),null),(!n||2&o)&&L(t,"align",e[1])},i(e){n||(se(r,e),n=!0)},o(e){re(r,e),n=!1},d(e){e&&w(t),r&&r.d(e)}}}function ei(e){let t,n,s,r;const o=[Wo,Qo],i=[];function a(e,t){return e[0]?0:1}return t=a(e),n=i[t]=o[t](e),{c(){n.c(),s=E()},m(e,n){i[t].m(e,n),k(e,s,n),r=!0},p(e,[r]){let l=t;t=a(e),t===l?i[t].p(e,r):(te(),re(i[l],1,1,(()=>{i[l]=null})),ne(),n=i[t],n?n.p(e,r):(n=i[t]=o[t](e),n.c()),se(n,1),n.m(s.parentNode,s))},i(e){r||(se(n),r=!0)},o(e){re(n),r=!1},d(e){i[t].d(e),e&&w(s)}}}function ti(e,t,n){let{$$slots:s={},$$scope:r}=t,{header:o}=t,{align:i}=t;return e.$$set=e=>{"header"in e&&n(0,o=e.header),"align"in e&&n(1,i=e.align),"$$scope"in e&&n(2,r=e.$$scope)},[o,i,r,s]}function ni(e){let t,n;const s=e[3].default,r=h(s,e,e[2],null);return{c(){t=_("ul"),r&&r.c()},m(e,s){k(e,t,s),r&&r.m(t,null),n=!0},p(e,t){r&&r.p&&(!n||4&t)&&g(r,s,e,e[2],n?f(s,e[2],t,null):m(e[2]),null)},i(e){n||(se(r,e),n=!0)},o(e){re(r,e),n=!1},d(e){e&&w(t),r&&r.d(e)}}}function si(e){let t,n;const s=e[3].default,r=h(s,e,e[2],null);return{c(){t=_("ol"),r&&r.c(),L(t,"start",e[1])},m(e,s){k(e,t,s),r&&r.m(t,null),n=!0},p(e,o){r&&r.p&&(!n||4&o)&&g(r,s,e,e[2],n?f(s,e[2],o,null):m(e[2]),null),(!n||2&o)&&L(t,"start",e[1])},i(e){n||(se(r,e),n=!0)},o(e){re(r,e),n=!1},d(e){e&&w(t),r&&r.d(e)}}}function ri(e){let t,n,s,r;const o=[si,ni],i=[];function a(e,t){return e[0]?0:1}return t=a(e),n=i[t]=o[t](e),{c(){n.c(),s=E()},m(e,n){i[t].m(e,n),k(e,s,n),r=!0},p(e,[r]){let l=t;t=a(e),t===l?i[t].p(e,r):(te(),re(i[l],1,1,(()=>{i[l]=null})),ne(),n=i[t],n?n.p(e,r):(n=i[t]=o[t](e),n.c()),se(n,1),n.m(s.parentNode,s))},i(e){r||(se(n),r=!0)},o(e){re(n),r=!1},d(e){i[t].d(e),e&&w(s)}}}function oi(e,t,n){let{$$slots:s={},$$scope:r}=t,{ordered:o}=t,{start:i}=t;return e.$$set=e=>{"ordered"in e&&n(0,o=e.ordered),"start"in e&&n(1,i=e.start),"$$scope"in e&&n(2,r=e.$$scope)},[o,i,r,s]}function ii(e){let t,n;const s=e[1].default,r=h(s,e,e[0],null);return{c(){t=_("li"),r&&r.c()},m(e,s){k(e,t,s),r&&r.m(t,null),n=!0},p(e,[t]){r&&r.p&&(!n||1&t)&&g(r,s,e,e[0],n?f(s,e[0],t,null):m(e[0]),null)},i(e){n||(se(r,e),n=!0)},o(e){re(r,e),n=!1},d(e){e&&w(t),r&&r.d(e)}}}function ai(e,t,n){let{$$slots:s={},$$scope:r}=t;return e.$$set=e=>{"$$scope"in e&&n(0,r=e.$$scope)},[r,s]}function li(t){let n;return{c(){n=_("hr")},m(e,t){k(e,n,t)},p:e,i:e,o:e,d(e){e&&w(n)}}}function ci(t){let n,s;return{c(){n=new C(!1),s=E(),n.a=s},m(e,r){n.m(t[0],e,r),k(e,s,r)},p(e,[t]){1&t&&n.p(e[0])},i:e,o:e,d(e){e&&w(s),e&&n.d()}}}function ui(e,t,n){let{text:s}=t;return e.$$set=e=>{"text"in e&&n(0,s=e.text)},[s]}function di(e){let t,n;const s=e[1].default,r=h(s,e,e[0],null);return{c(){t=_("blockquote"),r&&r.c()},m(e,s){k(e,t,s),r&&r.m(t,null),n=!0},p(e,[t]){r&&r.p&&(!n||1&t)&&g(r,s,e,e[0],n?f(s,e[0],t,null):m(e[0]),null)},i(e){n||(se(r,e),n=!0)},o(e){re(r,e),n=!1},d(e){e&&w(t),r&&r.d(e)}}}function hi(e,t,n){let{$$slots:s={},$$scope:r}=t;return e.$$set=e=>{"$$scope"in e&&n(0,r=e.$$scope)},[r,s]}function pi(t){let n,s,r;return{c(){n=_("pre"),s=_("code"),r=$(t[1]),L(n,"class",t[0])},m(e,t){k(e,n,t),v(n,s),v(s,r)},p(e,[t]){2&t&&A(r,e[1]),1&t&&L(n,"class",e[0])},i:e,o:e,d(e){e&&w(n)}}}function fi(e,t,n){let{lang:s}=t,{text:r}=t;return e.$$set=e=>{"lang"in e&&n(0,s=e.lang),"text"in e&&n(1,r=e.text)},[s,r]}function gi(e){let t,n;const s=e[1].default,r=h(s,e,e[0],null);return{c(){t=_("br"),r&&r.c()},m(e,s){k(e,t,s),r&&r.m(e,s),n=!0},p(e,[t]){r&&r.p&&(!n||1&t)&&g(r,s,e,e[0],n?f(s,e[0],t,null):m(e[0]),null)},i(e){n||(se(r,e),n=!0)},o(e){re(r,e),n=!1},d(e){e&&w(t),r&&r.d(e)}}}function mi(e,t,n){let{$$slots:s={},$$scope:r}=t;return e.$$set=e=>{"$$scope"in e&&n(0,r=e.$$scope)},[r,s]}const bi={heading:class extends pe{constructor(e){super(),he(this,e,So,To,i,{depth:0,raw:1,text:3})}},paragraph:class extends pe{constructor(e){super(),he(this,e,Ao,Lo,i,{})}},text:class extends pe{constructor(e){super(),he(this,e,No,Ho,i,{text:0,raw:1})}},image:class extends pe{constructor(e){super(),he(this,e,Ro,Po,i,{href:0,title:1,text:2})}},link:class extends pe{constructor(e){super(),he(this,e,Co,Oo,i,{href:0,title:1})}},em:class extends pe{constructor(e){super(),he(this,e,Fo,Bo,i,{})}},strong:class extends pe{constructor(e){super(),he(this,e,qo,Uo,i,{})}},codespan:class extends pe{constructor(e){super(),he(this,e,zo,Do,i,{raw:0})}},del:class extends pe{constructor(e){super(),he(this,e,Mo,Io,i,{})}},table:class extends pe{constructor(e){super(),he(this,e,Go,jo,i,{})}},tablehead:class extends pe{constructor(e){super(),he(this,e,Zo,Vo,i,{})}},tablebody:class extends pe{constructor(e){super(),he(this,e,Ko,Xo,i,{})}},tablerow:class extends pe{constructor(e){super(),he(this,e,Yo,Jo,i,{})}},tablecell:class extends pe{constructor(e){super(),he(this,e,ti,ei,i,{header:0,align:1})}},list:class extends pe{constructor(e){super(),he(this,e,oi,ri,i,{ordered:0,start:1})}},orderedlistitem:null,unorderedlistitem:null,listitem:class extends pe{constructor(e){super(),he(this,e,ai,ii,i,{})}},hr:class extends pe{constructor(e){super(),he(this,e,null,li,i,{})}},html:class extends pe{constructor(e){super(),he(this,e,ui,ci,i,{text:0})}},blockquote:class extends pe{constructor(e){super(),he(this,e,hi,di,i,{})}},code:class extends pe{constructor(e){super(),he(this,e,fi,pi,i,{lang:0,text:1})}},br:class extends pe{constructor(e){super(),he(this,e,mi,gi,i,{})}}},vi={baseUrl:null,breaks:!1,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,xhtml:!1};function ki(e){let t,n;return t=new Pr({props:{tokens:e[0],renderers:e[1]}}),{c(){le(t.$$.fragment)},m(e,s){ce(t,e,s),n=!0},p(e,[n]){const s={};1&n&&(s.tokens=e[0]),2&n&&(s.renderers=e[1]),t.$set(s)},i(e){n||(se(t.$$.fragment,e),n=!0)},o(e){re(t.$$.fragment,e),n=!1},d(e){ue(t,e)}}}function wi(e,t,n){let s,r,o,i,{source:a=[]}=t,{renderers:l={}}=t,{options:c={}}=t,{isInline:u=!1}=t;const d=D();let h,p,f;return function(e,t){I().$$.context.set(e,t)}(vo,{slug:e=>r?r.slug(e):"",getOptions:()=>o}),M((()=>{n(7,f=!0)})),e.$$set=e=>{"source"in e&&n(2,a=e.source),"renderers"in e&&n(3,l=e.renderers),"options"in e&&n(4,c=e.options),"isInline"in e&&n(5,u=e.isInline)},e.$$.update=()=>{4&e.$$.dirty&&n(8,s=Array.isArray(a)),4&e.$$.dirty&&(r=a?new po:void 0),16&e.$$.dirty&&n(9,o={...vi,...c}),869&e.$$.dirty&&(s?n(0,h=a):(n(6,p=new co(o)),n(0,h=u?p.inlineTokens(a):p.lex(a)),d("parsed",{tokens:h}))),8&e.$$.dirty&&n(1,i={...bi,...l}),385&e.$$.dirty&&f&&!s&&d("parsed",{tokens:h})},[h,i,a,l,c,u,p,f,s,o]}class yi extends pe{constructor(e){super(),he(this,e,wi,ki,i,{source:2,renderers:3,options:4,isInline:5})}}function _i(e,t,n){const s=e.slice();return s[160]=t[n],s}function $i(e,t,n){const s=e.slice();return s[163]=t[n],s[149]=n,s}function xi(e,t,n){const s=e.slice();return s[163]=t[n],s[149]=n,s}function Ei(e,t,n){const s=e.slice();return s[153]=t[n],s[149]=n,s}function Ti(e,t,n){const s=e.slice();return s[155]=t[n],s}function Si(e,t,n){const s=e.slice();return s[150]=t[n],s}function Li(e,t,n){const s=e.slice();return s[155]=t[n],s}function Ai(e,t,n){const s=e.slice();return s[147]=t[n],s[149]=n,s}function Hi(e,t,n){const s=e.slice();return s[166]=t[n],s[149]=n,s}function Ni(e,t,n){const s=e.slice();return s[168]=t[n],s[172]=t,s[149]=n,s}function Pi(e,t,n){const s=e.slice();return s[168]=t[n],s[171]=t,s[149]=n,s}function Ri(e,t,n){const s=e.slice();return s[168]=t[n],s[170]=t,s[149]=n,s}function Oi(e,t,n){const s=e.slice();return s[168]=t[n],s[169]=t,s[149]=n,s}function Ci(e,t,n){const s=e.slice();return s[166]=t[n],s[149]=n,s}function Bi(e){let t,n,s,r,o=e[166]+"";function i(){return e[51](e[149])}return{c(){t=_("button"),n=$(o),L(t,"class","tab svelte-qzsvuf"),O(t,"active",e[149]===e[17]),O(t,"right-bordered",e[149]<e[36].length-1)},m(e,o){k(e,t,o),v(t,n),s||(r=T(t,"click",i),s=!0)},p(n,s){e=n,131072&s[0]&&O(t,"active",e[149]===e[17])},d(e){e&&w(t),s=!1,r()}}}function Fi(e){let t;function n(e,t){return"grid"===e[5][e[17]]?Di:Mi}let s=n(e),r=s(e);return{c(){r.c(),t=E()},m(e,n){r.m(e,n),k(e,t,n)},p(e,o){s===(s=n(e))&&r?r.p(e,o):(r.d(1),r=s(e),r&&(r.c(),r.m(t.parentNode,t)))},d(e){r.d(e),e&&w(t)}}}function Ii(e){let t;function n(e,t){return"grid"===e[5][e[17]]?ha:da}let s=n(e),r=s(e);return{c(){r.c(),t=E()},m(e,n){r.m(e,n),k(e,t,n)},p(e,o){s===(s=n(e))&&r?r.p(e,o):(r.d(1),r=s(e),r&&(r.c(),r.m(t.parentNode,t)))},d(e){r.d(e),e&&w(t)}}}function Mi(e){let t,n,s,o,i,a,l,c,u,d,h,p,f,g,m,b,$,E,S,A,H;function P(e,t){return e[31]&&"id"===e[30]?Ui:zi}let R=P(e),O=R(e);function C(e,t){return e[31]&&"quote"===e[30]?ji:qi}let B=C(e),F=B(e);function I(e,t){return e[31]&&"speaker"===e[30]?Vi:Gi}let M=I(e),D=M(e),z=e[0],U=[];for(let t=0;t<z.length;t+=1)U[t]=ta(Ni(e,z,t));return{c(){t=_("div"),n=_("div"),s=_("span"),o=_("strong"),o.textContent="ID",i=x(),a=_("button"),O.c(),l=x(),c=_("span"),u=_("strong"),u.textContent="Feedback",d=x(),h=_("button"),F.c(),p=x(),f=_("span"),g=_("strong"),g.textContent="Speaker",m=x(),b=_("button"),D.c(),$=x(),E=_("span"),E.innerHTML="<strong>Actions</strong>",S=x();for(let e=0;e<U.length;e+=1)U[e].c();L(a,"class","action-button"),L(s,"class","centered row id-col svelte-qzsvuf"),N(s,"gap","0.4rem"),L(h,"class","action-button"),L(c,"class","centered row spaced feedback-col svelte-qzsvuf"),L(b,"class","action-button"),L(f,"class","centered row spaced speaker-col svelte-qzsvuf"),L(E,"id","feedback-buttons"),L(E,"class","centered row actions-col svelte-qzsvuf"),L(n,"class","feedback-header row svelte-qzsvuf"),L(t,"class","column"),N(t,"overflow-y","auto")},m(r,w){k(r,t,w),v(t,n),v(n,s),v(s,o),v(s,i),v(s,a),O.m(a,null),v(n,l),v(n,c),v(c,u),v(c,d),v(c,h),F.m(h,null),v(n,p),v(n,f),v(f,g),v(f,m),v(f,b),D.m(b,null),v(n,$),v(n,E),v(t,S);for(let e=0;e<U.length;e+=1)U[e]&&U[e].m(t,null);A||(H=[T(a,"click",e[84]),T(h,"click",e[85]),T(b,"click",e[86])],A=!0)},p(e,n){if(R!==(R=P(e))&&(O.d(1),O=R(e),O&&(O.c(),O.m(a,null))),B!==(B=C(e))&&(F.d(1),F=B(e),F&&(F.c(),F.m(h,null))),M!==(M=I(e))&&(D.d(1),D=M(e),D&&(D.c(),D.m(b,null))),362513&n[0]|4488&n[1]){let s;for(z=e[0],s=0;s<z.length;s+=1){const r=Ni(e,z,s);U[s]?U[s].p(r,n):(U[s]=ta(r),U[s].c(),U[s].m(t,null))}for(;s<U.length;s+=1)U[s].d(1);U.length=z.length}},d(e){e&&w(t),O.d(),F.d(),D.d(),y(U,e),A=!1,r(H)}}}function Di(e){let t,n=e[0],s=[];for(let t=0;t<n.length;t+=1)s[t]=ua(Pi(e,n,t));return{c(){t=_("div");for(let e=0;e<s.length;e+=1)s[e].c();L(t,"class","grid svelte-qzsvuf"),N(t,"overflow-y","auto")},m(e,n){k(e,t,n);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,null)},p(e,r){if(362513&r[0]|4480&r[1]){let o;for(n=e[0],o=0;o<n.length;o+=1){const i=Pi(e,n,o);s[o]?s[o].p(i,r):(s[o]=ua(i),s[o].c(),s[o].m(t,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=n.length}},d(e){e&&w(t),y(s,e)}}}function zi(e){let t,n;return{c(){t=_("img"),N(t,"height","1rem"),N(t,"width","1rem"),c(t.src,n="./logos/descending-sort-svgrepo-com.svg")||L(t,"src","./logos/descending-sort-svgrepo-com.svg"),L(t,"alt","Sort descending"),L(t,"class","mini-icon")},m(e,n){k(e,t,n)},d(e){e&&w(t)}}}function Ui(e){let t,n;return{c(){t=_("img"),N(t,"height","1rem"),N(t,"width","1rem"),c(t.src,n="./logos/ascending-sort-svgrepo-com.svg")||L(t,"src","./logos/ascending-sort-svgrepo-com.svg"),L(t,"alt","Sort ascending"),L(t,"class","mini-icon")},m(e,n){k(e,t,n)},d(e){e&&w(t)}}}function qi(e){let t,n;return{c(){t=_("img"),N(t,"height","1rem"),N(t,"width","1rem"),c(t.src,n="./logos/descending-sort-svgrepo-com.svg")||L(t,"src","./logos/descending-sort-svgrepo-com.svg"),L(t,"alt","Sort descending"),L(t,"class","mini-icon")},m(e,n){k(e,t,n)},d(e){e&&w(t)}}}function ji(e){let t,n;return{c(){t=_("img"),N(t,"height","1rem"),N(t,"width","1rem"),c(t.src,n="./logos/ascending-sort-svgrepo-com.svg")||L(t,"src","./logos/ascending-sort-svgrepo-com.svg"),L(t,"alt","Sort ascending"),L(t,"class","mini-icon")},m(e,n){k(e,t,n)},d(e){e&&w(t)}}}function Gi(e){let t,n;return{c(){t=_("img"),N(t,"height","1rem"),N(t,"width","1rem"),c(t.src,n="./logos/descending-sort-svgrepo-com.svg")||L(t,"src","./logos/descending-sort-svgrepo-com.svg"),L(t,"alt","Sort descending"),L(t,"class","mini-icon")},m(e,n){k(e,t,n)},d(e){e&&w(t)}}}function Vi(e){let t,n;return{c(){t=_("img"),N(t,"height","1rem"),N(t,"width","1rem"),c(t.src,n="./logos/ascending-sort-svgrepo-com.svg")||L(t,"src","./logos/ascending-sort-svgrepo-com.svg"),L(t,"alt","Sort ascending"),L(t,"class","mini-icon")},m(e,n){k(e,t,n)},d(e){e&&w(t)}}}function Zi(e){let t,n,s,o,i,a,l,u,d,h,p,f,g,m,b,y,E,S,H,N,P,R,C,B,F,I,M,D,z,U,q,j,G=e[168].id+"",V=(e[168].speaker?e[168].speaker:"Unknown")+"",Z=e[34]("Add Note")+"",X=e[34]("Delete")+"";function K(e,t){return"excerpt_reference"in e[168]?Ki:Xi}let J=K(e),Y=J(e);function Q(){return e[87](e[168])}function W(e,t){return e[168].positivised_quote&&e[168].show_paraphrased?Wi:Qi}let ee=W(e),te=ee(e);function ne(){return e[90](e[168],e[172],e[149])}function se(){return e[91](e[168])}function re(){return e[92](e[168])}function oe(){return e[93](e[168])}function ie(...t){return e[94](e[168],...t)}return{c(){t=_("div"),n=_("span"),s=_("strong"),o=$(G),i=x(),a=_("div"),l=_("span"),u=_("span"),Y.c(),d=x(),te.c(),h=x(),p=_("span"),f=$(V),g=x(),m=_("div"),b=_("button"),b.innerHTML='<img src="./logos/ai-positive-paraphrase.png" alt="Paraphrase positively" class="action-icon"/>\n                                                Positivize',y=x(),E=_("button"),E.innerHTML='<img src="./logos/select-context.svg" alt="Select feedback as context" style="height: 3.3rem; width: 3.3rem;"/>\n                                                Select Context',S=x(),H=_("button"),N=_("img"),R=x(),C=$(Z),B=x(),F=_("button"),I=_("img"),D=x(),z=$(X),U=x(),L(n,"class","id-col svelte-qzsvuf"),L(u,"class","timestamp svelte-qzsvuf"),L(l,"class",""),L(a,"class","column feedback-col svelte-qzsvuf"),L(p,"class","centered speaker-col svelte-qzsvuf"),L(b,"class","action-button"),L(E,"class","action-button centered column"),c(N.src,P="./logos/note-svgrepo-com.svg")||L(N,"src","./logos/note-svgrepo-com.svg"),L(N,"alt","Remove feedback"),L(N,"class","action-icon"),L(H,"class","action-button"),c(I.src,M="./logos/delete-svgrepo-com.svg")||L(I,"src","./logos/delete-svgrepo-com.svg"),L(I,"alt","Remove feedback"),L(I,"class","action-icon"),L(F,"class","action-button"),L(m,"id","feedback-buttons"),L(m,"class","row centered spaced actions-col svelte-qzsvuf"),L(t,"class","feedback-row row bordered padded svelte-qzsvuf"),O(t,"done",e[168].done),O(t,"selected",e[168]===e[15])},m(e,r){k(e,t,r),v(t,n),v(n,s),v(s,o),v(t,i),v(t,a),v(a,l),v(l,u),Y.m(u,null),v(l,d),te.m(l,null),v(t,h),v(t,p),v(p,f),v(t,g),v(t,m),v(m,b),v(m,y),v(m,E),v(m,S),v(m,H),v(H,N),v(H,R),v(H,C),v(m,B),v(m,F),v(F,I),v(F,D),v(F,z),v(t,U),q||(j=[T(u,"click",Q),T(b,"click",ne),T(E,"click",se),T(H,"click",re),T(F,"click",oe),T(t,"click",ie)],q=!0)},p(n,s){e=n,1&s[0]&&G!==(G=e[168].id+"")&&A(o,G),J===(J=K(e))&&Y?Y.p(e,s):(Y.d(1),Y=J(e),Y&&(Y.c(),Y.m(u,null))),ee===(ee=W(e))&&te?te.p(e,s):(te.d(1),te=ee(e),te&&(te.c(),te.m(l,null))),1&s[0]&&V!==(V=(e[168].speaker?e[168].speaker:"Unknown")+"")&&A(f,V),8&s[1]&&Z!==(Z=e[34]("Add Note")+"")&&A(C,Z),8&s[1]&&X!==(X=e[34]("Delete")+"")&&A(z,X),1&s[0]&&O(t,"done",e[168].done),32769&s[0]&&O(t,"selected",e[168]===e[15])},d(e){e&&w(t),Y.d(),te.d(),q=!1,r(j)}}}function Xi(t){let n;return{c(){n=$("[00:00:00]")},m(e,t){k(e,n,t)},p:e,d(e){e&&w(n)}}}function Ki(e){let t;function n(e,t){return"start_timestamp"in e[168].excerpt_reference?Yi:Ji}let s=n(e),r=s(e);return{c(){r.c(),t=E()},m(e,n){r.m(e,n),k(e,t,n)},p(e,o){s===(s=n(e))&&r?r.p(e,o):(r.d(1),r=s(e),r&&(r.c(),r.m(t.parentNode,t)))},d(e){r.d(e),e&&w(t)}}}function Ji(t){let n;return{c(){n=$("[00:00:00]")},m(e,t){k(e,n,t)},p:e,d(e){e&&w(n)}}}function Yi(e){let t,n,s,r=e[168].excerpt_reference.start_timestamp+"";return{c(){t=$("["),n=$(r),s=$("]")},m(e,r){k(e,t,r),k(e,n,r),k(e,s,r)},p(e,t){1&t[0]&&r!==(r=e[168].excerpt_reference.start_timestamp+"")&&A(n,r)},d(e){e&&w(t),e&&w(n),e&&w(s)}}}function Qi(e){let t,n,s,r,o=e[168].quote+"",i=e[168].positivised_quote&&!e[168].show_paraphrased&&ea(e);return{c(){t=$('"'),n=$(o),s=$('" '),i&&i.c(),r=E()},m(e,o){k(e,t,o),k(e,n,o),k(e,s,o),i&&i.m(e,o),k(e,r,o)},p(e,t){1&t[0]&&o!==(o=e[168].quote+"")&&A(n,o),e[168].positivised_quote&&!e[168].show_paraphrased?i?i.p(e,t):(i=ea(e),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},d(e){e&&w(t),e&&w(n),e&&w(s),i&&i.d(e),e&&w(r)}}}function Wi(e){let t,n,s,r,o,i,a,l=e[168].positivised_quote+"";function c(){return e[88](e[168])}return{c(){t=_("strong"),t.textContent="(Paraphrased Feedback)",n=$(' "'),s=$(l),r=$('" \n                                                    '),o=_("span"),o.textContent="(View original quote)",L(o,"class","clickable svelte-qzsvuf")},m(e,l){k(e,t,l),k(e,n,l),k(e,s,l),k(e,r,l),k(e,o,l),i||(a=T(o,"click",c),i=!0)},p(t,n){e=t,1&n[0]&&l!==(l=e[168].positivised_quote+"")&&A(s,l)},d(e){e&&w(t),e&&w(n),e&&w(s),e&&w(r),e&&w(o),i=!1,a()}}}function ea(e){let t,n,s;function r(){return e[89](e[168])}return{c(){t=_("span"),t.textContent="(View paraphrased quote)",L(t,"class","clickable svelte-qzsvuf")},m(e,o){k(e,t,o),n||(s=T(t,"click",r),n=!0)},p(t,n){e=t},d(e){e&&w(t),n=!1,s()}}}function ta(e){let t,n="positive"===e[168].type&&Zi(e);return{c(){n&&n.c(),t=E()},m(e,s){n&&n.m(e,s),k(e,t,s)},p(e,s){"positive"===e[168].type?n?n.p(e,s):(n=Zi(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&w(t)}}}function na(e){let t,n,s,o,i,a,l,c,u,d,h,p,f,g,m,b,y,E,S,H,N,P,R,C,B,F,I,M,D,z=e[168].id+"",U=e[168].speaker+"";function q(e,t){return"excerpt_reference"in e[168]?ra:sa}let j=q(e),G=j(e);function V(){return e[76](e[168])}function Z(){return e[77](e[168],e[171],e[149])}function X(){return e[78](e[168])}function K(){return e[79](e[168])}function J(){return e[80](e[168])}function Y(e,t){return e[168].positivised_quote&&e[168].show_paraphrased?la:aa}let Q=Y(e),W=Q(e);function ee(...t){return e[83](e[168],...t)}return{c(){t=_("div"),n=_("div"),s=_("small"),G.c(),o=x(),i=_("div"),a=_("button"),a.innerHTML='<img src="./logos/ai-positive-paraphrase.png" alt="Paraphrase positively" class="mini-icon"/>',l=x(),c=_("button"),c.innerHTML='<img src="./logos/select-context.svg" alt="Select feedback as context" style="height: 2.3rem; width: 2.3rem;"/>',u=x(),d=_("button"),d.innerHTML='<img src="./logos/note-svgrepo-com.svg" alt="Add note" class="mini-icon"/>',h=x(),p=_("button"),p.innerHTML='<img src="./logos/delete-svgrepo-com.svg" alt="Paraphrase positively" style="height: 2rem; width: 2rem;"/>',f=x(),g=_("br"),m=x(),b=_("strong"),y=$("F#"),E=$(z),S=$(":"),H=x(),W.c(),N=x(),P=_("br"),R=x(),C=_("span"),B=$("- "),F=$(U),I=x(),L(s,"class","timestamp svelte-qzsvuf"),L(a,"class","action-button"),L(c,"class","action-button"),L(d,"class","action-button"),L(p,"class","action-button"),L(i,"class","row spaced"),L(n,"class","note-header row space-between"),L(t,"class","positive-feedback-note svelte-qzsvuf"),O(t,"selected",e[168]===e[15])},m(e,r){k(e,t,r),v(t,n),v(n,s),G.m(s,null),v(n,o),v(n,i),v(i,a),v(i,l),v(i,c),v(i,u),v(i,d),v(i,h),v(i,p),v(t,f),v(t,g),v(t,m),v(t,b),v(b,y),v(b,E),v(b,S),v(t,H),W.m(t,null),v(t,N),v(t,P),v(t,R),v(t,C),v(C,B),v(C,F),v(t,I),M||(D=[T(s,"click",V),T(a,"click",Z),T(c,"click",X),T(d,"click",K),T(p,"click",J),T(t,"click",ee)],M=!0)},p(n,r){j===(j=q(e=n))&&G?G.p(e,r):(G.d(1),G=j(e),G&&(G.c(),G.m(s,null))),1&r[0]&&z!==(z=e[168].id+"")&&A(E,z),Q===(Q=Y(e))&&W?W.p(e,r):(W.d(1),W=Q(e),W&&(W.c(),W.m(t,N))),1&r[0]&&U!==(U=e[168].speaker+"")&&A(F,U),32769&r[0]&&O(t,"selected",e[168]===e[15])},d(e){e&&w(t),G.d(),W.d(),M=!1,r(D)}}}function sa(t){let n;return{c(){n=$("[00:00:00]")},m(e,t){k(e,n,t)},p:e,d(e){e&&w(n)}}}function ra(e){let t;function n(e,t){return"start_timestamp"in e[168].excerpt_reference?ia:oa}let s=n(e),r=s(e);return{c(){r.c(),t=E()},m(e,n){r.m(e,n),k(e,t,n)},p(e,o){s===(s=n(e))&&r?r.p(e,o):(r.d(1),r=s(e),r&&(r.c(),r.m(t.parentNode,t)))},d(e){r.d(e),e&&w(t)}}}function oa(t){let n;return{c(){n=$("[00:00:00]")},m(e,t){k(e,n,t)},p:e,d(e){e&&w(n)}}}function ia(e){let t,n,s,r=e[168].excerpt_reference.start_timestamp+"";return{c(){t=$("["),n=$(r),s=$("]")},m(e,r){k(e,t,r),k(e,n,r),k(e,s,r)},p(e,t){1&t[0]&&r!==(r=e[168].excerpt_reference.start_timestamp+"")&&A(n,r)},d(e){e&&w(t),e&&w(n),e&&w(s)}}}function aa(e){let t,n,s,r,o=e[168].quote+"",i=e[168].positivised_quote&&!e[168].show_paraphrased&&ca(e);return{c(){t=$('"'),n=$(o),s=$('" '),i&&i.c(),r=E()},m(e,o){k(e,t,o),k(e,n,o),k(e,s,o),i&&i.m(e,o),k(e,r,o)},p(e,t){1&t[0]&&o!==(o=e[168].quote+"")&&A(n,o),e[168].positivised_quote&&!e[168].show_paraphrased?i?i.p(e,t):(i=ca(e),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},d(e){e&&w(t),e&&w(n),e&&w(s),i&&i.d(e),e&&w(r)}}}function la(e){let t,n,s,r,o,i,a,l=e[168].positivised_quote+"";function c(){return e[81](e[168])}return{c(){t=_("strong"),t.textContent="(Paraphrased Feedback)",n=$(' "'),s=$(l),r=$('" \n                                            '),o=_("span"),o.textContent="(View original quote)",L(o,"class","clickable svelte-qzsvuf")},m(e,l){k(e,t,l),k(e,n,l),k(e,s,l),k(e,r,l),k(e,o,l),i||(a=T(o,"click",c),i=!0)},p(t,n){e=t,1&n[0]&&l!==(l=e[168].positivised_quote+"")&&A(s,l)},d(e){e&&w(t),e&&w(n),e&&w(s),e&&w(r),e&&w(o),i=!1,a()}}}function ca(e){let t,n,s;function r(){return e[82](e[168])}return{c(){t=_("span"),t.textContent="(View paraphrased quote)",L(t,"class","clickable svelte-qzsvuf")},m(e,o){k(e,t,o),n||(s=T(t,"click",r),n=!0)},p(t,n){e=t},d(e){e&&w(t),n=!1,s()}}}function ua(e){let t,n="positive"===e[168].type&&na(e);return{c(){n&&n.c(),t=E()},m(e,s){n&&n.m(e,s),k(e,t,s)},p(e,s){"positive"===e[168].type?n?n.p(e,s):(n=na(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&w(t)}}}function da(e){let t,n,s,o,i,a,l,u,d,h,p,f,g,m,b,E,S,H,P,R,O,C,B,F,I,M,D,z,U,q,j,G,V,Z,X,K=e[34]("ID")+"",J=e[34]("Feedback")+"",Y=e[34]("Speaker")+"",Q=e[34]("Actions")+"",W=e[34]("Done?")+"";function ee(e,t){return e[31]&&"id"===e[30]?fa:pa}let te=ee(e),ne=te(e);function se(e,t){return e[31]&&"quote"===e[30]?ma:ga}let re=se(e),oe=re(e);function ie(e,t){return e[31]&&"speaker"===e[30]?va:ba}let ae=ie(e),le=ae(e),ce=e[0],ue=[];for(let t=0;t<ce.length;t+=1)ue[t]=Sa(Ri(e,ce,t));return{c(){t=_("div"),n=_("div"),s=_("span"),o=_("strong"),i=$(K),a=x(),l=_("button"),ne.c(),u=x(),d=_("span"),h=_("strong"),p=$(J),f=x(),g=_("button"),oe.c(),m=x(),b=_("span"),E=_("strong"),S=$(Y),H=x(),P=_("button"),le.c(),R=x(),O=_("span"),C=_("strong"),B=$(Q),F=x(),I=_("span"),M=_("strong"),D=$(W),z=x(),U=_("button"),q=_("img"),V=x();for(let e=0;e<ue.length;e+=1)ue[e].c();L(l,"class","action-button"),L(s,"class","centered row id-col svelte-qzsvuf"),N(s,"gap","0.4rem"),L(g,"class","action-button"),L(d,"class","centered row spaced feedback-col svelte-qzsvuf"),L(P,"class","action-button"),L(b,"class","centered row spaced speaker-col svelte-qzsvuf"),L(O,"id","feedback-buttons"),L(O,"class","centered row actions-col svelte-qzsvuf"),N(q,"height","1rem"),N(q,"width","1rem"),c(q.src,j=e[31]&&"done"===e[30]?"./logos/ascending-sort-svgrepo-com.svg":"./logos/descending-sort-svgrepo-com.svg")||L(q,"src",j),L(q,"alt",G=e[31]&&"done"===e[30]?"Sort ascending":"Sort descending"),L(q,"class","mini-icon"),L(U,"class","action-button"),L(I,"class","centered row spaced done-col svelte-qzsvuf"),L(n,"class","feedback-header row svelte-qzsvuf"),L(t,"class","column"),N(t,"overflow-y","auto")},m(r,c){k(r,t,c),v(t,n),v(n,s),v(s,o),v(o,i),v(s,a),v(s,l),ne.m(l,null),v(n,u),v(n,d),v(d,h),v(h,p),v(d,f),v(d,g),oe.m(g,null),v(n,m),v(n,b),v(b,E),v(E,S),v(b,H),v(b,P),le.m(P,null),v(n,R),v(n,O),v(O,C),v(C,B),v(n,F),v(n,I),v(I,M),v(M,D),v(I,z),v(I,U),v(U,q),v(t,V);for(let e=0;e<ue.length;e+=1)ue[e]&&ue[e].m(t,null);Z||(X=[T(l,"click",e[63]),T(g,"click",e[64]),T(P,"click",e[65]),T(U,"click",e[66])],Z=!0)},p(e,n){if(8&n[1]&&K!==(K=e[34]("ID")+"")&&A(i,K),te!==(te=ee(e))&&(ne.d(1),ne=te(e),ne&&(ne.c(),ne.m(l,null))),8&n[1]&&J!==(J=e[34]("Feedback")+"")&&A(p,J),re!==(re=se(e))&&(oe.d(1),oe=re(e),oe&&(oe.c(),oe.m(g,null))),8&n[1]&&Y!==(Y=e[34]("Speaker")+"")&&A(S,Y),ae!==(ae=ie(e))&&(le.d(1),le=ae(e),le&&(le.c(),le.m(P,null))),8&n[1]&&Q!==(Q=e[34]("Actions")+"")&&A(B,Q),8&n[1]&&W!==(W=e[34]("Done?")+"")&&A(D,W),1073741824&n[0]|1&n[1]&&!c(q.src,j=e[31]&&"done"===e[30]?"./logos/ascending-sort-svgrepo-com.svg":"./logos/descending-sort-svgrepo-com.svg")&&L(q,"src",j),1073741824&n[0]|1&n[1]&&G!==(G=e[31]&&"done"===e[30]?"Sort ascending":"Sort descending")&&L(q,"alt",G),362513&n[0]|4488&n[1]){let s;for(ce=e[0],s=0;s<ce.length;s+=1){const r=Ri(e,ce,s);ue[s]?ue[s].p(r,n):(ue[s]=Sa(r),ue[s].c(),ue[s].m(t,null))}for(;s<ue.length;s+=1)ue[s].d(1);ue.length=ce.length}},d(e){e&&w(t),ne.d(),oe.d(),le.d(),y(ue,e),Z=!1,r(X)}}}function ha(e){let t,n=e[0],s=[];for(let t=0;t<n.length;t+=1)s[t]=Ba(Oi(e,n,t));return{c(){t=_("div");for(let e=0;e<s.length;e+=1)s[e].c();L(t,"class","grid svelte-qzsvuf"),N(t,"overflow-y","auto")},m(e,n){k(e,t,n);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,null)},p(e,r){if(362513&r[0]|4480&r[1]){let o;for(n=e[0],o=0;o<n.length;o+=1){const i=Oi(e,n,o);s[o]?s[o].p(i,r):(s[o]=Ba(i),s[o].c(),s[o].m(t,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=n.length}},d(e){e&&w(t),y(s,e)}}}function pa(e){let t,n;return{c(){t=_("img"),N(t,"height","1rem"),N(t,"width","1rem"),c(t.src,n="./logos/descending-sort-svgrepo-com.svg")||L(t,"src","./logos/descending-sort-svgrepo-com.svg"),L(t,"alt","Sort descending"),L(t,"class","mini-icon")},m(e,n){k(e,t,n)},d(e){e&&w(t)}}}function fa(e){let t,n;return{c(){t=_("img"),N(t,"height","1rem"),N(t,"width","1rem"),c(t.src,n="./logos/ascending-sort-svgrepo-com.svg")||L(t,"src","./logos/ascending-sort-svgrepo-com.svg"),L(t,"alt","Sort ascending"),L(t,"class","mini-icon")},m(e,n){k(e,t,n)},d(e){e&&w(t)}}}function ga(e){let t,n;return{c(){t=_("img"),N(t,"height","1rem"),N(t,"width","1rem"),c(t.src,n="./logos/descending-sort-svgrepo-com.svg")||L(t,"src","./logos/descending-sort-svgrepo-com.svg"),L(t,"alt","Sort descending"),L(t,"class","mini-icon")},m(e,n){k(e,t,n)},d(e){e&&w(t)}}}function ma(e){let t,n;return{c(){t=_("img"),N(t,"height","1rem"),N(t,"width","1rem"),c(t.src,n="./logos/ascending-sort-svgrepo-com.svg")||L(t,"src","./logos/ascending-sort-svgrepo-com.svg"),L(t,"alt","Sort ascending"),L(t,"class","mini-icon")},m(e,n){k(e,t,n)},d(e){e&&w(t)}}}function ba(e){let t,n;return{c(){t=_("img"),N(t,"height","1rem"),N(t,"width","1rem"),c(t.src,n="./logos/descending-sort-svgrepo-com.svg")||L(t,"src","./logos/descending-sort-svgrepo-com.svg"),L(t,"alt","Sort descending"),L(t,"class","mini-icon")},m(e,n){k(e,t,n)},d(e){e&&w(t)}}}function va(e){let t,n;return{c(){t=_("img"),N(t,"height","1rem"),N(t,"width","1rem"),c(t.src,n="./logos/ascending-sort-svgrepo-com.svg")||L(t,"src","./logos/ascending-sort-svgrepo-com.svg"),L(t,"alt","Sort ascending"),L(t,"class","mini-icon")},m(e,n){k(e,t,n)},d(e){e&&w(t)}}}function ka(e){let t,n,s,o,i,a,l,u,d,h,p,f,g,m,b,y,E,S,H,P,R,C,B,F,I,M,D,z,U,q,j,G,V,Z,X,K,J,Y,Q,W,ee,te,ne,se=e[168].id+"",re=(e[168].speaker?e[168].speaker:"Unknown")+"",oe=e[34]("Positivize")+"",ie=e[34]("Select Context")+"",ae=e[34]("Add Note")+"",le=e[34]("Delete")+"";function ce(e,t){return"excerpt_reference"in e[168]?ya:wa}let ue=ce(e),de=ue(e);function he(){return e[67](e[168])}function pe(e,t){return e[168].positivised_quote&&e[168].show_paraphrased?Ea:xa}let fe=pe(e),ge=fe(e);function me(){return e[70](e[168],e[170],e[149])}function be(){return e[71](e[168])}function ve(){return e[72](e[168])}function ke(){return e[73](e[168])}function we(){e[74].call(W,e[170],e[149])}function ye(...t){return e[75](e[168],...t)}return{c(){t=_("div"),n=_("span"),s=_("strong"),o=$(se),i=x(),a=_("div"),l=_("span"),u=_("span"),de.c(),d=x(),ge.c(),h=x(),p=_("span"),f=$(re),g=x(),m=_("div"),b=_("button"),y=_("img"),S=x(),H=$(oe),P=x(),R=_("button"),C=_("img"),F=x(),I=$(ie),M=x(),D=_("button"),z=_("img"),q=x(),j=$(ae),G=x(),V=_("button"),Z=_("img"),K=x(),J=$(le),Y=x(),Q=_("span"),W=_("input"),ee=x(),L(n,"class","id-col svelte-qzsvuf"),L(u,"class","timestamp svelte-qzsvuf"),L(l,"class",""),L(a,"class","column feedback-col svelte-qzsvuf"),L(p,"class","centered speaker-col svelte-qzsvuf"),c(y.src,E="./logos/ai-positive-paraphrase.png")||L(y,"src","./logos/ai-positive-paraphrase.png"),L(y,"alt","Paraphrase positively"),L(y,"class","action-icon"),L(b,"class","action-button"),c(C.src,B="./logos/select-context.svg")||L(C,"src","./logos/select-context.svg"),L(C,"alt","Select feedback as context"),N(C,"height","3.3rem"),N(C,"width","3.3rem"),L(R,"class","action-button centered column"),c(z.src,U="./logos/note-svgrepo-com.svg")||L(z,"src","./logos/note-svgrepo-com.svg"),L(z,"alt","Remove feedback"),L(z,"class","action-icon"),L(D,"class","action-button"),c(Z.src,X="./logos/delete-svgrepo-com.svg")||L(Z,"src","./logos/delete-svgrepo-com.svg"),L(Z,"alt","Remove feedback"),L(Z,"class","action-icon"),L(V,"class","action-button"),L(m,"id","feedback-buttons"),L(m,"class","row centered spaced actions-col svelte-qzsvuf"),L(W,"type","checkbox"),L(Q,"class","centered done-col svelte-qzsvuf"),L(t,"class","feedback-row row bordered padded svelte-qzsvuf"),O(t,"done",e[168].done),O(t,"selected",e[168]===e[15])},m(r,c){k(r,t,c),v(t,n),v(n,s),v(s,o),v(t,i),v(t,a),v(a,l),v(l,u),de.m(u,null),v(l,d),ge.m(l,null),v(t,h),v(t,p),v(p,f),v(t,g),v(t,m),v(m,b),v(b,y),v(b,S),v(b,H),v(m,P),v(m,R),v(R,C),v(R,F),v(R,I),v(m,M),v(m,D),v(D,z),v(D,q),v(D,j),v(m,G),v(m,V),v(V,Z),v(V,K),v(V,J),v(t,Y),v(t,Q),v(Q,W),W.checked=e[168].done,v(t,ee),te||(ne=[T(u,"click",he),T(b,"click",me),T(R,"click",be),T(D,"click",ve),T(V,"click",ke),T(W,"change",we),T(t,"click",ye)],te=!0)},p(n,s){e=n,1&s[0]&&se!==(se=e[168].id+"")&&A(o,se),ue===(ue=ce(e))&&de?de.p(e,s):(de.d(1),de=ue(e),de&&(de.c(),de.m(u,null))),fe===(fe=pe(e))&&ge?ge.p(e,s):(ge.d(1),ge=fe(e),ge&&(ge.c(),ge.m(l,null))),1&s[0]&&re!==(re=(e[168].speaker?e[168].speaker:"Unknown")+"")&&A(f,re),8&s[1]&&oe!==(oe=e[34]("Positivize")+"")&&A(H,oe),8&s[1]&&ie!==(ie=e[34]("Select Context")+"")&&A(I,ie),8&s[1]&&ae!==(ae=e[34]("Add Note")+"")&&A(j,ae),8&s[1]&&le!==(le=e[34]("Delete")+"")&&A(J,le),1&s[0]&&(W.checked=e[168].done),1&s[0]&&O(t,"done",e[168].done),32769&s[0]&&O(t,"selected",e[168]===e[15])},d(e){e&&w(t),de.d(),ge.d(),te=!1,r(ne)}}}function wa(t){let n;return{c(){n=$("[00:00:00]")},m(e,t){k(e,n,t)},p:e,d(e){e&&w(n)}}}function ya(e){let t;function n(e,t){return"start_timestamp"in e[168].excerpt_reference?$a:_a}let s=n(e),r=s(e);return{c(){r.c(),t=E()},m(e,n){r.m(e,n),k(e,t,n)},p(e,o){s===(s=n(e))&&r?r.p(e,o):(r.d(1),r=s(e),r&&(r.c(),r.m(t.parentNode,t)))},d(e){r.d(e),e&&w(t)}}}function _a(t){let n;return{c(){n=$("[00:00:00]")},m(e,t){k(e,n,t)},p:e,d(e){e&&w(n)}}}function $a(e){let t,n,s,r=e[168].excerpt_reference.start_timestamp+"";return{c(){t=$("["),n=$(r),s=$("]")},m(e,r){k(e,t,r),k(e,n,r),k(e,s,r)},p(e,t){1&t[0]&&r!==(r=e[168].excerpt_reference.start_timestamp+"")&&A(n,r)},d(e){e&&w(t),e&&w(n),e&&w(s)}}}function xa(e){let t,n,s,r,o=e[168].quote+"",i=e[168].positivised_quote&&!e[168].show_paraphrased&&Ta(e);return{c(){t=$('"'),n=$(o),s=$('" '),i&&i.c(),r=E()},m(e,o){k(e,t,o),k(e,n,o),k(e,s,o),i&&i.m(e,o),k(e,r,o)},p(e,t){1&t[0]&&o!==(o=e[168].quote+"")&&A(n,o),e[168].positivised_quote&&!e[168].show_paraphrased?i?i.p(e,t):(i=Ta(e),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},d(e){e&&w(t),e&&w(n),e&&w(s),i&&i.d(e),e&&w(r)}}}function Ea(e){let t,n,s,r,o,i,a,l=e[168].positivised_quote+"";function c(){return e[68](e[168])}return{c(){t=_("strong"),t.textContent="(Paraphrased Feedback)",n=$(' "'),s=$(l),r=$('" \n                                                    '),o=_("span"),o.textContent="(View original quote)",L(o,"class","clickable svelte-qzsvuf")},m(e,l){k(e,t,l),k(e,n,l),k(e,s,l),k(e,r,l),k(e,o,l),i||(a=T(o,"click",c),i=!0)},p(t,n){e=t,1&n[0]&&l!==(l=e[168].positivised_quote+"")&&A(s,l)},d(e){e&&w(t),e&&w(n),e&&w(s),e&&w(r),e&&w(o),i=!1,a()}}}function Ta(e){let t,n,s;function r(){return e[69](e[168])}return{c(){t=_("span"),t.textContent="(View paraphrased quote)",L(t,"class","clickable svelte-qzsvuf")},m(e,o){k(e,t,o),n||(s=T(t,"click",r),n=!0)},p(t,n){e=t},d(e){e&&w(t),n=!1,s()}}}function Sa(e){let t,n="critical"===e[168].type&&ka(e);return{c(){n&&n.c(),t=E()},m(e,s){n&&n.m(e,s),k(e,t,s)},p(e,s){"critical"===e[168].type?n?n.p(e,s):(n=ka(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&w(t)}}}function La(e){let t,n,s,o,i,a,l,c,u,d,h,p,f,g,m,b,y,E,S,H,N,P,R,C,B,F,I,M,D,z,U,q,j=e[168].id+"",G=e[168].speaker+"";function V(e,t){return"excerpt_reference"in e[168]?Ha:Aa}let Z=V(e),X=Z(e);function K(){return e[54](e[168])}function J(){return e[55](e[168],e[169],e[149])}function Y(){return e[56](e[168])}function Q(){return e[57](e[168])}function W(){return e[58](e[168])}function ee(){e[59].call(m,e[169],e[149])}function te(e,t){return e[168].positivised_quote&&e[168].show_paraphrased?Oa:Ra}let ne=te(e),se=ne(e);function re(...t){return e[62](e[168],...t)}return{c(){t=_("div"),n=_("div"),s=_("small"),X.c(),o=x(),i=_("div"),a=_("button"),a.innerHTML='<img src="./logos/ai-positive-paraphrase.png" alt="Paraphrase positively" class="mini-icon"/>',l=x(),c=_("button"),c.innerHTML='<img src="./logos/select-context.svg" alt="Select feedback as context" style="height: 2.3rem; width: 2.3rem;"/>',u=x(),d=_("button"),d.innerHTML='<img src="./logos/note-svgrepo-com.svg" alt="Add note" class="mini-icon"/>',h=x(),p=_("button"),p.innerHTML='<img src="./logos/delete-svgrepo-com.svg" alt="Remove critical feedback" style="height: 2rem; width: 2rem;"/>',f=x(),g=_("span"),m=_("input"),b=x(),y=_("br"),E=x(),S=_("strong"),H=$("F#"),N=$(j),P=$(":"),R=x(),se.c(),C=x(),B=_("br"),F=x(),I=_("span"),M=$("- "),D=$(G),z=x(),L(s,"class","timestamp svelte-qzsvuf"),L(a,"class","action-button"),L(c,"class","action-button"),L(d,"class","action-button"),L(p,"class","action-button"),L(m,"type","checkbox"),L(g,"class","centered"),L(i,"class","row spaced"),L(n,"class","note-header row space-between"),L(t,"class","critical-feedback-note svelte-qzsvuf"),O(t,"done",e[168].done),O(t,"selected",e[168]===e[15])},m(r,w){k(r,t,w),v(t,n),v(n,s),X.m(s,null),v(n,o),v(n,i),v(i,a),v(i,l),v(i,c),v(i,u),v(i,d),v(i,h),v(i,p),v(i,f),v(i,g),v(g,m),m.checked=e[168].done,v(t,b),v(t,y),v(t,E),v(t,S),v(S,H),v(S,N),v(S,P),v(t,R),se.m(t,null),v(t,C),v(t,B),v(t,F),v(t,I),v(I,M),v(I,D),v(t,z),U||(q=[T(s,"click",K),T(a,"click",J),T(c,"click",Y),T(d,"click",Q),T(p,"click",W),T(m,"change",ee),T(t,"click",re)],U=!0)},p(n,r){Z===(Z=V(e=n))&&X?X.p(e,r):(X.d(1),X=Z(e),X&&(X.c(),X.m(s,null))),1&r[0]&&(m.checked=e[168].done),1&r[0]&&j!==(j=e[168].id+"")&&A(N,j),ne===(ne=te(e))&&se?se.p(e,r):(se.d(1),se=ne(e),se&&(se.c(),se.m(t,C))),1&r[0]&&G!==(G=e[168].speaker+"")&&A(D,G),1&r[0]&&O(t,"done",e[168].done),32769&r[0]&&O(t,"selected",e[168]===e[15])},d(e){e&&w(t),X.d(),se.d(),U=!1,r(q)}}}function Aa(t){let n;return{c(){n=$("[00:00:00]")},m(e,t){k(e,n,t)},p:e,d(e){e&&w(n)}}}function Ha(e){let t;function n(e,t){return"start_timestamp"in e[168].excerpt_reference?Pa:Na}let s=n(e),r=s(e);return{c(){r.c(),t=E()},m(e,n){r.m(e,n),k(e,t,n)},p(e,o){s===(s=n(e))&&r?r.p(e,o):(r.d(1),r=s(e),r&&(r.c(),r.m(t.parentNode,t)))},d(e){r.d(e),e&&w(t)}}}function Na(t){let n;return{c(){n=$("[00:00:00]")},m(e,t){k(e,n,t)},p:e,d(e){e&&w(n)}}}function Pa(e){let t,n,s,r=e[168].excerpt_reference.start_timestamp+"";return{c(){t=$("["),n=$(r),s=$("]")},m(e,r){k(e,t,r),k(e,n,r),k(e,s,r)},p(e,t){1&t[0]&&r!==(r=e[168].excerpt_reference.start_timestamp+"")&&A(n,r)},d(e){e&&w(t),e&&w(n),e&&w(s)}}}function Ra(e){let t,n,s,r,o=e[168].quote+"",i=e[168].positivised_quote&&!e[168].show_paraphrased&&Ca(e);return{c(){t=$('"'),n=$(o),s=$('" '),i&&i.c(),r=E()},m(e,o){k(e,t,o),k(e,n,o),k(e,s,o),i&&i.m(e,o),k(e,r,o)},p(e,t){1&t[0]&&o!==(o=e[168].quote+"")&&A(n,o),e[168].positivised_quote&&!e[168].show_paraphrased?i?i.p(e,t):(i=Ca(e),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},d(e){e&&w(t),e&&w(n),e&&w(s),i&&i.d(e),e&&w(r)}}}function Oa(e){let t,n,s,r,o,i,a,l=e[168].positivised_quote+"";function c(){return e[60](e[168])}return{c(){t=_("strong"),t.textContent="(Paraphrased Feedback)",n=$(' "'),s=$(l),r=$('" \n                                            '),o=_("span"),o.textContent="(View original quote)",L(o,"class","clickable svelte-qzsvuf")},m(e,l){k(e,t,l),k(e,n,l),k(e,s,l),k(e,r,l),k(e,o,l),i||(a=T(o,"click",c),i=!0)},p(t,n){e=t,1&n[0]&&l!==(l=e[168].positivised_quote+"")&&A(s,l)},d(e){e&&w(t),e&&w(n),e&&w(s),e&&w(r),e&&w(o),i=!1,a()}}}function Ca(e){let t,n,s;function r(){return e[61](e[168])}return{c(){t=_("span"),t.textContent="(View paraphrased quote)",L(t,"class","clickable svelte-qzsvuf")},m(e,o){k(e,t,o),n||(s=T(t,"click",r),n=!0)},p(t,n){e=t},d(e){e&&w(t),n=!1,s()}}}function Ba(e){let t,n="critical"===e[168].type&&La(e);return{c(){n&&n.c(),t=E()},m(e,s){n&&n.m(e,s),k(e,t,s)},p(e,s){"critical"===e[168].type?n?n.p(e,s):(n=La(e),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(e){n&&n.d(e),e&&w(t)}}}function Fa(e){let t,n,s,r,o=e[166]+"";function i(){return e[95](e[149])}return{c(){t=_("button"),n=$(o),L(t,"class","tab svelte-qzsvuf"),O(t,"active",e[149]===e[16]),O(t,"right-bordered",e[149]<e[37].length-1)},m(e,o){k(e,t,o),v(t,n),s||(r=T(t,"click",i),s=!0)},p(n,s){e=n,65536&s[0]&&O(t,"active",e[149]===e[16])},d(e){e&&w(t),s=!1,r()}}}function Ia(e){let t,n,s,o,i,a,l,u,d,h,p,f,g,m,b,y,E,S,H,P,R,C,B,F,I,M,D,z,U,q,j,G,V,Z=e[34]("My Notes")+"",X=e[34]("Add Note")+"",K=e[34]("Delete all")+"";const J=[Ua,za],Y=[];function Q(e,t){return e[3].length>0?0:1}d=Q(e),h=Y[d]=J[d](e);let W=e[32]&&ja(e);const ee=[Va,Ga],oe=[];function ie(e,t){return 16&t[0]&&(z=null),null==z&&(z=!!(Object.keys(e[4]).length>0)),z?0:1}return U=ie(e,[-1,-1,-1,-1,-1,-1]),q=oe[U]=ee[U](e),{c(){t=_("div"),n=_("div"),s=_("div"),o=_("span"),i=_("strong"),a=$(Z),l=x(),u=_("div"),h.c(),p=x(),W&&W.c(),f=x(),g=_("div"),m=_("button"),b=_("img"),E=x(),S=$(X),H=x(),P=_("button"),R=_("img"),B=x(),F=$(K),I=x(),M=_("div"),M.innerHTML='<span style="text-decoration: underline;"><strong>My Feedback Notes</strong></span>',D=x(),q.c(),N(o,"text-decoration","underline"),L(s,"class","row centered"),N(s,"width","100%"),N(s,"height","auto"),L(u,"class","column bordered"),N(u,"width","100%"),N(u,"height","auto"),O(u,"centered",e[3].length<=0),c(b.src,y="./logos/note-svgrepo-com.svg")||L(b,"src","./logos/note-svgrepo-com.svg"),L(b,"alt","Add Note"),L(b,"class","action-icon"),L(m,"class","action-button centered column"),c(R.src,C="./logos/delete-svgrepo-com.svg")||L(R,"src","./logos/delete-svgrepo-com.svg"),L(R,"alt","Delete all notes"),L(R,"class","action-icon"),L(P,"class","action-button centered column"),L(g,"class","row centered spaced"),L(n,"class","column centered spaced padded"),N(n,"width","100%"),N(n,"height","auto"),L(M,"class","row centered"),N(M,"width","100%"),N(M,"height","auto"),L(t,"class","column spaced padded"),N(t,"width","100%"),N(t,"height","100%"),N(t,"overflow-y","auto")},m(r,c){k(r,t,c),v(t,n),v(n,s),v(s,o),v(o,i),v(i,a),v(n,l),v(n,u),Y[d].m(u,null),v(u,p),W&&W.m(u,null),v(n,f),v(n,g),v(g,m),v(m,b),v(m,E),v(m,S),v(g,H),v(g,P),v(P,R),v(P,B),v(P,F),v(t,I),v(t,M),v(t,D),oe[U].m(t,null),j=!0,G||(V=[T(m,"click",e[136]),T(P,"click",e[137])],G=!0)},p(e,n){(!j||8&n[1])&&Z!==(Z=e[34]("My Notes")+"")&&A(a,Z);let s=d;d=Q(e),d===s?Y[d].p(e,n):(te(),re(Y[s],1,1,(()=>{Y[s]=null})),ne(),h=Y[d],h?h.p(e,n):(h=Y[d]=J[d](e),h.c()),se(h,1),h.m(u,p)),e[32]?W?W.p(e,n):(W=ja(e),W.c(),W.m(u,null)):W&&(W.d(1),W=null),(!j||8&n[0])&&O(u,"centered",e[3].length<=0),(!j||8&n[1])&&X!==(X=e[34]("Add Note")+"")&&A(S,X),(!j||8&n[1])&&K!==(K=e[34]("Delete all")+"")&&A(F,K);let r=U;U=ie(e,n),U===r?oe[U].p(e,n):(te(),re(oe[r],1,1,(()=>{oe[r]=null})),ne(),q=oe[U],q?q.p(e,n):(q=oe[U]=ee[U](e),q.c()),se(q,1),q.m(t,null))},i(e){j||(se(h),se(q),j=!0)},o(e){re(h),re(q),j=!1},d(e){e&&w(t),Y[d].d(),W&&W.d(),oe[U].d(),G=!1,r(V)}}}function Ma(e){let t,n,s,o,i,a,l,u,d,h,p,f,g,m,b,E,S,H,R,C=e[34]("Model")+"",B=Object.keys(e[35]),F=[];for(let t=0;t<B.length;t+=1)F[t]=Qa(Li(e,B,t));const I=[el,Wa],M=[];function D(e,t){return e[7]?1:0}return b=D(e),E=M[b]=I[b](e),{c(){t=_("div"),n=_("div"),s=_("div"),o=_("span"),i=$(C),a=$(":"),l=x(),u=_("select");for(let e=0;e<F.length;e+=1)F[e].c();d=x(),h=_("button"),p=_("img"),m=x(),E.c(),void 0===e[8]&&Z((()=>e[101].call(u))),L(s,"class","row spaced centered"),N(s,"height","auto"),N(s,"width","100%"),O(s,"gone",e[7]),L(p,"class","action-icon"),c(p.src,f=e[7]?"./logos/exit-svgrepo-com.svg":"./logos/settings-svgrepo-com.svg")||L(p,"src",f),L(p,"alt",g=e[7]?"Exit chatbot settings":"Open chatbot settings"),N(p,"width","2.5rem"),N(p,"height","2.5rem"),L(h,"class","action-button"),L(n,"id","chatbot-header"),L(n,"class","padded row space-between svelte-qzsvuf"),L(t,"id","chatbot-tab-content"),L(t,"class","column svelte-qzsvuf")},m(r,c){k(r,t,c),v(t,n),v(n,s),v(s,o),v(o,i),v(o,a),v(s,l),v(s,u);for(let e=0;e<F.length;e+=1)F[e]&&F[e].m(u,null);P(u,e[8],!0),v(n,d),v(n,h),v(h,p),v(t,m),M[b].m(t,null),S=!0,H||(R=[T(u,"change",e[101]),T(h,"click",e[102])],H=!0)},p(e,n){if((!S||8&n[1])&&C!==(C=e[34]("Model")+"")&&A(i,C),16&n[1]){let t;for(B=Object.keys(e[35]),t=0;t<B.length;t+=1){const s=Li(e,B,t);F[t]?F[t].p(s,n):(F[t]=Qa(s),F[t].c(),F[t].m(u,null))}for(;t<F.length;t+=1)F[t].d(1);F.length=B.length}256&n[0]|16&n[1]&&P(u,e[8]),(!S||128&n[0])&&O(s,"gone",e[7]),(!S||128&n[0]&&!c(p.src,f=e[7]?"./logos/exit-svgrepo-com.svg":"./logos/settings-svgrepo-com.svg"))&&L(p,"src",f),(!S||128&n[0]&&g!==(g=e[7]?"Exit chatbot settings":"Open chatbot settings"))&&L(p,"alt",g);let r=b;b=D(e),b===r?M[b].p(e,n):(te(),re(M[r],1,1,(()=>{M[r]=null})),ne(),E=M[b],E?E.p(e,n):(E=M[b]=I[b](e),E.c()),se(E,1),E.m(t,null))},i(e){S||(se(E),S=!0)},o(e){re(E),S=!1},d(e){e&&w(t),y(F,e),M[b].d(),H=!1,r(R)}}}function Da(t){let n,s,r,o;function i(e,t){return e[6]&&e[6].video?vl:e[6]&&e[6].audio?bl:ml}let a=i(t),l=a(t),c=t[6]&&t[6].transcript&&kl(t);return{c(){n=_("div"),s=_("div"),l.c(),r=x(),o=_("div"),c&&c.c(),L(s,"id","media-player-area"),L(s,"class","bordered svelte-qzsvuf"),L(o,"id","transcript-area"),L(o,"class","column bordered spaced svelte-qzsvuf"),L(n,"class","column padded spaced"),N(n,"width","100%"),N(n,"height","100%")},m(e,t){k(e,n,t),v(n,s),l.m(s,null),v(n,r),v(n,o),c&&c.m(o,null)},p(e,t){a===(a=i(e))&&l?l.p(e,t):(l.d(1),l=a(e),l&&(l.c(),l.m(s,null))),e[6]&&e[6].transcript?c?c.p(e,t):(c=kl(e),c.c(),c.m(o,null)):c&&(c.d(1),c=null)},i:e,o:e,d(e){e&&w(n),l.d(),c&&c.d()}}}function za(t){let n;return{c(){n=_("div"),n.innerHTML="<span>No notes added. Feel free to add a note.</span>",L(n,"class","row padded space-between centered")},m(e,t){k(e,n,t)},p:e,i:e,o:e,d(e){e&&w(n)}}}function Ua(e){let t,n,s=e[3],r=[];for(let t=0;t<s.length;t+=1)r[t]=qa(xi(e,s,t));const o=e=>re(r[e],1,1,(()=>{r[e]=null}));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=E()},m(e,s){for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,s);k(e,t,s),n=!0},p(e,n){if(8&n[0]|131072&n[1]){let i;for(s=e[3],i=0;i<s.length;i+=1){const o=xi(e,s,i);r[i]?(r[i].p(o,n),se(r[i],1)):(r[i]=qa(o),r[i].c(),se(r[i],1),r[i].m(t.parentNode,t))}for(te(),i=s.length;i<r.length;i+=1)o(i);ne()}},i(e){if(!n){for(let e=0;e<s.length;e+=1)se(r[e]);n=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)re(r[e]);n=!1},d(e){y(r,e),e&&w(t)}}}function qa(e){let t,n,s,r,o,i,a,l,c,u;function d(){return e[132](e[149],e[163])}return s=new yi({props:{source:e[163]}}),{c(){t=_("div"),n=_("div"),le(s.$$.fragment),r=x(),o=_("div"),i=_("button"),i.innerHTML='<img src="./logos/delete-x-svgrepo-com.svg" alt="Delete note" class="mini-icon"/>',a=x(),N(n,"width","95%"),N(n,"align-items","flex-start"),L(i,"class","action-button"),L(o,"class","row spaced"),N(o,"width","5%"),N(o,"align-items","flex-start"),L(t,"class","row padded bordered space-between")},m(e,h){k(e,t,h),v(t,n),ce(s,n,null),v(t,r),v(t,o),v(o,i),v(t,a),l=!0,c||(u=T(i,"click",d),c=!0)},p(t,n){e=t;const r={};8&n[0]&&(r.source=e[163]),s.$set(r)},i(e){l||(se(s.$$.fragment,e),l=!0)},o(e){re(s.$$.fragment,e),l=!1},d(e){e&&w(t),ue(s),c=!1,u()}}}function ja(e){let t,n,s,o,i,a,l,c,u,d;return{c(){t=_("div"),n=_("input"),o=x(),i=_("div"),a=_("button"),a.innerHTML='<img src="./logos/check-svgrepo-com.svg" alt="Confirm adding note" class="mini-icon"/>',l=x(),c=_("button"),c.innerHTML='<img src="./logos/delete-x-svgrepo-com.svg" alt="Cancel adding note" class="mini-icon"/>',L(n,"class","note-input svelte-qzsvuf"),L(n,"type","text"),L(n,"placeholder",s=e[34]("Enter your note here")),L(a,"class","action-button"),L(c,"class","action-button"),L(i,"class","row spaced"),L(t,"class","row padded bordered space-between"),N(t,"width","100%"),N(t,"height","auto")},m(s,r){k(s,t,r),v(t,n),H(n,e[33]),v(t,o),v(t,i),v(i,a),v(i,l),v(i,c),u||(d=[T(n,"input",e[133]),T(a,"click",e[134]),T(c,"click",e[135])],u=!0)},p(e,t){8&t[1]&&s!==(s=e[34]("Enter your note here"))&&L(n,"placeholder",s),4&t[1]&&n.value!==e[33]&&H(n,e[33])},d(e){e&&w(t),u=!1,r(d)}}}function Ga(t){let n,s,r,o,i,a,l=t[34]("Add Note")+"";return{c(){n=_("div"),s=_("div"),r=_("span"),o=$('No feedback notes added. Feel free to add notes on your feedback by clicking "'),i=$(l),a=$('" on any of the feedback.'),L(s,"class","row space-between centered"),N(s,"width","100%"),N(s,"height","auto"),L(n,"class","column centered spaced padded"),N(n,"width","100%"),N(n,"height","auto")},m(e,t){k(e,n,t),v(n,s),v(s,r),v(r,o),v(r,i),v(r,a)},p(e,t){8&t[1]&&l!==(l=e[34]("Add Note")+"")&&A(i,l)},i:e,o:e,d(e){e&&w(n)}}}function Va(e){let t,n,s=Object.keys(e[4]).map(Number).sort(xl),r=[];for(let t=0;t<s.length;t+=1)r[t]=Ya(_i(e,s,t));const o=e=>re(r[e],1,1,(()=>{r[e]=null}));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=E()},m(e,s){for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,s);k(e,t,s),n=!0},p(e,n){if(17&n[0]|393228&n[1]){let i;for(s=Object.keys(e[4]).map(Number).sort(xl),i=0;i<s.length;i+=1){const o=_i(e,s,i);r[i]?(r[i].p(o,n),se(r[i],1)):(r[i]=Ya(o),r[i].c(),se(r[i],1),r[i].m(t.parentNode,t))}for(te(),i=s.length;i<r.length;i+=1)o(i);ne()}},i(e){if(!n){for(let e=0;e<s.length;e+=1)se(r[e]);n=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)re(r[e]);n=!1},d(e){y(r,e),e&&w(t)}}}function Za(t){let n;return{c(){n=_("div"),n.innerHTML="<span>No notes added. Feel free to add a note.</span>",L(n,"class","row padded centered space-between")},m(e,t){k(e,n,t)},p:e,i:e,o:e,d(e){e&&w(n)}}}function Xa(e){let t,n,s=e[4][e[160]].notes,r=[];for(let t=0;t<s.length;t+=1)r[t]=Ka($i(e,s,t));const o=e=>re(r[e],1,1,(()=>{r[e]=null}));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=E()},m(e,s){for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,s);k(e,t,s),n=!0},p(e,n){if(16&n[0]|131072&n[1]){let i;for(s=e[4][e[160]].notes,i=0;i<s.length;i+=1){const o=$i(e,s,i);r[i]?(r[i].p(o,n),se(r[i],1)):(r[i]=Ka(o),r[i].c(),se(r[i],1),r[i].m(t.parentNode,t))}for(te(),i=s.length;i<r.length;i+=1)o(i);ne()}},i(e){if(!n){for(let e=0;e<s.length;e+=1)se(r[e]);n=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)re(r[e]);n=!1},d(e){y(r,e),e&&w(t)}}}function Ka(e){let t,n,s,r,o,i,a,l,u,d,h,p,f;function g(){return e[139](e[149],e[160],e[163])}return s=new yi({props:{source:e[163]}}),{c(){t=_("div"),n=_("div"),le(s.$$.fragment),r=x(),o=_("div"),i=_("button"),a=_("img"),d=x(),N(n,"width","95%"),N(n,"align-items","flex-start"),c(a.src,l="./logos/delete-x-svgrepo-com.svg")||L(a,"src","./logos/delete-x-svgrepo-com.svg"),L(a,"alt",u="Delete note from Feedback ID"+e[160]),L(a,"class","mini-icon"),L(i,"class","action-button"),L(o,"class","row space-between"),N(o,"width","5%"),N(o,"align-items","flex-start"),L(t,"class","row padded bordered space-between")},m(e,l){k(e,t,l),v(t,n),ce(s,n,null),v(t,r),v(t,o),v(o,i),v(i,a),v(t,d),h=!0,p||(f=T(i,"click",g),p=!0)},p(t,n){e=t;const r={};16&n[0]&&(r.source=e[163]),s.$set(r),(!h||16&n[0]&&u!==(u="Delete note from Feedback ID"+e[160]))&&L(a,"alt",u)},i(e){h||(se(s.$$.fragment,e),h=!0)},o(e){re(s.$$.fragment,e),h=!1},d(e){e&&w(t),ue(s),p=!1,f()}}}function Ja(e){let t,n,s,o,i,a,l,c,u,d;function h(){return e[141](e[160])}function p(){return e[142](e[160])}return{c(){t=_("div"),n=_("input"),o=x(),i=_("div"),a=_("button"),a.innerHTML='<img src="./logos/check-svgrepo-com.svg" alt="Confirm adding note" class="mini-icon"/>',l=x(),c=_("button"),c.innerHTML='<img src="./logos/delete-x-svgrepo-com.svg" alt="Cancel adding note" class="mini-icon"/>',L(n,"class","note-input svelte-qzsvuf"),L(n,"type","text"),L(n,"placeholder",s=e[34]("Enter your note here")),L(a,"class","action-button"),L(c,"class","action-button"),L(i,"class","row spaced"),L(t,"class","row padded bordered space-between"),N(t,"width","100%"),N(t,"height","auto")},m(s,r){k(s,t,r),v(t,n),H(n,e[33]),v(t,o),v(t,i),v(i,a),v(i,l),v(i,c),u||(d=[T(n,"input",e[140]),T(a,"click",h),T(c,"click",p)],u=!0)},p(t,r){e=t,8&r[1]&&s!==(s=e[34]("Enter your note here"))&&L(n,"placeholder",s),4&r[1]&&n.value!==e[33]&&H(n,e[33])},d(e){e&&w(t),u=!1,r(d)}}}function Ya(e){let t,n,s,o,i,a,l,u,d,h,p,f,g,m,b,y,E,S,H,P,R,C,B,F,I,M,D,z,U,q,j,G,V,Z,X=e[34]("Feedback # Notes",{values:{id:e[160]}})+"",K=e[0][e[160]-1].quote.slice(0,70)+"",J=e[34]("Add Note")+"",Y=e[34]("Delete all")+"";function Q(){return e[138](e[160])}const W=[Xa,Za],ee=[];function oe(e,t){return e[4][e[160]].notes.length>0?0:1}m=oe(e),b=ee[m]=W[m](e);let ie=e[4][e[160]].is_adding&&Ja(e);function ae(){return e[143](e[160])}function le(){return e[144](e[160])}return{c(){t=_("div"),n=_("div"),s=_("span"),o=_("strong"),i=$(X),a=$(":"),l=x(),u=$(K),d=$("..."),h=x(),p=_("button"),p.innerHTML='<img src="./logos/delete-x-svgrepo-com.svg" alt="Remove feedback notes section" class="mini-icon"/>',f=x(),g=_("div"),b.c(),y=x(),ie&&ie.c(),E=x(),S=_("div"),H=_("button"),P=_("img"),C=x(),B=$(J),F=x(),I=_("button"),M=_("img"),z=x(),U=$(Y),q=x(),L(p,"class","action-button"),L(n,"class","row space-between"),N(n,"width","100%"),N(n,"height","auto"),L(g,"class","column bordered"),N(g,"width","100%"),N(g,"height","auto"),O(g,"centered",e[4][e[160]].notes.length<=0),c(P.src,R="./logos/note-svgrepo-com.svg")||L(P,"src","./logos/note-svgrepo-com.svg"),L(P,"alt","Add Note"),L(P,"class","action-icon"),L(H,"class","action-button centered column"),c(M.src,D="./logos/delete-svgrepo-com.svg")||L(M,"src","./logos/delete-svgrepo-com.svg"),L(M,"alt","Delete all notes"),L(M,"class","action-icon"),L(I,"class","action-button centered column"),L(S,"class","row centered spaced"),L(t,"id",j="feedback-note-section-"+e[160]),L(t,"class","column centered spaced padded svelte-qzsvuf"),N(t,"width","100%"),N(t,"height","auto")},m(e,r){k(e,t,r),v(t,n),v(n,s),v(s,o),v(o,i),v(o,a),v(s,l),v(s,u),v(s,d),v(n,h),v(n,p),v(t,f),v(t,g),ee[m].m(g,null),v(g,y),ie&&ie.m(g,null),v(t,E),v(t,S),v(S,H),v(H,P),v(H,C),v(H,B),v(S,F),v(S,I),v(I,M),v(I,z),v(I,U),v(t,q),G=!0,V||(Z=[T(p,"click",Q),T(H,"click",ae),T(I,"click",le)],V=!0)},p(n,s){e=n,(!G||16&s[0]|8&s[1])&&X!==(X=e[34]("Feedback # Notes",{values:{id:e[160]}})+"")&&A(i,X),(!G||17&s[0])&&K!==(K=e[0][e[160]-1].quote.slice(0,70)+"")&&A(u,K);let r=m;m=oe(e),m===r?ee[m].p(e,s):(te(),re(ee[r],1,1,(()=>{ee[r]=null})),ne(),b=ee[m],b?b.p(e,s):(b=ee[m]=W[m](e),b.c()),se(b,1),b.m(g,y)),e[4][e[160]].is_adding?ie?ie.p(e,s):(ie=Ja(e),ie.c(),ie.m(g,null)):ie&&(ie.d(1),ie=null),(!G||16&s[0])&&O(g,"centered",e[4][e[160]].notes.length<=0),(!G||8&s[1])&&J!==(J=e[34]("Add Note")+"")&&A(B,J),(!G||8&s[1])&&Y!==(Y=e[34]("Delete all")+"")&&A(U,Y),(!G||16&s[0]&&j!==(j="feedback-note-section-"+e[160]))&&L(t,"id",j)},i(e){G||(se(b),G=!0)},o(e){re(b),G=!1},d(e){e&&w(t),ee[m].d(),ie&&ie.d(),V=!1,r(Z)}}}function Qa(t){let n,s,r=t[155]+"";return{c(){n=_("option"),s=$(r),n.__value=t[155],n.value=n.__value},m(e,t){k(e,n,t),v(n,s)},p:e,d(e){e&&w(n)}}}function Wa(e){let t,n,s,o,i,a,l,u,d,h,p,f,g,m,b,E,S,H,R,C,B,F,I,M,D,z,q,j,G,V,K,J,Y,Q,W,ee,te,ne,oe,ie,de,he,pe,fe,ge,me,be,ve,ke,we,ye,_e,$e,xe,Te,Se,Le,Ae,He=e[34]("Configurations")+"",Ne=e[34]("Model")+"",Pe=e[34]("Temperature")+"",Re=e[34]("Max Output Tokens")+"",Oe=e[34]("Chatbot's Documents")+"",Ce=e[34]("Add Document")+"",Be=e[34]("Remove All")+"",Fe=Object.keys(e[35]),Ie=[];for(let t=0;t<Fe.length;t+=1)Ie[t]=tl(Ti(e,Fe,t));function Me(t){e[123](t)}let De={min:"0.0",max:"2.0",step:"0.1"};function ze(t){e[124](t)}void 0!==e[9]&&(De.value=e[9]),R=new Js({props:De}),U.push((()=>ae(R,"value",Me)));let Ue={min:"10.0",max:"4095.0",step:"1.0"};function qe(t){e[125](t)}function je(t){e[126](t)}void 0!==e[10]&&(Ue.value=e[10]),q=new Js({props:Ue}),U.push((()=>ae(q,"value",ze)));let Ge={};function Ve(e,t){return e[1].length>0?sl:nl}void 0!==e[28]&&(Ge.progress=e[28]),void 0!==e[27]&&(Ge.status=e[27]),te=new Ee({props:Ge}),U.push((()=>ae(te,"progress",qe))),U.push((()=>ae(te,"status",je)));let Ze=Ve(e),Xe=Ze(e);return{c(){t=_("div"),n=_("div"),s=_("span"),o=_("strong"),i=$(He),a=x(),l=_("div"),u=_("span"),d=$(Ne),h=$(":"),p=x(),f=_("select");for(let e=0;e<Ie.length;e+=1)Ie[e].c();g=x(),m=_("div"),b=_("span"),E=$(Pe),S=$(":"),H=x(),le(R.$$.fragment),B=x(),F=_("div"),I=_("span"),M=$(Re),D=$(":"),z=x(),le(q.$$.fragment),G=x(),V=_("div"),K=_("span"),J=_("strong"),Y=$(Oe),Q=x(),W=_("div"),ee=_("div"),le(te.$$.fragment),ie=x(),Xe.c(),de=x(),he=_("div"),pe=_("input"),fe=x(),ge=_("button"),me=_("img"),ve=x(),ke=$(Ce),we=x(),ye=_("button"),_e=_("img"),xe=x(),Te=$(Be),void 0===e[8]&&Z((()=>e[122].call(f))),L(l,"class","row spaced centered"),N(l,"height","auto"),N(l,"width","100%"),L(m,"class","row spaced"),N(m,"height","auto"),N(m,"width","100%"),L(F,"class","row spaced"),N(F,"height","auto"),N(F,"width","100%"),L(n,"id","chatbot-configurations"),L(n,"class","column centered spaced padded bordered svelte-qzsvuf"),L(ee,"class","overlay centered padded"),O(ee,"invisible",!1===e[29]),L(W,"id","chatbot-rag-sources"),L(W,"class","column centered spaced padded bordered"),N(W,"width","100%"),N(W,"height","auto"),N(W,"overflow-y","auto"),L(pe,"type","file"),L(pe,"id","document_file_input"),L(pe,"class","gone"),c(me.src,be="./logos/add-ellipse-svgrepo-com.svg")||L(me,"src","./logos/add-ellipse-svgrepo-com.svg"),L(me,"alt","Add document"),L(me,"class","action-icon"),ge.disabled=e[29],L(ge,"class","centered spaced column action-button"),c(_e.src,$e="./logos/delete-svgrepo-com.svg")||L(_e,"src","./logos/delete-svgrepo-com.svg"),L(_e,"alt","Remove all documents"),L(_e,"class","action-icon"),ye.disabled=e[29],L(ye,"class","centered spaced column action-button"),L(he,"id","chatbot-rag-buttons"),L(he,"class","row centered padded spaced"),N(he,"width","100%"),N(he,"height","auto"),L(V,"id","chatbot-rag-panel"),L(V,"class","column centered spaced padded bordered svelte-qzsvuf"),L(t,"id","chatbot-settings"),L(t,"class","column padded spaced"),N(t,"width","100%"),N(t,"height","95%")},m(r,c){k(r,t,c),v(t,n),v(n,s),v(s,o),v(o,i),v(n,a),v(n,l),v(l,u),v(u,d),v(u,h),v(l,p),v(l,f);for(let e=0;e<Ie.length;e+=1)Ie[e]&&Ie[e].m(f,null);P(f,e[8],!0),v(n,g),v(n,m),v(m,b),v(b,E),v(b,S),v(m,H),ce(R,m,null),v(n,B),v(n,F),v(F,I),v(I,M),v(I,D),v(F,z),ce(q,F,null),v(t,G),v(t,V),v(V,K),v(K,J),v(J,Y),v(V,Q),v(V,W),v(W,ee),ce(te,ee,null),v(W,ie),Xe.m(W,null),v(V,de),v(V,he),v(he,pe),e[128](pe),v(he,fe),v(he,ge),v(ge,me),v(ge,ve),v(ge,ke),v(he,we),v(he,ye),v(ye,_e),v(ye,xe),v(ye,Te),Se=!0,Le||(Ae=[T(f,"change",e[122]),T(pe,"change",e[129]),T(ge,"click",e[130]),T(ye,"click",e[131])],Le=!0)},p(e,t){if((!Se||8&t[1])&&He!==(He=e[34]("Configurations")+"")&&A(i,He),(!Se||8&t[1])&&Ne!==(Ne=e[34]("Model")+"")&&A(d,Ne),16&t[1]){let n;for(Fe=Object.keys(e[35]),n=0;n<Fe.length;n+=1){const s=Ti(e,Fe,n);Ie[n]?Ie[n].p(s,t):(Ie[n]=tl(s),Ie[n].c(),Ie[n].m(f,null))}for(;n<Ie.length;n+=1)Ie[n].d(1);Ie.length=Fe.length}256&t[0]|16&t[1]&&P(f,e[8]),(!Se||8&t[1])&&Pe!==(Pe=e[34]("Temperature")+"")&&A(E,Pe);const n={};!C&&512&t[0]&&(C=!0,n.value=e[9],X((()=>C=!1))),R.$set(n),(!Se||8&t[1])&&Re!==(Re=e[34]("Max Output Tokens")+"")&&A(M,Re);const s={};!j&&1024&t[0]&&(j=!0,s.value=e[10],X((()=>j=!1))),q.$set(s),(!Se||8&t[1])&&Oe!==(Oe=e[34]("Chatbot's Documents")+"")&&A(Y,Oe);const r={};!ne&&268435456&t[0]&&(ne=!0,r.progress=e[28],X((()=>ne=!1))),!oe&&134217728&t[0]&&(oe=!0,r.status=e[27],X((()=>oe=!1))),te.$set(r),(!Se||536870912&t[0])&&O(ee,"invisible",!1===e[29]),Ze===(Ze=Ve(e))&&Xe?Xe.p(e,t):(Xe.d(1),Xe=Ze(e),Xe&&(Xe.c(),Xe.m(W,null))),(!Se||8&t[1])&&Ce!==(Ce=e[34]("Add Document")+"")&&A(ke,Ce),(!Se||536870912&t[0])&&(ge.disabled=e[29]),(!Se||8&t[1])&&Be!==(Be=e[34]("Remove All")+"")&&A(Te,Be),(!Se||536870912&t[0])&&(ye.disabled=e[29])},i(e){Se||(se(R.$$.fragment,e),se(q.$$.fragment,e),se(te.$$.fragment,e),Se=!0)},o(e){re(R.$$.fragment,e),re(q.$$.fragment,e),re(te.$$.fragment,e),Se=!1},d(n){n&&w(t),y(Ie,n),ue(R),ue(q),ue(te),Xe.d(),e[128](null),Le=!1,r(Ae)}}}function el(e){let t,n,s,o,i,a,l,u,d,h,p,f,g,m,b,E,P,R,C,B,F,I,M,D,z,q,j,G,V,Z,K,J,Y,Q,W,ee,oe,ie,de,he,pe,fe,ge,me,be,ve,ke,we,ye,_e,$e,xe,Te,Se,Le,Ae,He,Ne,Pe,Re,Oe,Ce,Be,Fe,Ie,Me,De,ze,Ue,qe,je,Ge,Ve,Ze,Xe,Ke,Je,Ye,Qe,We,et,tt,nt=e[34]("assistant")+"",st=e[34]("Hello! How can I help you today?")+"",rt=e[34]("assistant")+"",ot=e[34]("Feedback Context")+"",it=e[34]("Suggested messages")+"",at=e[34]("Explain feedback")+"",lt=e[34]("Brainstorm actions")+"",ct=e[34]("Refer to")+"",ut=e[34]("Transcript")+"",dt=e[34]("Documents")+"",ht=e[2],pt=[];for(let t=0;t<ht.length;t+=1)pt[t]=dl(Si(e,ht,t));const ft=e=>re(pt[e],1,1,(()=>{pt[e]=null}));function gt(t){e[107](t)}function mt(t){e[108](t)}let bt={};function vt(e,t){return e[18]?pl:hl}void 0!==e[26]&&(bt.progress=e[26]),void 0!==e[25]&&(bt.status=e[25]),P=new Ee({props:bt}),U.push((()=>ae(P,"progress",gt))),U.push((()=>ae(P,"status",mt)));let kt=vt(e),wt=kt(e);function yt(e,t){return e[20]?gl:fl}let _t=yt(e),$t=_t(e);return{c(){t=_("div"),n=_("div"),s=_("p"),o=_("strong"),i=$(nt),a=$(":"),l=x(),u=$(st),d=x();for(let e=0;e<pt.length;e+=1)pt[e].c();h=x(),p=_("div"),f=_("p"),g=_("strong"),m=$(rt),b=$(":"),E=x(),le(P.$$.fragment),B=x(),F=_("div"),I=x(),M=_("div"),D=_("div"),z=_("div"),q=_("span"),j=_("strong"),G=$(ot),V=$(":"),Z=x(),wt.c(),J=x(),Y=_("div"),Q=_("span"),W=_("strong"),ee=$(it),oe=$(":"),ie=x(),de=_("div"),he=$(at),pe=x(),fe=_("div"),ge=$(lt),be=x(),ve=_("div"),ke=_("span"),we=_("strong"),ye=$(ct),_e=$(":"),$e=x(),xe=_("label"),Te=_("input"),Se=x(),Le=$(ut),Ae=x(),He=_("label"),Ne=_("input"),Pe=x(),Re=$(dt),Ce=x(),Be=_("div"),$t.c(),Ie=x(),Me=_("div"),De=_("div"),ze=_("label"),Ue=x(),qe=_("input"),je=x(),Ge=_("button"),Ge.innerHTML='<img src="./logos/image-svgrepo-com.svg" alt="Attach image" class="action-icon"/>',Ve=x(),Ze=_("textarea"),Ke=x(),Je=_("button"),Ye=_("img"),L(n,"class","assistant padded svelte-qzsvuf"),L(p,"class","assistant padded column svelte-qzsvuf"),O(p,"invisible",!1===e[24]),N(F,"height","20%"),N(F,"width","100%"),N(F,"background-color","white"),N(F,"color","white"),N(F,"cursor","default"),L(t,"id","chatbot-messages"),L(t,"class","column spaced bordered padded svelte-qzsvuf"),L(z,"id","contexts"),L(z,"class","column centered bordered svelte-qzsvuf"),L(z,"style",K=e[20]?"width:25%;":"width:33%;"),L(de,"class","suggested-message svelte-qzsvuf"),L(fe,"class","suggested-message svelte-qzsvuf"),L(Y,"id","suggested-messages"),L(Y,"class","column centered bordered svelte-qzsvuf"),L(Y,"style",me=e[20]?"width:25%;":"width:33%;"),L(Te,"type","checkbox"),L(xe,"class","row centered spaced"),L(Ne,"type","checkbox"),L(He,"class","row centered spaced"),L(ve,"id","refer-to"),L(ve,"class","column centered bordered"),L(ve,"style",Oe=e[20]?"width:25%;":"width:33%;"),L(Be,"id","visual-context"),L(Be,"class","column centered bordered svelte-qzsvuf"),L(Be,"style",Fe=e[20]?"width:25%;":"display:none;"),L(D,"id","chatbot-utilities"),L(D,"class","row centered spaced svelte-qzsvuf"),L(ze,"for","image_upload"),N(ze,"display","none"),L(qe,"accept","image/png, image/jpeg"),L(qe,"type","file"),N(qe,"display","none"),L(qe,"id","image_upload"),L(qe,"name","image_upload"),L(Ge,"class","action-button centered column"),L(De,"class","column spaced"),N(Ze,"width","100%"),N(Ze,"height","100%"),L(Ze,"placeholder",Xe=e[34]("Type your message here")),L(Ze,"id","textarea"),c(Ye.src,Qe="./logos/send-svgrepo-com.svg")||L(Ye,"src","./logos/send-svgrepo-com.svg"),L(Ye,"alt","Send"),L(Ye,"class","action-icon"),L(Je,"class","action-button centered column"),Je.disabled=e[24],L(Me,"id","chatbot-input"),L(Me,"class","row spaced centered svelte-qzsvuf"),L(M,"id","chatbot-actions"),L(M,"class","column padded spaced centered svelte-qzsvuf")},m(r,c){k(r,t,c),v(t,n),v(n,s),v(s,o),v(o,i),v(o,a),v(s,l),v(s,u),v(t,d);for(let e=0;e<pt.length;e+=1)pt[e]&&pt[e].m(t,null);v(t,h),v(t,p),v(p,f),v(f,g),v(g,m),v(g,b),v(p,E),ce(P,p,null),v(t,B),v(t,F),k(r,I,c),k(r,M,c),v(M,D),v(D,z),v(z,q),v(q,j),v(j,G),v(j,V),v(z,Z),wt.m(z,null),v(D,J),v(D,Y),v(Y,Q),v(Q,W),v(W,ee),v(W,oe),v(Y,ie),v(Y,de),v(de,he),v(Y,pe),v(Y,fe),v(fe,ge),v(D,be),v(D,ve),v(ve,ke),v(ke,we),v(we,ye),v(we,_e),v(ve,$e),v(ve,xe),v(xe,Te),Te.checked=e[13],v(xe,Se),v(xe,Le),v(ve,Ae),v(ve,He),v(He,Ne),Ne.checked=e[14],v(He,Pe),v(He,Re),v(D,Ce),v(D,Be),$t.m(Be,null),v(M,Ie),v(M,Me),v(Me,De),v(De,ze),v(De,Ue),v(De,qe),e[116](qe),v(De,je),v(De,Ge),v(Me,Ve),v(Me,Ze),H(Ze,e[12]),v(Me,Ke),v(Me,Je),v(Je,Ye),We=!0,et||(tt=[T(de,"click",S(e[110])),T(fe,"click",S(e[111])),T(Te,"change",e[112]),T(Ne,"change",e[113]),T(qe,"change",e[115]),T(qe,"change",e[117]),T(Ge,"click",S(e[118])),T(Ze,"input",e[119]),T(Ze,"keydown",e[120]),T(Je,"click",S(e[121]))],et=!0)},p(e,n){if((!We||8&n[1])&&nt!==(nt=e[34]("assistant")+"")&&A(i,nt),(!We||8&n[1])&&st!==(st=e[34]("Hello! How can I help you today?")+"")&&A(u,st),16842780&n[0]|65544&n[1]){let s;for(ht=e[2],s=0;s<ht.length;s+=1){const r=Si(e,ht,s);pt[s]?(pt[s].p(r,n),se(pt[s],1)):(pt[s]=dl(r),pt[s].c(),se(pt[s],1),pt[s].m(t,h))}for(te(),s=ht.length;s<pt.length;s+=1)ft(s);ne()}(!We||8&n[1])&&rt!==(rt=e[34]("assistant")+"")&&A(m,rt);const s={};!R&&67108864&n[0]&&(R=!0,s.progress=e[26],X((()=>R=!1))),!C&&33554432&n[0]&&(C=!0,s.status=e[25],X((()=>C=!1))),P.$set(s),(!We||16777216&n[0])&&O(p,"invisible",!1===e[24]),(!We||8&n[1])&&ot!==(ot=e[34]("Feedback Context")+"")&&A(G,ot),kt===(kt=vt(e))&&wt?wt.p(e,n):(wt.d(1),wt=kt(e),wt&&(wt.c(),wt.m(z,null))),(!We||1048576&n[0]&&K!==(K=e[20]?"width:25%;":"width:33%;"))&&L(z,"style",K),(!We||8&n[1])&&it!==(it=e[34]("Suggested messages")+"")&&A(ee,it),(!We||8&n[1])&&at!==(at=e[34]("Explain feedback")+"")&&A(he,at),(!We||8&n[1])&&lt!==(lt=e[34]("Brainstorm actions")+"")&&A(ge,lt),(!We||1048576&n[0]&&me!==(me=e[20]?"width:25%;":"width:33%;"))&&L(Y,"style",me),(!We||8&n[1])&&ct!==(ct=e[34]("Refer to")+"")&&A(ye,ct),8192&n[0]&&(Te.checked=e[13]),(!We||8&n[1])&&ut!==(ut=e[34]("Transcript")+"")&&A(Le,ut),16384&n[0]&&(Ne.checked=e[14]),(!We||8&n[1])&&dt!==(dt=e[34]("Documents")+"")&&A(Re,dt),(!We||1048576&n[0]&&Oe!==(Oe=e[20]?"width:25%;":"width:33%;"))&&L(ve,"style",Oe),_t===(_t=yt(e))&&$t?$t.p(e,n):($t.d(1),$t=_t(e),$t&&($t.c(),$t.m(Be,null))),(!We||1048576&n[0]&&Fe!==(Fe=e[20]?"width:25%;":"display:none;"))&&L(Be,"style",Fe),(!We||8&n[1]&&Xe!==(Xe=e[34]("Type your message here")))&&L(Ze,"placeholder",Xe),4096&n[0]&&H(Ze,e[12]),(!We||16777216&n[0])&&(Je.disabled=e[24])},i(e){if(!We){for(let e=0;e<ht.length;e+=1)se(pt[e]);se(P.$$.fragment,e),We=!0}},o(e){pt=pt.filter(Boolean);for(let e=0;e<pt.length;e+=1)re(pt[e]);re(P.$$.fragment,e),We=!1},d(n){n&&w(t),y(pt,n),ue(P),n&&w(I),n&&w(M),wt.d(),$t.d(),e[116](null),et=!1,r(tt)}}}function tl(t){let n,s,r=t[155]+"";return{c(){n=_("option"),s=$(r),n.__value=t[155],n.value=n.__value},m(e,t){k(e,n,t),v(n,s)},p:e,d(e){e&&w(n)}}}function nl(t){let n;return{c(){n=_("span"),n.textContent="No resources available."},m(e,t){k(e,n,t)},p:e,d(e){e&&w(n)}}}function sl(e){let t,n=e[1],s=[];for(let t=0;t<n.length;t+=1)s[t]=rl(Ei(e,n,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=E()},m(e,n){for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,n);k(e,t,n)},p(e,r){if(939524098&r[0]|16384&r[1]){let o;for(n=e[1],o=0;o<n.length;o+=1){const i=Ei(e,n,o);s[o]?s[o].p(i,r):(s[o]=rl(i),s[o].c(),s[o].m(t.parentNode,t))}for(;o<s.length;o+=1)s[o].d(1);s.length=n.length}},d(e){y(s,e),e&&w(t)}}}function rl(e){let t,n,s,r,o,i,a,l,u,d=e[153]+"";function h(){return e[127](e[153],e[149])}return{c(){t=_("div"),n=$(d),s=x(),r=_("button"),o=_("img"),a=x(),c(o.src,i="./logos/delete-x-svgrepo-com.svg")||L(o,"src","./logos/delete-x-svgrepo-com.svg"),L(o,"alt","Remove document"),L(o,"class","mini-icon"),r.disabled=e[29],L(r,"class","action-button"),L(t,"class","row centered spaced centered")},m(e,i){k(e,t,i),v(t,n),v(t,s),v(t,r),v(r,o),v(t,a),l||(u=T(r,"click",S(h)),l=!0)},p(t,s){e=t,2&s[0]&&d!==(d=e[153]+"")&&A(n,d),536870912&s[0]&&(r.disabled=e[29])},d(e){e&&w(t),l=!1,u()}}}function ol(e){let t,n,s,o,i,a,l,u,d,h,p,f,g,m,b,y,E,S,H,N,P,R,O,C,B,F,I,M,D,z,U=e[34]("Add to My Notes")+"",q=e[150].role+"",j="context"in e[150]&&il(e),G="image"in e[150]&&al(e);function V(){return e[103](e[150])}let Z="context"in e[150]&&ll(e);function X(){return e[105](e[150])}let K="user"===e[150].role&&cl(e);B=new yi({props:{source:e[150].content}});let J="image"in e[150]&&"user"===e[150].role&&ul(e);return{c(){t=_("div"),n=_("div"),s=_("div"),j&&j.c(),o=x(),G&&G.c(),i=x(),a=_("div"),l=_("button"),u=_("small"),d=$(U),h=x(),p=_("img"),g=x(),Z&&Z.c(),m=x(),b=_("div"),y=_("button"),y.innerHTML='<img src="./logos/copy-svgrepo-com.svg" alt="Copy note" class="mini-icon"/>',E=x(),K&&K.c(),H=x(),N=_("div"),P=_("strong"),R=$(q),O=$(":"),C=x(),le(B.$$.fragment),F=x(),J&&J.c(),L(s,"class","row spaced"),c(p.src,f="./logos/note-svgrepo-com.svg")||L(p,"src","./logos/note-svgrepo-com.svg"),L(p,"alt","Add to my notes"),L(p,"class","mini-icon"),L(l,"class","action-button row spaced centered"),L(y,"class","action-button column centered"),L(b,"class","row"),L(a,"class","row spaced"),L(n,"class",S="message-header row "+("context"in e[150]||"image"in e[150]?"with-context":"no-context")+" svelte-qzsvuf"),L(t,"class",I=e[150].role+" padded column spaced svelte-qzsvuf")},m(e,r){k(e,t,r),v(t,n),v(n,s),j&&j.m(s,null),v(s,o),G&&G.m(s,null),v(n,i),v(n,a),v(a,l),v(l,u),v(u,d),v(l,h),v(l,p),v(a,g),Z&&Z.m(a,null),v(a,m),v(a,b),v(b,y),v(b,E),K&&K.m(b,null),v(t,H),v(t,N),v(N,P),v(P,R),v(P,O),v(N,C),ce(B,N,null),v(t,F),J&&J.m(t,null),M=!0,D||(z=[T(l,"click",V),T(y,"click",X)],D=!0)},p(r,i){"context"in(e=r)[150]?j?j.p(e,i):(j=il(e),j.c(),j.m(s,o)):j&&(j.d(1),j=null),"image"in e[150]?G?G.p(e,i):(G=al(e),G.c(),G.m(s,null)):G&&(G.d(1),G=null),(!M||8&i[1])&&U!==(U=e[34]("Add to My Notes")+"")&&A(d,U),"context"in e[150]?Z?Z.p(e,i):(Z=ll(e),Z.c(),Z.m(a,m)):Z&&(Z.d(1),Z=null),"user"===e[150].role?K?K.p(e,i):(K=cl(e),K.c(),K.m(b,null)):K&&(K.d(1),K=null),(!M||4&i[0]&&S!==(S="message-header row "+("context"in e[150]||"image"in e[150]?"with-context":"no-context")+" svelte-qzsvuf"))&&L(n,"class",S),(!M||4&i[0])&&q!==(q=e[150].role+"")&&A(R,q);const l={};4&i[0]&&(l.source=e[150].content),B.$set(l),"image"in e[150]&&"user"===e[150].role?J?J.p(e,i):(J=ul(e),J.c(),J.m(t,null)):J&&(J.d(1),J=null),(!M||4&i[0]&&I!==(I=e[150].role+" padded column spaced svelte-qzsvuf"))&&L(t,"class",I)},i(e){M||(se(B.$$.fragment,e),M=!0)},o(e){re(B.$$.fragment,e),M=!1},d(e){e&&w(t),j&&j.d(),G&&G.d(),Z&&Z.d(),K&&K.d(),ue(B),J&&J.d(),D=!1,r(z)}}}function il(e){let t,n,s,r,o,i=e[34]("Context: F#",{values:{id:e[150].context.id}})+"",a=(e[150].context.quote.length>40?e[150].context.quote.slice(0,40)+"...":e[150].context.quote)+"";return{c(){t=_("div"),n=_("small"),s=$(i),r=x(),o=$(a),L(t,"class","context-tag feedback svelte-qzsvuf")},m(e,i){k(e,t,i),v(t,n),v(n,s),v(n,r),v(n,o)},p(e,t){4&t[0]|8&t[1]&&i!==(i=e[34]("Context: F#",{values:{id:e[150].context.id}})+"")&&A(s,i),4&t[0]&&a!==(a=(e[150].context.quote.length>40?e[150].context.quote.slice(0,40)+"...":e[150].context.quote)+"")&&A(o,a)},d(e){e&&w(t)}}}function al(e){let t,n,s,r=("user"===e[150].role?e[34]("Attached image"):e[34]("Response to image"))+"";return{c(){t=_("div"),n=_("small"),s=$(r),L(t,"class","context-tag image svelte-qzsvuf")},m(e,r){k(e,t,r),v(t,n),v(n,s)},p(e,t){4&t[0]|8&t[1]&&r!==(r=("user"===e[150].role?e[34]("Attached image"):e[34]("Response to image"))+"")&&A(s,r)},d(e){e&&w(t)}}}function ll(e){let t,n,s,r,o,i,a,l,u=e[34]("Add to Feedback Notes",{values:{id:e[150].context.id}})+"";function d(){return e[104](e[150])}return{c(){t=_("button"),n=_("small"),s=$(u),r=x(),o=_("img"),c(o.src,i="./logos/note-svgrepo-com.svg")||L(o,"src","./logos/note-svgrepo-com.svg"),L(o,"alt","Add feedback note"),L(o,"class","mini-icon"),L(t,"class","action-button row spaced centered")},m(e,i){k(e,t,i),v(t,n),v(n,s),v(t,r),v(t,o),a||(l=T(t,"click",d),a=!0)},p(t,n){e=t,4&n[0]|8&n[1]&&u!==(u=e[34]("Add to Feedback Notes",{values:{id:e[150].context.id}})+"")&&A(s,u)},d(e){e&&w(t),a=!1,l()}}}function cl(e){let t,n,s,r,o;function i(){return e[106](e[150])}return{c(){t=_("button"),n=_("img"),c(n.src,s="./logos/delete-x-svgrepo-com.svg")||L(n,"src","./logos/delete-x-svgrepo-com.svg"),L(n,"alt","Delete message"),L(n,"class","mini-icon"),t.disabled=e[24],L(t,"class","action-button column centered")},m(e,s){k(e,t,s),v(t,n),r||(o=T(t,"click",i),r=!0)},p(n,s){e=n,16777216&s[0]&&(t.disabled=e[24])},d(e){e&&w(t),r=!1,o()}}}function ul(e){let t,n,s;return{c(){t=_("div"),n=_("img"),c(n.src,s=e[150].image)||L(n,"src",s),L(n,"alt","Visual context"),N(n,"width","50%"),N(n,"height","auto"),L(t,"class","column centered"),N(t,"width","100%")},m(e,s){k(e,t,s),v(t,n)},p(e,t){4&t[0]&&!c(n.src,s=e[150].image)&&L(n,"src",s)},d(e){e&&w(t)}}}function dl(e){let t,n,s="system"!=e[150].role&&ol(e);return{c(){s&&s.c(),t=E()},m(e,r){s&&s.m(e,r),k(e,t,r),n=!0},p(e,n){"system"!=e[150].role?s?(s.p(e,n),4&n[0]&&se(s,1)):(s=ol(e),s.c(),se(s,1),s.m(t.parentNode,t)):s&&(te(),re(s,1,1,(()=>{s=null})),ne())},i(e){n||(se(s),n=!0)},o(e){re(s),n=!1},d(e){s&&s.d(e),e&&w(t)}}}function hl(e){let t,n,s,r=e[34]("None. Add by selecting from the feedback")+"";return{c(){t=_("span"),n=$(r),s=$(".")},m(e,r){k(e,t,r),v(t,n),v(t,s)},p(e,t){8&t[1]&&r!==(r=e[34]("None. Add by selecting from the feedback")+"")&&A(n,r)},d(e){e&&w(t)}}}function pl(e){let t,n,s,r,o,i,a,l,c,u,d,h=e[18].id+"",p=e[18].quote.slice(0,30)+"";return{c(){t=_("div"),n=_("span"),s=$("F#"),r=$(h),o=$(":"),i=$(p),a=$("..."),l=x(),c=_("button"),c.innerHTML='<img src="./logos/delete-x-svgrepo-com.svg" alt="Remove context" class="mini-icon"/>',L(t,"class","suggested-message row  svelte-qzsvuf")},m(h,p){k(h,t,p),v(t,n),v(n,s),v(n,r),v(n,o),v(n,i),v(n,a),v(t,l),v(t,c),u||(d=T(c,"click",S(e[109])),u=!0)},p(e,t){262144&t[0]&&h!==(h=e[18].id+"")&&A(r,h),262144&t[0]&&p!==(p=e[18].quote.slice(0,30)+"")&&A(i,p)},d(e){e&&w(t),u=!1,d()}}}function fl(t){return{c:e,m:e,p:e,d:e}}function gl(e){let t,n,s,r,o,i,a,l,u;return{c(){t=_("span"),t.innerHTML="<strong>Attached image:</strong>",n=x(),s=_("div"),r=_("img"),i=x(),a=_("button"),a.innerHTML='<img src="./logos/delete-x-svgrepo-com.svg" alt="Remove image" class="mini-icon"/>',c(r.src,o=e[20])||L(r,"src",o),L(r,"alt","Visual context"),N(r,"width","100%"),N(r,"height","100%"),L(s,"class","row"),N(s,"width","100%"),N(s,"height","100%")},m(o,c){k(o,t,c),k(o,n,c),k(o,s,c),v(s,r),v(s,i),v(s,a),l||(u=T(a,"click",S(e[114])),l=!0)},p(e,t){1048576&t[0]&&!c(r.src,o=e[20])&&L(r,"src",o)},d(e){e&&w(t),e&&w(n),e&&w(s),l=!1,u()}}}function ml(t){let n,s;return{c(){n=_("video"),n.innerHTML='<track kind="captions" src="blank.vtt" srclang="en"/>',c(n.src,s="video.mp4")||L(n,"src","video.mp4"),n.controls=!0,N(n,"width","100%"),N(n,"height","100%")},m(e,s){k(e,n,s),t[98](n)},p:e,d(e){e&&w(n),t[98](null)}}}function bl(e){let t,n;return{c(){t=_("audio"),c(t.src,n=e[6].audio)||L(t,"src",n),t.controls=!0,N(t,"width","100%"),N(t,"height","100%")},m(n,s){k(n,t,s),e[97](t)},p(e,s){64&s[0]&&!c(t.src,n=e[6].audio)&&L(t,"src",n)},d(n){n&&w(t),e[97](null)}}}function vl(e){let t,n,s,r;return{c(){t=_("video"),n=_("track"),L(n,"kind","captions"),c(n.src,s="blank.vtt")||L(n,"src","blank.vtt"),L(n,"srclang","en"),c(t.src,r=e[6].video)||L(t,"src",r),t.controls=!0,N(t,"width","100%"),N(t,"height","100%")},m(s,r){k(s,t,r),v(t,n),e[96](t)},p(e,n){64&n[0]&&!c(t.src,r=e[6].video)&&L(t,"src",r)},d(n){n&&w(t),e[96](null)}}}function kl(e){let t,n=e[6].transcript_list,s=[];for(let t=0;t<n.length;t+=1)s[t]=wl(Ai(e,n,t));return{c(){t=_("p");for(let e=0;e<s.length;e+=1)s[e].c();L(t,"class","spaced padded")},m(e,n){k(e,t,n);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,null)},p(e,r){if(2112&r[0]){let o;for(n=e[6].transcript_list,o=0;o<n.length;o+=1){const i=Ai(e,n,o);s[o]?s[o].p(i,r):(s[o]=wl(i),s[o].c(),s[o].m(t,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=n.length}},d(e){e&&w(t),y(s,e)}}}function wl(e){let t,n,s,o,i,a,l,c,u,d,h,p,f,g,m,b,y,E,S,H,N,P=e[147].start_timestamp+"",R=e[147].end_timestamp+"",O=e[147].speaker?e[147].speaker+":":"",C=e[147].dialogue+"";function B(){return e[99](e[147])}function F(){return e[100](e[147])}return{c(){t=_("span"),n=$("["),s=$(P),o=$("]"),i=$(" - "),a=_("span"),l=$("["),c=$(R),u=$("]"),d=x(),h=_("br"),p=x(),f=$(O),g=x(),m=_("span"),y=x(),E=_("br"),S=_("br"),L(t,"class","timestamp svelte-qzsvuf"),L(a,"class","timestamp svelte-qzsvuf"),L(m,"id",b=e[147].id),L(m,"class","svelte-qzsvuf")},m(e,r){k(e,t,r),v(t,n),v(t,s),v(t,o),k(e,i,r),k(e,a,r),v(a,l),v(a,c),v(a,u),k(e,d,r),k(e,h,r),k(e,p,r),k(e,f,r),k(e,g,r),k(e,m,r),m.innerHTML=C,k(e,y,r),k(e,E,r),k(e,S,r),H||(N=[T(t,"click",B),T(a,"click",F)],H=!0)},p(t,n){e=t,64&n[0]&&P!==(P=e[147].start_timestamp+"")&&A(s,P),64&n[0]&&R!==(R=e[147].end_timestamp+"")&&A(c,R),64&n[0]&&O!==(O=e[147].speaker?e[147].speaker+":":"")&&A(f,O),64&n[0]&&C!==(C=e[147].dialogue+"")&&(m.innerHTML=C),64&n[0]&&b!==(b=e[147].id)&&L(m,"id",b)},d(e){e&&w(t),e&&w(i),e&&w(a),e&&w(d),e&&w(h),e&&w(p),e&&w(f),e&&w(g),e&&w(m),e&&w(y),e&&w(E),e&&w(S),H=!1,r(N)}}}function yl(e){let t,n,s,o,i,a,l,c,u,d,h,p,f,g,m,b,$,E,S,A,H,P,R,C=e[36],B=[];for(let t=0;t<C.length;t+=1)B[t]=Bi(Ci(e,C,t));function F(e,t){return 0===e[17]?Ii:1===e[17]?Fi:void 0}let I=F(e),M=I&&I(e),D=e[37],z=[];for(let t=0;t<D.length;t+=1)z[t]=Fa(Hi(e,D,t));const U=[Da,Ma,Ia],q=[];function j(e,t){return 0===e[16]?0:1===e[16]?1:2===e[16]?2:-1}return~(S=j(e))&&(A=q[S]=U[S](e)),{c(){t=_("div"),n=_("div"),s=_("div"),o=_("div"),i=_("div");for(let e=0;e<B.length;e+=1)B[e].c();a=x(),l=_("div"),c=_("button"),c.innerHTML='<img src="./logos/row-vertical-svgrepo-com.svg" alt="Row view" class="mini-icon"/>',u=x(),d=_("button"),d.innerHTML='<img src="./logos/grid-svgrepo-com.svg" alt="Grid view" class="mini-icon"/>',h=x(),p=_("div"),M&&M.c(),f=x(),g=_("div"),m=_("div"),b=_("div");for(let e=0;e<z.length;e+=1)z[e].c();$=x(),E=_("div"),A&&A.c(),L(i,"class","row"),L(c,"class","tab svelte-qzsvuf"),O(c,"active","row"===e[5][e[17]]),L(d,"class","tab svelte-qzsvuf"),O(d,"active","grid"===e[5][e[17]]),L(l,"class","row"),L(o,"class","tab-header space-between svelte-qzsvuf"),L(p,"class","tab-content padded svelte-qzsvuf"),N(p,"overflow-y","auto"),L(s,"class","tabbed-area bordered svelte-qzsvuf"),L(n,"id","left-panel"),L(n,"class","column svelte-qzsvuf"),L(b,"class","tab-header svelte-qzsvuf"),L(E,"class","tab-content column svelte-qzsvuf"),L(m,"class","tabbed-area bordered svelte-qzsvuf"),L(g,"id","right-panel"),L(g,"class","column  svelte-qzsvuf"),L(t,"id","feedback-list-page"),L(t,"class","spaced svelte-qzsvuf")},m(r,w){k(r,t,w),v(t,n),v(n,s),v(s,o),v(o,i);for(let e=0;e<B.length;e+=1)B[e]&&B[e].m(i,null);v(o,a),v(o,l),v(l,c),v(l,u),v(l,d),v(s,h),v(s,p),M&&M.m(p,null),v(t,f),v(t,g),v(g,m),v(m,b);for(let e=0;e<z.length;e+=1)z[e]&&z[e].m(b,null);v(m,$),v(m,E),~S&&q[S].m(E,null),H=!0,P||(R=[T(c,"click",e[52]),T(d,"click",e[53]),T(t,"window:click",e[40])],P=!0)},p(e,t){if(131072&t[0]|32&t[1]){let n;for(C=e[36],n=0;n<C.length;n+=1){const s=Ci(e,C,n);B[n]?B[n].p(s,t):(B[n]=Bi(s),B[n].c(),B[n].m(i,null))}for(;n<B.length;n+=1)B[n].d(1);B.length=C.length}if((!H||131104&t[0])&&O(c,"active","row"===e[5][e[17]]),(!H||131104&t[0])&&O(d,"active","grid"===e[5][e[17]]),I===(I=F(e))&&M?M.p(e,t):(M&&M.d(1),M=I&&I(e),M&&(M.c(),M.m(p,null))),65536&t[0]|64&t[1]){let n;for(D=e[37],n=0;n<D.length;n+=1){const s=Hi(e,D,n);z[n]?z[n].p(s,t):(z[n]=Fa(s),z[n].c(),z[n].m(b,null))}for(;n<z.length;n+=1)z[n].d(1);z.length=D.length}let n=S;S=j(e),S===n?~S&&q[S].p(e,t):(A&&(te(),re(q[n],1,1,(()=>{q[n]=null})),ne()),~S?(A=q[S],A?A.p(e,t):(A=q[S]=U[S](e),A.c()),se(A,1),A.m(E,null)):A=null)},i(e){H||(se(A),H=!0)},o(e){re(A),H=!1},d(e){e&&w(t),y(B,e),M&&M.d(),y(z,e),~S&&q[S].d(),P=!1,r(R)}}}async function _l(e,t){const n=await fetch("/positively_paraphrase_feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({feedback:e,excerpt:t})});if(!n.ok)throw new Error("Failed to detect feedback");return(await n.json()).paraphrased_feedback}function $l(e,t=!0){e.show_paraphrased=t}const xl=(e,t)=>e-t;function El(e,t,n){let s;d(e,gs,(e=>n(34,s=e)));let{currentLocale:r}=t;yn("en",ms),yn("ja",bs),Cn({fallbackLocale:"en",initialLocale:r});let o,i,a,l,c,u,h,p,{feedback_list:f}=t,{recording:g}=t,{documents:m=[]}=t,{chatbot_messages:b=[{content:"You are an expert senior interior designer who is tasked to assist less experienced interior designers like students and junior interior designers with their work by answering their questions on a wide range of interior design topics. ",role:"system"}]}=t,{my_notes:v=[]}=t,{feedback_notes:k={}}=t,{left_display_styles:w={0:"row",1:"grid"}}=t,y=!1,_={"GPT-4o":"gpt-4o","GPT-4o Mini":"gpt-4o-mini","The Interior Design Reference & Specification GPT":"ft:gpt-4o-mini-2024-07-18:im-lab:the-interior-des:9p9NTD1W","Planning and Designers Handbook GPT":"ft:gpt-4o-mini-2024-07-18:im-lab:planning-and-des:9p9vtdRF","Interior Design Illustrated GPT":"ft:gpt-4o-mini-2024-07-18:im-lab:int-illustrated:9qXQyPfI"},$="GPT-4o",x=0,E=256,T="",S=!0,L=!0,A=0,H=0,N=[s("Critical Feedback"),s("Positive Feedback")],P=[s("Transcript"),s("Chatbot"),s("Notes")],O=!1,C="",B=0,F="",I=0,M=!1;function D(e){i===e&&n(15,i=null),n(0,f=f.filter((t=>t!==e))),n(0,f)}function z(e,t){n(15,i=e),t.stopPropagation()}let q=null,j=!0;function G(e){q===e?n(31,j=!j):(n(30,q=e),n(31,j=!0)),f.sort(((t,n)=>t[e]<n[e]?j?-1:1:t[e]>n[e]?j?1:-1:0)),n(0,f)}async function V(e,t=null){let s=e.slice();if(O)return void alert("Please wait for the current message to be processed.");if(n(24,O=!0),""===e.trim())return void alert("Please enter a message.");let r={role:"user",content:e};if(t){r.context=t;let e="\n\nHere is the piece of feedback as context.";e+="\nF#"+t.id+': "'+t.speaker+": "+t.quote+'".',s+=e}let o={message:s,image_data:null,max_output_tokens:E,temperature:x,model:_[$],refer_to_transcript:S,refer_to_documents:L};if(c&&(r.image=c),l){n(25,C="Uploading image..."),n(26,B=30);let e=await async function(e){return new Promise(((t,n)=>{const s=new FileReader;s.onload=()=>t(s.result),s.onerror=e=>n(e),s.readAsDataURL(e)}))}(l);o.image_data=e,r.image_path=await async function(e){const t=await fetch("/save_image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image_data:e})});if(!t.ok)throw new Error("Failed to save image");return(await t.json()).image_path}(e),o.image_path=r.image_path}b.push(r),n(2,b),console.log(b),n(0,f),await Le(b),n(25,C="Thinking..."),n(26,B=50);const i=await fetch("/message_chatbot",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)});if(!i.ok)throw new Error("Failed to send message");let a=(await i.json()).chatbot_response;n(25,C="Done!"),n(26,B=100),await be(1200),await ke("FeedbackList: Sent message",[e,t,c]);let u={role:"assistant",content:a};t&&(u.context=t),c&&(u.image=c),b.push(u),n(2,b),n(0,f),await Le(b),n(24,O=!1),n(26,B=0)}function Z(e){a===e?alert("This feedback is already added as context."):n(18,a=e)}async function X(e){const t=e.target.files;if(t)for(const e of t){const t=new FormData;t.append("file",e),n(28,I=50),n(27,F="Adding document... (this may take a while)");const s=await fetch("/add_document",{method:"POST",body:t});if(!s.ok)return null;let r=(await s.json()).document_name;m.push(r),n(1,m),n(27,F="Done!"),n(28,I=100),await be(1200)}}async function K(e,t){return(await fetch("/delete_document",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:e})})).ok?(m.splice(t,1),n(1,m),e):console.log(`Failed to delete document ${e}`)}async function J(){n(27,F="Removing all documents...");for(let e=0;e<m.length;e++){let t=m[e];n(28,I=e/m.length*100);try{await K(t,e)}catch(e){console.error(`Error deleting document ${t}:`,e)}}1===m.length&&await K(m[0],0),n(27,F="Done!"),n(28,I=100),await be(1e3),n(28,I=0)}let Y=!1,Q="";async function W(e,t=null,s=null){""!=e.trim()?t?t in k?(k[t].notes.push(e),n(4,k)):n(4,k[t]={notes:[e],is_adding:!1},k):(v.push(e),n(3,v)):alert("Please enter a note.")}async function ee(e,t=null){t?(k[t].notes.splice(e,1),n(4,k)):(v.splice(e,1),n(3,v))}async function te(e=null){n(32,Y=!1),W(Q,e),n(33,Q="")}return e.$$set=e=>{"currentLocale"in e&&n(50,r=e.currentLocale),"feedback_list"in e&&n(0,f=e.feedback_list),"recording"in e&&n(6,g=e.recording),"documents"in e&&n(1,m=e.documents),"chatbot_messages"in e&&n(2,b=e.chatbot_messages),"my_notes"in e&&n(3,v=e.my_notes),"feedback_notes"in e&&n(4,k=e.feedback_notes),"left_display_styles"in e&&n(5,w=e.left_display_styles)},[f,m,b,v,k,w,g,y,$,x,E,o,T,S,L,i,A,H,a,l,c,u,h,p,O,C,B,F,I,M,q,j,Y,Q,s,_,N,P,D,z,function(){n(15,i=null)},G,V,Z,X,K,J,W,ee,te,r,async e=>{n(17,H=e),await ke("FeedbackList: Switched left panel tab",N[H])},async()=>{n(5,w[H]="row",w),await ke("FeedbackList: Switched left panel display style","row")},async()=>{n(5,w[H]="grid",w),await ke("FeedbackList: Switched left panel display style","grid")},async e=>{n(16,A=0),"excerpt_reference"in e&&"start_timestamp"in e.excerpt_reference&&(we(e.excerpt_reference.start_timestamp,o),await ke("FeedbackList: Seeked to timestamp",e.excerpt_reference.start_timestamp))},async(e,t,s)=>{n(0,t[s].positivised_quote=await _l(e.quote,e.excerpt_reference.dialogue),f),$l(e,!0),n(0,f),await ke("FeedbackList: Positivize Quote",e)},async e=>{n(16,A=1),Z(e),await ke("FeedbackList: Select as context",a)},async e=>{n(16,A=2),e.id in k?n(4,k[e.id].is_adding=!0,k):n(4,k[e.id]={notes:[],is_adding:!0},k)},async e=>{D(e),await Se(f),await ke("FeedbackList: Remove critical feedback",e)},function(e,t){e[t].done=this.checked,n(0,f)},async e=>{$l(e,!1),await ke("FeedbackList: Show original quote",e.original_quote)},async e=>{$l(e,!0),await ke("FeedbackList: Show paraphrased quote",e.positivised_quote)},async(e,t)=>{z(e,t),ye(e),await ke("FeedbackList: Selected feedback",e)},async()=>{G("id"),await ke("FeedbackList: Sorted feedback","id")},async()=>{G("quote"),await ke("FeedbackList: Sorted feedback","quote")},async()=>{G("speaker"),await ke("FeedbackList: Sorted feedback","speaker")},async()=>{G("done"),await ke("FeedbackList: Sorted feedback","done")},async e=>{n(16,A=0),"excerpt_reference"in e&&"start_timestamp"in e.excerpt_reference&&(we(e.excerpt_reference.start_timestamp,o),await ke("FeedbackList: Seeked to timestamp",e.excerpt_reference.start_timestamp))},async e=>{$l(e,!1),await ke("FeedbackList: Show original quote",e.original_quote)},async e=>{$l(e,!0),await ke("FeedbackList: Show paraphrased quote",e.positivised_quote)},async(e,t,s)=>{n(0,t[s].positivised_quote=await _l(e.quote,e.excerpt_reference.dialogue),f),$l(e,!0),n(0,f),await ke("FeedbackList: Positivize Quote",e)},async e=>{n(16,A=1),Z(e),await ke("FeedbackList: Select as context",a)},async e=>{n(16,A=2),e.id in k?n(4,k[e.id].is_adding=!0,k):n(4,k[e.id]={notes:[],is_adding:!0},k)},async e=>{window.confirm("Are you sure you want to delete this feedback? This cannot be undone.")&&(D(e),await Se(f),await ke("FeedbackList: Remove critical feedback",e))},function(e,t){e[t].done=this.checked,n(0,f)},async(e,t)=>{z(e,t),ye(e),await ke("FeedbackList: Selected feedback",e)},async e=>{n(16,A=0),"excerpt_reference"in e&&"start_timestamp"in e.excerpt_reference&&(we(e.excerpt_reference.start_timestamp,o),await ke("FeedbackList: Seeked to timestamp",e.excerpt_reference.start_timestamp))},async(e,t,s)=>{n(0,t[s].positivised_quote=await _l(e.quote,e.excerpt_reference.dialogue),f),$l(e,!0),n(0,f),await ke("FeedbackList: Positivize Quote",e)},async e=>{n(16,A=1),Z(e),await ke("FeedbackList: Select as context",a)},async e=>{n(16,A=2),e.id in k?n(4,k[e.id].is_adding=!0,k):n(4,k[e.id]={notes:[],is_adding:!0},k)},async e=>{D(e),await Se(f),await ke("FeedbackList: Remove positive feedback",e)},async e=>{$l(e,!1),await ke("FeedbackList: Show original quote",e.original_quote)},async e=>{$l(e,!0),await ke("FeedbackList: Show paraphrased quote",e.positivised_quote)},async(e,t)=>{z(e,t),ye(e),await ke("FeedbackList: Selected feedback",e)},async()=>{G("id"),await ke("FeedbackList: Sorted feedback","id")},async()=>{G("quote"),await ke("FeedbackList: Sorted feedback","quote")},async()=>{G("speaker"),await ke("FeedbackList: Sorted feedback","speaker")},async e=>{n(16,A=0),"excerpt_reference"in e&&"start_timestamp"in e.excerpt_reference&&(we(e.excerpt_reference.start_timestamp,o),await ke("FeedbackList: Seeked to timestamp",e.excerpt_reference.start_timestamp))},async e=>{$l(e,!1),await ke("FeedbackList: Show original quote",e.original_quote)},async e=>{$l(e,!0),await ke("FeedbackList: Show paraphrased quote",e.positivised_quote)},async(e,t,s)=>{n(0,t[s].positivised_quote=await _l(e.quote,e.excerpt_reference.dialogue),f),$l(e,!0),n(0,f),await ke("FeedbackList: Positivize Quote",e)},async e=>{n(16,A=1),Z(e),await ke("FeedbackList: Select as context",a)},async e=>{n(16,A=2),e.id in k?n(4,k[e.id].is_adding=!0,k):n(4,k[e.id]={notes:[],is_adding:!0},k)},async e=>{window.confirm("Are you sure you want to delete this feedback? This cannot be undone.")&&(D(e),await Se(f),await ke("FeedbackList: Remove positive feedback",e))},async(e,t)=>{z(e,t),ye(e),await ke("FeedbackList: Selected feedback",e)},async e=>{n(16,A=e),await ke("FeedbackList: Switched right panel tab",P[A])},function(e){U[e?"unshift":"push"]((()=>{o=e,n(11,o)}))},function(e){U[e?"unshift":"push"]((()=>{o=e,n(11,o)}))},function(e){U[e?"unshift":"push"]((()=>{o=e,n(11,o)}))},async e=>{we(e.start_timestamp,o),await ke("FeedbackList: Seek to start timestamp",e.start_timestamp)},async e=>{we(e.end_timestamp,o),await ke("FeedbackList: Seek to end timestamp",e.end_timestamp)},function(){$=R(this),n(8,$),n(35,_)},async()=>{n(7,y=!y),await ke("FeedbackList: Toggled chatbot settings",y)},async e=>{n(16,A=2),W(e.role+": "+e.content),await Ae(v),await ke("FeedbackList: Added note to My Notes",e)},async e=>{n(16,A=2),W(e.role+": "+e.content,"id"in e.context?e.context.id:null),await He(k),await ke("FeedbackList: Added note to Feedback ID"+e.context.id,e)},async e=>{_e(e.role+": "+e.content),await ke("FeedbackList: Copied message",e)},async e=>{if(!window.confirm("Are you sure you want to delete this message? This cannot be undone."))return;let t=b.indexOf(e),s=t+1,r=b[s];await fetch("/remove_from_backend_chatbot_messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_message_idx:t,assistant_message_idx:s})}),n(2,b=b.filter((t=>t!==e))),"assistant"===r.role&&n(2,b=b.filter((e=>e!==r))),n(2,b),await Le(b),await ke("FeedbackList: Removed message",e)},function(e){B=e,n(26,B)},function(e){C=e,n(25,C)},async()=>{await ke("FeedbackList: Removed context",a),n(18,a=null)},async()=>{O||await V("Can you explain the following feedback?",a)},async()=>{O||await V("Can you brainstorm a set of actions to address the following feedback?",a)},function(){S=this.checked,n(13,S)},function(){L=this.checked,n(14,L)},async()=>{await ke("FeedbackList: Removed image",c),n(20,c=null),n(19,l=null)},function(){u=this.value,n(21,u)},function(e){U[e?"unshift":"push"]((()=>{h=e,n(22,h)}))},async()=>{n(21,u=h.files),n(20,[c,l]=await async function(e){let t=e[0];if(t){if(t.type.includes("image"))return console.log(t),[URL.createObjectURL(t),t];alert("Please select an image file.")}else console.log("No image selected.");return null}(u),c,n(19,l)),await ke(c?"FeedbackList: Uploaded image":"FeedbackList: Canceled uploading image",c)},async()=>{h.click()},function(){T=this.value,n(12,T)},e=>"Enter"===e.key&&V(T,a),async()=>{await V(T,a),n(12,T="")},function(){$=R(this),n(8,$),n(35,_)},function(e){x=e,n(9,x)},function(e){E=e,n(10,E)},function(e){I=e,n(28,I)},function(e){F=e,n(27,F)},async(e,t)=>{if(!window.confirm("Are you sure you want to delete this document? This cannot be undone."))return;n(29,M=!0),n(28,I=50),n(27,F="Removing document...");let s=await K(e,t);n(27,F="Done!"),n(28,I=100),n(29,M=!1),ke("FeedbackList: Removed document",s)},function(e){U[e?"unshift":"push"]((()=>{p=e,n(23,p)}))},async e=>{n(29,M=!0),await X(e),n(29,M=!1),await ke("FeedbackList: Added document",e.target.files)},async()=>{window.confirm("Adding a new document will take a long time, since its information will be extracted. Do you want to proceed?")&&(document.getElementById("document_file_input").click(),await ke("FeedbackList: Added document","Document"))},async()=>{window.confirm("Are you sure you want to remove all documents? This cannot be undone.")&&(n(29,M=!0),await J(),n(29,M=!1),await ke("FeedbackList: Removed all documents",m))},async(e,t)=>{ee(e),await Ae(v),await ke("FeedbackList: Removed note",t)},function(){Q=this.value,n(33,Q)},async()=>{te(),n(32,Y=!1),await Ae(v),await ke("FeedbackList: Added note to My Notes",Q)},async()=>{n(32,Y=!1),n(33,Q=""),await ke("FeedbackList: Cancelled adding note to My Notes",Q)},async()=>{n(32,Y=!0),await ke("FeedbackList: Clicked on My Notes' Add Note button",Y)},async()=>{window.confirm("Are you sure you want to delete all notes? This cannot be undone.")&&(n(3,v=[]),n(3,v),await Ae(v),await ke("FeedbackList: Removed all notes from My Notes",v))},async e=>{let t="Are you sure you want to delete this feedback notes section? This cannot be undone";k[e].notes.length>0&&(t="Are you sure you want to delete this feedback notes section? This will delete all notes and cannot be undone."),window.confirm(t)&&(delete k[e],n(4,k),await He(k),await ke("FeedbackList: Removed feedback notes section","Feedback ID"+e))},async(e,t,n)=>{ee(e,t),await He(k),await ke("FeedbackList: Removed note from Feedback ID"+t,n)},function(){Q=this.value,n(33,Q)},async e=>{te(e),n(4,k[e].is_adding=!1,k),await He(k),await ke("FeedbackList: Added note to Feedback ID"+e,Q)},async e=>{n(4,k[e].is_adding=!1,k),await ke("FeedbackList: Cancelled adding note to Feedback ID"+e,Q),n(33,Q="")},async e=>{n(4,k[e].is_adding=!0,k),await ke("FeedbackList: Clicked on Feedback ID"+e+"'s Add Note button",k[e].is_adding)},async e=>{window.confirm("Are you sure you want to delete all notes? This cannot be undone.")&&(n(4,k[e].notes=[],k),n(4,k),await He(k),await ke("FeedbackList: Removed all notes from Feedback ID"+e,k[e].notes))}]}class Tl extends pe{constructor(e){super(),he(this,e,El,yl,i,{currentLocale:50,feedback_list:0,recording:6,documents:1,chatbot_messages:2,my_notes:3,feedback_notes:4,left_display_styles:5},null,[-1,-1,-1,-1,-1,-1])}}function Sl(e){let t,n,s,r,o,i,a,l,c,u,d;function h(t){e[30](t)}function p(t){e[31](t)}function f(t){e[32](t)}function g(t){e[33](t)}function m(t){e[34](t)}function b(t){e[35](t)}function v(t){e[36](t)}function y(t){e[37](t)}let $={};return void 0!==e[10]&&($.chatbot_messages=e[10]),void 0!==e[9]&&($.documents=e[9]),void 0!==e[8]&&($.feedback_list=e[8]),void 0!==e[7]&&($.recording=e[7]),void 0!==e[11]&&($.my_notes=e[11]),void 0!==e[12]&&($.feedback_notes=e[12]),void 0!==e[6]&&($.left_display_styles=e[6]),void 0!==e[0]&&($.currentLocale=e[0]),n=new Tl({props:$}),U.push((()=>ae(n,"chatbot_messages",h))),U.push((()=>ae(n,"documents",p))),U.push((()=>ae(n,"feedback_list",f))),U.push((()=>ae(n,"recording",g))),U.push((()=>ae(n,"my_notes",m))),U.push((()=>ae(n,"feedback_notes",b))),U.push((()=>ae(n,"left_display_styles",v))),U.push((()=>ae(n,"currentLocale",y))),{c(){t=_("div"),le(n.$$.fragment),N(t,"width","100%"),N(t,"height","100%"),N(t,"background-color","#F8F9FA"),O(t,"gone",2!=e[1])},m(e,s){k(e,t,s),ce(n,t,null),d=!0},p(e,h){const p={};!s&&1024&h[0]&&(s=!0,p.chatbot_messages=e[10],X((()=>s=!1))),!r&&512&h[0]&&(r=!0,p.documents=e[9],X((()=>r=!1))),!o&&256&h[0]&&(o=!0,p.feedback_list=e[8],X((()=>o=!1))),!i&&128&h[0]&&(i=!0,p.recording=e[7],X((()=>i=!1))),!a&&2048&h[0]&&(a=!0,p.my_notes=e[11],X((()=>a=!1))),!l&&4096&h[0]&&(l=!0,p.feedback_notes=e[12],X((()=>l=!1))),!c&&64&h[0]&&(c=!0,p.left_display_styles=e[6],X((()=>c=!1))),!u&&1&h[0]&&(u=!0,p.currentLocale=e[0],X((()=>u=!1))),n.$set(p),(!d||2&h[0])&&O(t,"gone",2!=e[1])},i(e){d||(se(n.$$.fragment,e),d=!0)},o(e){re(n.$$.fragment,e),d=!1},d(e){e&&w(t),ue(n)}}}function Ll(e){let t,n,s,r,o,i;function a(t){e[27](t)}function l(t){e[28](t)}function c(t){e[29](t)}let u={};return void 0!==e[7]&&(u.recording=e[7]),void 0!==e[8]&&(u.feedback_list=e[8]),void 0!==e[0]&&(u.currentLocale=e[0]),n=new Zs({props:u}),U.push((()=>ae(n,"recording",a))),U.push((()=>ae(n,"feedback_list",l))),U.push((()=>ae(n,"currentLocale",c))),{c(){t=_("div"),le(n.$$.fragment),N(t,"width","100%"),N(t,"height","100%"),N(t,"background-color","#F8F9FA"),O(t,"gone",1!=e[1])},m(e,s){k(e,t,s),ce(n,t,null),i=!0},p(e,a){const l={};!s&&128&a[0]&&(s=!0,l.recording=e[7],X((()=>s=!1))),!r&&256&a[0]&&(r=!0,l.feedback_list=e[8],X((()=>r=!1))),!o&&1&a[0]&&(o=!0,l.currentLocale=e[0],X((()=>o=!1))),n.$set(l),(!i||2&a[0])&&O(t,"gone",1!=e[1])},i(e){i||(se(n.$$.fragment,e),i=!0)},o(e){re(n.$$.fragment,e),i=!1},d(e){e&&w(t),ue(n)}}}function Al(e){let t,n,s,o,i,a,l,c,u,d,h,p,f,g,m,b,y,E,S,P,R,C=e[13]("Enter your username")+"",B=e[13]("Register")+"",F=e[13]("Login")+"";function I(t){e[22](t)}function M(t){e[23](t)}let D={};return void 0!==e[4]&&(D.progress=e[4]),void 0!==e[5]&&(D.status=e[5]),s=new Ee({props:D}),U.push((()=>ae(s,"progress",I))),U.push((()=>ae(s,"status",M))),{c(){t=_("div"),n=_("div"),le(s.$$.fragment),a=x(),l=_("div"),c=_("label"),u=$(C),d=x(),h=_("input"),p=x(),f=_("div"),g=_("button"),m=$(B),b=x(),y=_("button"),E=$(F),L(n,"class","overlay centered padded"),O(n,"invisible",!1===e[3]),L(c,"for","username"),L(h,"type","text"),L(h,"name","username"),L(h,"id","username"),L(g,"class","svelte-lde6tu"),L(y,"class","svelte-lde6tu"),L(f,"class","row"),L(l,"class","column centered spaced"),N(l,"width","75%"),N(l,"height","75%"),L(t,"class","centered spaced"),N(t,"width","100%"),N(t,"height","100%"),O(t,"gone",0!=e[1])},m(r,o){k(r,t,o),v(t,n),ce(s,n,null),v(t,a),v(t,l),v(l,c),v(c,u),v(l,d),v(l,h),H(h,e[2]),v(l,p),v(l,f),v(f,g),v(g,m),v(f,b),v(f,y),v(y,E),S=!0,P||(R=[T(h,"input",e[24]),T(g,"click",e[25]),T(y,"click",e[26])],P=!0)},p(e,r){const a={};!o&&16&r[0]&&(o=!0,a.progress=e[4],X((()=>o=!1))),!i&&32&r[0]&&(i=!0,a.status=e[5],X((()=>i=!1))),s.$set(a),(!S||8&r[0])&&O(n,"invisible",!1===e[3]),(!S||8192&r[0])&&C!==(C=e[13]("Enter your username")+"")&&A(u,C),4&r[0]&&h.value!==e[2]&&H(h,e[2]),(!S||8192&r[0])&&B!==(B=e[13]("Register")+"")&&A(m,B),(!S||8192&r[0])&&F!==(F=e[13]("Login")+"")&&A(E,F),(!S||2&r[0])&&O(t,"gone",0!=e[1])},i(e){S||(se(s.$$.fragment,e),S=!0)},o(e){re(s.$$.fragment,e),S=!1},d(e){e&&w(t),ue(s),P=!1,r(R)}}}function Hl(e){let t,n,s,o,i,a,l,u,d,h,p,f,g,m,b,y,E,S,H,N,P,R,C,B,F,I,M,D,z,U,q,j,G,V,Z=e[13]("Welcome",{values:{username:e[2]}})+"",X=e[13]("Logout")+"",K=e[13]("Previous Page")+"",J=e[13]("Next Page")+"";const Y=[Al,Ll,Sl],Q=[];function W(e,t){return 0===e[1]?0:1===e[1]?1:2===e[1]?2:-1}return~(b=W(e))&&(y=Q[b]=Y[b](e)),{c(){t=_("main"),n=_("div"),s=_("h5"),o=$(Z),i=x(),a=_("div"),l=_("button"),l.innerHTML='<img src="./logos/usa.png" alt="United Kingdom flag" class="mini-icon"/>',u=x(),d=_("button"),d.innerHTML='<img src="./logos/jp.png" alt="Japan flag" class="mini-icon"/>',h=x(),p=_("button"),f=$(X),g=x(),m=_("div"),y&&y.c(),E=x(),S=_("div"),H=_("button"),N=_("img"),R=x(),C=$(K),F=x(),I=_("button"),M=$(J),D=x(),z=_("img"),O(s,"gone",0==e[1]),L(l,"class","action-button svelte-lde6tu"),L(d,"class","action-button svelte-lde6tu"),L(a,"class","row"),L(p,"class","row mini-padded svelte-lde6tu"),O(p,"gone",0==e[1]),L(n,"class","header row padded svelte-lde6tu"),O(n,"bordered",e[1]>0),L(m,"class","carousel-container svelte-lde6tu"),c(N.src,P="./logos/move-to-the-prev-page-symbol-svgrepo-com.svg")||L(N,"src","./logos/move-to-the-prev-page-symbol-svgrepo-com.svg"),L(N,"alt","Previous page"),L(N,"class","mini-icon"),L(H,"class","action-button row centered svelte-lde6tu"),H.disabled=B=0===e[1],O(H,"invisible",2!=e[1]||0==e[1]),c(z.src,U="./logos/move-to-the-next-page-symbol-svgrepo-com.svg")||L(z,"src","./logos/move-to-the-next-page-symbol-svgrepo-com.svg"),L(z,"alt","Next page"),L(z,"class","mini-icon"),L(I,"class","action-button row centered svelte-lde6tu"),I.disabled=q=e[1]===Nl.length-1||e[8].length<=0,O(I,"invisible",1!=e[1]||0==e[1]),L(S,"class","navigation centered spaced bordered row svelte-lde6tu")},m(r,c){k(r,t,c),v(t,n),v(n,s),v(s,o),v(n,i),v(n,a),v(a,l),v(a,u),v(a,d),v(n,h),v(n,p),v(p,f),v(t,g),v(t,m),~b&&Q[b].m(m,null),v(t,E),v(t,S),v(S,H),v(H,N),v(H,R),v(H,C),v(S,F),v(S,I),v(I,M),v(I,D),v(I,z),j=!0,G||(V=[T(l,"click",e[19]),T(d,"click",e[20]),T(p,"click",e[21]),T(H,"click",e[38]),T(I,"click",e[39])],G=!0)},p(e,t){(!j||8196&t[0])&&Z!==(Z=e[13]("Welcome",{values:{username:e[2]}})+"")&&A(o,Z),(!j||2&t[0])&&O(s,"gone",0==e[1]),(!j||8192&t[0])&&X!==(X=e[13]("Logout")+"")&&A(f,X),(!j||2&t[0])&&O(p,"gone",0==e[1]),(!j||2&t[0])&&O(n,"bordered",e[1]>0);let r=b;b=W(e),b===r?~b&&Q[b].p(e,t):(y&&(te(),re(Q[r],1,1,(()=>{Q[r]=null})),ne()),~b?(y=Q[b],y?y.p(e,t):(y=Q[b]=Y[b](e),y.c()),se(y,1),y.m(m,null)):y=null),(!j||8192&t[0])&&K!==(K=e[13]("Previous Page")+"")&&A(C,K),(!j||2&t[0]&&B!==(B=0===e[1]))&&(H.disabled=B),(!j||2&t[0])&&O(H,"invisible",2!=e[1]||0==e[1]),(!j||8192&t[0])&&J!==(J=e[13]("Next Page")+"")&&A(M,J),(!j||258&t[0]&&q!==(q=e[1]===Nl.length-1||e[8].length<=0))&&(I.disabled=q),(!j||2&t[0])&&O(I,"invisible",1!=e[1]||0==e[1])},i(e){j||(se(y),j=!0)},o(e){re(y),j=!1},d(e){e&&w(t),~b&&Q[b].d(),G=!1,r(V)}}}let Nl=3;function Pl(e,t,n){let s,r,o;d(e,gs,(e=>n(13,s=e))),d(e,Kn,(e=>n(41,o=e))),yn("en",ms),yn("ja",bs),Cn({fallbackLocale:"en",initialLocale:"en"});let i=ge(o);d(e,i,(e=>n(0,r=e))),Kn.subscribe((e=>{i.set(e)}));let a=0,l="",c="",u=!1,h=0,p="Initializing...",f={0:"grid",1:"grid"},g={},m=[],b=[],v=[{content:"You are an expert senior interior designer who is tasked to assist less experienced interior designers like students and junior interior designers with their work by answering their questions on a wide range of interior design topics. ",role:"system"}],k=[],w={};function y(e){Kn.set(e)}async function _(){if(null==l||""==l){const e=s("Please_enter_a_valid_username");throw alert(e),new Error("Please enter a valid username")}let e=await fetch("/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:l})});const t=await e.json();e.ok?e.ok&&(c=t.user_id,ve("username",l,30),ve("user_id",c,30),n(4,h=50),n(5,p=s("Loading documents...")),n(9,b=await fetch("/get_documents",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>e.documents))),n(4,h=100),n(5,p=s("Done!")),be(1500),n(1,a=1)):alert(t.message)}async function $(){if(null==l||""==l){const e=s("Please_enter_a_valid_username");throw alert(e),new Error("Please enter a valid username")}let e=await fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:l})});const t=await e.json();e.ok?e.ok&&(c=t.user_id,ve("username",l,30),ve("user_id",c,30),await async function(e){if(n(4,h=15),n(5,p=s("Loading documents")),n(9,b=await fetch("/get_documents",{method:"GET",headers:{"Content-Type":"application/json"}}).then((e=>e.json())).then((e=>e.documents))),Object.keys(g).length<=0){n(4,h=30),n(5,p=s("Loading recording"));let e=await fetch("/get_recording",{method:"GET",headers:{"Content-Type":"application/json"}}),t=await e.json();if(n(7,g=t.recording),"video_path"in g&&null!=g.video_path){n(4,h=45),n(5,p=s("Loading video"));const e=await fetch("/fetch_video",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({path:g.video_path})});if(!e.ok)throw new Error("Failed to fetch video");const t=await e.blob();n(7,g.video=URL.createObjectURL(t),g)}if("audio_path"in g&&null!=g.audio_path){n(4,h=50),n(5,p=s("Loading audio"));const e=await fetch("/fetch_audio",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({audio_path:g.audio_path})});if(!e.ok)throw new Error("Failed to fetch audio");const t=await e.blob();n(7,g.audio=URL.createObjectURL(t),g)}n(4,h=60),n(5,p=s("Loading feedback"));const r=await fetch("/get_feedback_list",{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok)throw new Error("Failed to fetch feedback list");const o=await r.json();n(8,m=o.feedback_list),n(4,h=70),n(5,p=s("Loading chatbot messages"));const i=await fetch("/get_display_chatbot_messages",{method:"GET",headers:{"Content-Type":"application/json"}});if(!i.ok)throw new Error("Failed to fetch chatbot messages");const a=await i.json();n(10,v=a.display_chatbot_messages);for(let e of v)if("image_path"in e&&null!=e.image_path){const t=await fetch("/fetch_image",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({image_path:e.image_path})});if(!t.ok)throw new Error("Failed to fetch image");const n=await t.blob();e.image=URL.createObjectURL(n)}n(4,h=80),n(5,p=s("Loading notes"));const l=await fetch("/get_my_notes",{method:"GET",headers:{"Content-Type":"application/json"}});if(!l.ok)throw new Error("Failed to fetch my notes");const c=await l.json();n(11,k=c.my_notes);const u=await fetch("/get_feedback_notes",{method:"GET",headers:{"Content-Type":"application/json"}});if(!u.ok)throw new Error("Failed to fetch feedback notes");const d=await u.json();n(12,w=d.feedback_notes),n(4,h=100),n(5,p=s("Done!")),be(1500)}}(),n(1,a=1)):alert(t.message)}function x(){ve("username","",0),ve("user_id","",0),n(2,l=""),c="",n(7,g={}),n(11,k=[]),n(12,w={}),n(8,m=[]),n(9,b=[]),n(8,m=[]),n(10,v=[{content:"You are an expert senior interior designer who is tasked to assist less experienced interior designers like students and junior interior designers with their work by answering their questions on a wide range of interior design topics. ",role:"system"}]),n(1,a=0)}M((async()=>{}));return e.$$.update=()=>{1&e.$$.dirty[0]&&Kn.set(r)},[r,a,l,u,h,p,f,g,m,b,v,k,w,s,i,y,_,$,x,()=>y("en"),()=>y("ja"),()=>x(),function(e){h=e,n(4,h)},function(e){p=e,n(5,p)},function(){l=this.value,n(2,l)},async()=>{n(3,u=!0),await _(),n(3,u=!1),n(4,h=0)},async()=>{n(3,u=!0),await $(),n(3,u=!1),n(4,h=0)},function(e){g=e,n(7,g)},function(e){m=e,n(8,m)},function(e){r=e,i.set(r)},function(e){v=e,n(10,v)},function(e){b=e,n(9,b)},function(e){m=e,n(8,m)},function(e){g=e,n(7,g)},function(e){k=e,n(11,k)},function(e){w=e,n(12,w)},function(e){f=e,n(6,f)},function(e){r=e,i.set(r)},()=>{n(1,a=1)},()=>{n(1,a=2)}]}const Rl=new class extends pe{constructor(e){super(),he(this,e,Pl,Hl,i,{},null,[-1,-1])}}({target:document.body,props:{name:"world"}});return Rl}();
//# sourceMappingURL=bundle.js.map
